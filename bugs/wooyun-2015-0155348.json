{"id": 80706, "wybug_id": "wooyun-2015-0155348", "wybug_title": "西北工业大学瓜大生活APP泄露服务器信息导致sql注入", "wybug_corp": "西北工业大学", "wybug_author": "阿金", "wybug_date": "2015-11-24 12:20", "wybug_open_date": "2016-01-11 15:32", "wybug_type": "敏感信息泄露", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["注入"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-11-24：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-11-25：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-12-05：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-12-15：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-12-25：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2016-01-11：\t细节向公众公开  简要描述： 西北工业大学瓜大生活APP反编译后泄漏服务器信息导致sql注入，可获取所有用户数据 详细说明：  将APP反编译后发现如下信息：\n\n随便找了个链接http://s-170401.gotocdn.com/back_comment_num.php，在浏览器中打开发现如下提示：\n\n数据库是MySQL的，感觉此处应该有注入，在源代码里找一下看看这条链接有哪些参数，就找到了下面这样的代码：\n\n由此可知，需要news_id和category_id两个参数，接下来在本地构造一个post请求：\n\n提交后抓包，在sqlmap下对抓到的post数据包进行测试，果然注入成功：\n\n使用sqlmap跑数据的具体过程就不说了，可以拿到所有用户的数据，如下：\n\n随便找一个帐号登录下：\n\n   漏洞证明：  \n\n\n\n\n\n   修复方案：  客户端尽量减少服务器相关信息的出现，服务器端做好参数检测工作   版权声明：转载请注明来源 阿金@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：10  确认时间：2015-11-25 15:09 厂商回复： 感谢您的报告，校园网络安全需要你们这些白帽子，问题已提交给负责老师处理。 最新状态： 暂无  ", "replys": "漏洞评价：\n评价\n     2015-11-25 21:37 |    \t\twonderkun \t\t\t( 路人 |\t\t\t        Rank:20 漏洞数:5        | 信息安全)\t\t \n  学长6666666我是西北工业大学学弟，加个好友QQ：729173164    \n     2015-11-25 21:39 |    \t\twonderkun \t\t\t( 路人 |\t\t\t        Rank:20 漏洞数:5        | 信息安全)\t\t \n  关键是你提交了 ，我得来修复   坑啊，坑啊啊啊啊啊      \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 10, "Ranks": null}