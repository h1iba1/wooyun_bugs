{"id": 15006, "wybug_id": "wooyun-2013-017417", "wybug_title": "酒美网众多问题打包", "wybug_corp": "酒美网", "wybug_author": "小胖胖要减肥", "wybug_date": "2013-01-17 10:33", "wybug_open_date": "2013-01-22 10:34", "wybug_type": "设计缺陷/逻辑错误", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "漏洞已经通知厂商但是厂商忽略漏洞", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["逻辑错误", "设计错误"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-01-17：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-01-22：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 酒美网众多问题打包，包含各种安全问题，看到基友又礼物我也忍不住 详细说明：  好吧，我就稍微说明下，各种安全问题1 邮箱注册的问题，先说找回密码的链接\nhttp://www.winenice.com/user/user_findEmailPassword.shtml?uuid=ff808081******************f25b1d0a9b\n这个uuid为固定值，是一个很多的安全风险，应该换为token，每次找回密码的地址都一样，很不安全2 重置密码时使用get方式，即使用url来传递参数，又是一个风险点，具体可谷歌3 手机注册时及找回密码时可对任意号码短信炸弹，不用说了，限制下次数吧4 手机充值密码也是get方式，风险点，可谷歌5 手机验证码为6位，但也可暴力破解，可参照wooyun以往暴力破解问题，限制失效次数6 网站对xss没有任何防护，未做任何过滤，包括送货人姓名，送货地址等，可盲打后台   漏洞证明：  \n\n问题众多，如果重视安全请一一评估，我就不截图了,要工作了正好提了另一个漏洞，补一下关于请求的问题，你们也可以做下参考 对于请求这个东西，请求分post和get一般使用form表单或者ajax提交，ajax优势在于异步，提高用户体验那么get和post的区别是什么呢，get是只有url传递参数的，全部参数都在url比较不安全，因为可以通过浏览器历史记录查看，post的url只是一个接口，参数在表单里面，如果是加密传输基本很难被破解，相比get安全很多，所以现在网站大多使用post提交。不过很多程序员会犯的一个错误是解析请求的时候，即使全部使用了post提交，但是解析的时候还是分解析方式的get使用Request.QueryString，post使用Request.Form，而部分的话直接Request.Name如果程序员没有区分解析方式就会导致post请求使用get也能触发意思就是表单参数内容可以放在url中传递，这样还是很危险的   修复方案：  1 对所有地方进行xss过滤2 传递参数方式改为post3 限制短信发送次数4 邮箱找回密码链接改为token5 使用验证码失效原则其他问题还有待发现，希望厂商重视安全，支持wooyun   版权声明：转载请注明来源 小胖胖要减肥@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：无影响厂商忽略 忽略时间：2013-01-22 10:34 厂商回复：  最新状态： 2013-01-22：确认，正在修复中~内牛满面.  ", "replys": "漏洞评价：\n评论\n     2013-01-17 10:42 |    \t\tse55i0n \t\t\t( 普通白帽子  |\t\t\t        Rank:1567 漏洞数:173        )\t\t \n  话说我这不是还没收到酒美的礼物么，表鸡动！    \n     2013-01-17 10:51 |    \t\t小胖胖要减肥  \t\t\t( 普通白帽子  |\t\t\t        Rank:686 漏洞数:101        )\t\t \n  @se55i0n 希望厂商重视安全，支持wooyun 你的ipad给我玩玩不    \n     2013-01-17 11:53 |    \t\tse55i0n \t\t\t( 普通白帽子  |\t\t\t        Rank:1567 漏洞数:173        )\t\t \n  @小胖胖要减肥 我没抢ipad...    \n     2013-01-17 15:51 |    \t\t钱途 \t\t\t( 普通白帽子  |\t\t\t        Rank:273 漏洞数:44        )\t\t \n  @se55i0n 说没说给你送干什么礼物？    \n     2013-01-17 15:53 |    \t\tse55i0n \t\t\t( 普通白帽子  |\t\t\t        Rank:1567 漏洞数:173        )\t\t \n  @钱途 哈哈，坐等收礼物咯，骚年们继续~    \n     2013-01-17 15:53 |    \t\t钱途 \t\t\t( 普通白帽子  |\t\t\t        Rank:273 漏洞数:44        )\t\t \n  @se55i0n 没给你说送什么礼物？    \n     2013-01-17 15:55 |    \t\tse55i0n \t\t\t( 普通白帽子  |\t\t\t        Rank:1567 漏洞数:173        )\t\t \n  @钱途 不会送我酒吧-_-||    \n     2013-01-17 15:55 |    \t\t钱途 \t\t\t( 普通白帽子  |\t\t\t        Rank:273 漏洞数:44        )\t\t \n  @se55i0n 送酒好啊！·做等我的ipad!    \n     2013-01-17 16:03 |    \t\tse55i0n \t\t\t( 普通白帽子  |\t\t\t        Rank:1567 漏洞数:173        )\t\t \n  @钱途 ......    \n     2013-01-17 16:04 |    \t\t小胖胖要减肥  \t\t\t( 普通白帽子  |\t\t\t        Rank:686 漏洞数:101        )\t\t \n  @钱途 @se55i0n 认真x的结果啊，盲打王    \n     2013-01-17 16:09 |    \t\t钱途 \t\t\t( 普通白帽子  |\t\t\t        Rank:273 漏洞数:44        )\t\t \n  @se55i0n ?怎么了？送的酒不想要？ 给我也行。我勉强帮你喝了    \n     2013-01-22 10:48 |    \t\t小胖胖要减肥  \t\t\t( 普通白帽子  |\t\t\t        Rank:686 漏洞数:101        )\t\t \n  @酒美网 以后问题先确认把  不确认5天自动公开    \n     2013-01-22 10:53 |    \t\tse55i0n \t\t\t( 普通白帽子  |\t\t\t        Rank:1567 漏洞数:173        )\t\t \n  杯具，公开鸟~    \n     2013-01-22 10:55 |    \t\t小胖胖要减肥  \t\t\t( 普通白帽子  |\t\t\t        Rank:686 漏洞数:101        )\t\t \n  @se55i0n 是厂商不知道确认规则唉，那么多问题处理不完就没确认。。。。。我又懒的分开提交，，，，    \n     2013-01-22 11:36 |    \t\t钱途 \t\t\t( 普通白帽子  |\t\t\t        Rank:273 漏洞数:44        )\t\t \n  这个漏洞我发过没通过审核    \n     2013-01-22 11:37 |    \t\t钱途 \t\t\t( 普通白帽子  |\t\t\t        Rank:273 漏洞数:44        )\t\t \n  我发的是盲打    \n     2013-01-22 13:51 |    \t\t小胖胖要减肥  \t\t\t( 普通白帽子  |\t\t\t        Rank:686 漏洞数:101        )\t\t \n  @xsser @酒美网  是不是适当补点rank     \n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}