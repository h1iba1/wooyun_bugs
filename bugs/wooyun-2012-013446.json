{"id": 16022, "wybug_id": "wooyun-2012-013446", "wybug_title": "腾讯微博存储型XSS漏洞--看我这标题多普通5", "wybug_corp": "腾讯", "wybug_author": "心伤的胖子", "wybug_date": "2012-10-17 11:38", "wybug_open_date": "2012-12-01 11:38", "wybug_type": "xss跨站脚本攻击", "wybug_level": "高", "wybug_rank_0": "18", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2012-10-17：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2012-10-17：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2012-10-27：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2012-11-06：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2012-11-16：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2012-12-01：\t细节向公众公开  简要描述： 胖子怎么了，么了，了！继续普通！ 详细说明：   WooYun: 腾讯微博存储型XSS漏洞--看我这标题多普通4 其实在这个漏洞里面差不多已经给提出来了，可惜你们没有深入去分析下隐藏的漏洞。1、下面图中其实是有两个错误的\n\n2、但是只给修复了其中一个，那另外一个呢？见下面的代码\n<a href=\"###\" onclick=\"setTimeout(function(){ UI.remove($('upload_pic_container')) }, 10); MI.talk('分享活动','#x&#039;);alert(document.cookie);//#这个活动【xx】挺好玩，大家快来参加吧，地址是http://event.t.qq.com/x。', 80, null, function(){window.location.reload()} );\">分享</a><span>|\n由于浏览器解析页面的时候会先把&#039;解码成'，从而在onclick的javascript环境下形成单引号闭合，从而当点击“分享”即可触发我们插入的代码。   漏洞证明：  看下图。\n\n   修复方案：  1、对不同的场景编码的方式其实是不一样的。   版权声明：转载请注明来源 心伤的胖子@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：15  确认时间：2012-10-17 15:56 厂商回复： 非常感谢您的报告。这个问题我们已经确认，正在与业务部门进行沟通制定解决方案。如有任何新的进展我们将会及时同步。 最新状态： 2012-10-18：非常感谢胖子的报告，目前已经完成对该漏洞的修复，请您帮助复查，有任何问题请联系我们。  ", "replys": "漏洞评价：\n评论\n     2012-10-17 11:47 |    \t\t葉孒 \t\t\t( 实习白帽子  |\t\t\t        Rank:37 漏洞数:5        | 呵呵)\t\t \n  留名...DZ  V587    \n     2012-10-17 11:47 |    \t\t瘦蛟舞  \t\t\t( 普通白帽子  |\t\t\t        Rank:687 漏洞数:78        | 铁甲依然在)\t\t \n  ...............................    \n     2012-10-17 11:48 |    \t\t波波虎 \t\t\t( 普通白帽子  |\t\t\t        Rank:266 漏洞数:51        | 11111111111)\t\t \n  每天都连载啊。。。。。    \n     2012-10-17 11:51 |    \t\tJannock  \t\t\t( 核心白帽子 |\t\t\t        Rank:2278 漏洞数:204        | 关注技术与网络安全（招人中，有兴趣请私信...)\t\t \n  习惯了看连载。。。    \n     2012-10-17 11:55 |    \t\tgoderci \t\t\t( 普通白帽子  |\t\t\t        Rank:542 漏洞数:47        | http://www.yunday.org)\t\t \n  @腾讯 你们不急么    \n     2012-10-17 11:57 |    \t\tJannock  \t\t\t( 核心白帽子 |\t\t\t        Rank:2278 漏洞数:204        | 关注技术与网络安全（招人中，有兴趣请私信...)\t\t \n  @goderci 应该很急，微博也会存在那么多XSS。。。    \n     2012-10-17 12:07 |    \t\t心伤的胖子 \t\t\t( 普通白帽子  |\t\t\t        Rank:308 漏洞数:29        | 因为心伤，所以胖子。)\t\t \n  真的很普通，不会捉急的！    \n     2012-10-17 12:10 |    \t\t波波虎 \t\t\t( 普通白帽子  |\t\t\t        Rank:266 漏洞数:51        | 11111111111)\t\t \n  @心伤的胖子 腾讯没联系你！    \n     2012-10-17 12:14 |    \t\tgainover  \t\t\t( 核心白帽子 |\t\t\t        Rank:1710 漏洞数:93        | PKAV技术宅社区! -- gainover| 工具猫网络-...)\t\t \n  难道楼上的同学们又要开始打赌了？    \n     2012-10-17 12:30 |    \t\t啤酒 \t\t\t( 实习白帽子  |\t\t\t        Rank:62 漏洞数:8        | 道不同.喝酒结盟)\t\t \n  每天一集    \n     2012-10-17 12:58 |    \t\tErrorera \t\t\t( 普通白帽子  |\t\t\t        Rank:112 漏洞数:21        | 我们应该在犯错误的情况下学习！)\t\t \n  准时看新闻 dz是胖子    \n     2012-10-17 12:58 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:18        | 当我又回首一切,这个世界会好吗?)\t\t \n  @波波虎 我继续赌2个wb    \n     2012-10-17 13:00 |    \t\tgoderci \t\t\t( 普通白帽子  |\t\t\t        Rank:542 漏洞数:47        | http://www.yunday.org)\t\t \n  @xsser @心伤的胖子 我还是那句话，你连载到15我乌币都给你    \n     2012-10-17 13:02 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:18        | 当我又回首一切,这个世界会好吗?)\t\t \n  @goderci 被打这种赌....    \n     2012-10-17 13:08 |    \t\t鬼魅羊羔 \t\t\t( 普通白帽子  |\t\t\t        Rank:299 漏洞数:42        | (#‵′)凸(#‵′)凸(#‵′)凸(#‵′)凸(#‵...)\t\t \n  等着看好戏、、、    \n     2012-10-17 13:35 |    \t\t心伤的胖子 \t\t\t( 普通白帽子  |\t\t\t        Rank:308 漏洞数:29        | 因为心伤，所以胖子。)\t\t \n  @goderci 不是连载到10么？    \n     2012-10-17 14:05 |    \t\tgoderci \t\t\t( 普通白帽子  |\t\t\t        Rank:542 漏洞数:47        | http://www.yunday.org)\t\t \n  @心伤的胖子 我看你越来越碉堡了，提高到15。更刺激    \n     2012-10-17 14:06 |    \t\t九零少帅 \t\t\t( 实习白帽子  |\t\t\t        Rank:43 漏洞数:10        | 喂 你干嘛哩.)\t\t \n  @心伤的胖子 不能TJ噢。不然切JJ    \n     2012-10-17 14:10 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:18        | 当我又回首一切,这个世界会好吗?)\t\t \n  @心伤的胖子 @goderci 说话要算话 到10吧 wb没了可以再挣，节操没了就没了    \n     2012-10-17 14:12 |    \t\tgoderci \t\t\t( 普通白帽子  |\t\t\t        Rank:542 漏洞数:47        | http://www.yunday.org)\t\t \n  @心伤的胖子 @xsser 这个...  我感觉到一股杀气... 胖子，我觉得你应该不会伤我心的~    \n     2012-10-17 14:32 |    \t\thorseluke \t\t\t( 普通白帽子  |\t\t\t        Rank:116 漏洞数:18        | Realize the dream in earnest.)\t\t \n  你们是在做蒲公英慢炖企鹅汤么...（背景知识：腾讯微博的标识为蒲公英）    \n     2012-10-17 14:33 |    \t\t鬼魅羊羔 \t\t\t( 普通白帽子  |\t\t\t        Rank:299 漏洞数:42        | (#‵′)凸(#‵′)凸(#‵′)凸(#‵′)凸(#‵...)\t\t \n  @horseluke 好嘛，这比喻~~    \n     2012-10-17 15:02 |    \t\t心伤的胖子 \t\t\t( 普通白帽子  |\t\t\t        Rank:308 漏洞数:29        | 因为心伤，所以胖子。)\t\t \n  楼上各位就不一一@了，我这什么都没答应了，马上就被TJ，被没节操了！别围观了，散了散了。    \n     2012-10-17 15:32 |    \t\tshack2 \t\t\t( 普通白帽子  |\t\t\t        Rank:470 漏洞数:71        | QQ:1341413415 一个热爱编程(Java),热爱网...)\t\t \n  胖子这是吃伟哥了，连续发飙    \n     2012-10-17 15:42 |    \t\thongygxiang \t\t\t( 普通白帽子  |\t\t\t        Rank:115 漏洞数:12        | 蛋疼)\t\t \n  关注，连续剧    \n     2012-10-17 15:52 |    \t\t蟋蟀哥哥 \t\t\t( 普通白帽子  |\t\t\t        Rank:363 漏洞数:57        | 巴蜀人士,80后宅男,自学成才,天朝教育失败...)\t\t \n  牛逼鸟    \n     2012-10-17 17:14 |    \t\tppt \t\t\t( 路人 |\t\t\t        Rank:11 漏洞数:2        | ) | ( 我猜出了用户名，可我没猜出密码。)\t\t \n  围观，这是什么情况。。    \n     2012-10-17 21:54 |    \t\t小黑要低调 \t\t\t( 实习白帽子  |\t\t\t        Rank:47 漏洞数:4        | 小黑一枚)\t\t \n  尼玛  这都5了。。。。    \n     2012-10-17 23:03 |    \t\tse55i0n \t\t\t( 普通白帽子  |\t\t\t        Rank:1567 漏洞数:173        )\t\t \n  洞主，快出下集~    \n     2012-10-18 00:31 |    \t\t一刀终情 \t\t\t( 普通白帽子  |\t\t\t        Rank:156 漏洞数:28        | ‮‮PKAV技术宅社区-安全爱好者)\t\t \n  我艹，才说过见到连载到5，wb感谢的；@xsser能再主站也加上感谢么？我要给胖子wb支持一下    \n     2012-10-18 10:28 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:18        | 当我又回首一切,这个世界会好吗?)\t\t \n  @一刀终情 去zone点感谢一样！    \n     2012-10-18 12:11 |    \t\tppt \t\t\t( 路人 |\t\t\t        Rank:11 漏洞数:2        | ) | ( 我猜出了用户名，可我没猜出密码。)\t\t \n  “目前已经完成对该漏洞的修复”  然后我看到6了。。。    \n     2012-10-18 12:16 |    \t\t心伤的胖子 \t\t\t( 普通白帽子  |\t\t\t        Rank:308 漏洞数:29        | 因为心伤，所以胖子。)\t\t \n  @ppt 6是另外的漏洞。    \n     2012-10-18 16:40 |    \t\tLeadUrLife \t\t\t( 普通白帽子  |\t\t\t        Rank:103 漏洞数:14        | 好好学习 天天向上)\t\t \n  关注这个胖子5下    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 15, "Ranks": null}