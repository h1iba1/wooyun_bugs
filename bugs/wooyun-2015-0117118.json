{"id": 30227, "wybug_id": "wooyun-2015-0117118", "wybug_title": "安康家园某处信息泄漏(数据库配置信息等)", "wybug_corp": "安康家园", "wybug_author": "崔超杰", "wybug_date": "2015-06-03 17:19", "wybug_open_date": "2015-07-20 17:46", "wybug_type": "敏感信息泄露", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "已交由第三方合作机构(cncert国家互联网应急中心)处理", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["内部敏感信息泄漏", "文件泄露"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-06-03：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-06-05：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-06-15：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-06-25：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-07-05：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-07-20：\t细节向公众公开  简要描述： 全线产品的数据库连接信息一览无余 详细说明：  www.ankang06.org（安康家园）隶属北京金宝威教育科技有限公司（www.kidspower.cn）\n\nhttp://www.ankang06.org/.svn/entries   svn源码泄漏漏洞，可以下载并查看全部代码\n\n\n\n真够全面的，全部都在这里了\n\n\n$InitPHP_conf['db']['default']['db_type']                   = 1; //0-单个服务器，1-读写分离，2-随机$InitPHP_conf['db']['default'][0]['host']                   = '192.168.127.100'; //主机$InitPHP_conf['db']['default'][0]['username']               = 'root'; //数据库用户名$InitPHP_conf['db']['default'][0]['password']               = 'PE2950DBAnkanG06'; //数据库密码$InitPHP_conf['db']['default'][0]['database']               = 'ankang_core'; //数据库$InitPHP_conf['db']['default'][0]['charset']                = 'utf8'; //数据库编码$InitPHP_conf['db']['default'][0]['pconnect']               = 0; //是否持久链接$InitPHP_conf['db']['default'][1]['host']                   = '192.168.127.110'; //主机$InitPHP_conf['db']['default'][1]['username']               = 'root'; //数据库用户名$InitPHP_conf['db']['default'][1]['password']               = 'PE2950DBAnkanG06'; //数据库密码$InitPHP_conf['db']['default'][1]['database']               = 'ankang_core'; //数据库$InitPHP_conf['db']['default'][1]['charset']                = 'utf8'; //数据库编码$InitPHP_conf['db']['default'][1]['pconnect']               = 0; //是否持久链接//activity数据库配置,用于活动类数据 使用：$this->init_db('activity')->  支持读写分离，随机选择（有两个数据库）$InitPHP_conf['db']['activity']['db_type']                      = 1; //0-单个服务器，1-读写分离，2-随机$InitPHP_conf['db']['activity'][0]['host']                      = '192.168.127.100'; //主机$InitPHP_conf['db']['activity'][0]['username']                  = 'root'; //数据库用户名$InitPHP_conf['db']['activity'][0]['password']                  = 'PE2950DBAnkanG06'; //数据库密码$InitPHP_conf['db']['activity'][0]['database']                  = 'ankang_activity'; //数据库$InitPHP_conf['db']['activity'][0]['charset']                   = 'utf8'; //数据库编码$InitPHP_conf['db']['activity'][0]['pconnect']                  = 0; //是否持久链接$InitPHP_conf['db']['activity'][1]['host']                      = '192.168.127.110'; //主机$InitPHP_conf['db']['activity'][1]['username']                  = 'root'; //数据库用户名$InitPHP_conf['db']['activity'][1]['password']                  = 'PE2950DBAnkanG06'; //数据库密码$InitPHP_conf['db']['activity'][1]['database']                  = 'ankang_activity'; //数据库$InitPHP_conf['db']['activity'][1]['charset']                   = 'utf8'; //数据库编码$InitPHP_conf['db']['activity'][1]['pconnect']                  = 0; //是否持久链接//cms数据库配置,用于活动类数据 使用：$this->init_db('cms')->  支持读写分离，随机选择（有两个数据库）$InitPHP_conf['db']['cms']['db_type']                      = 0; //0-单个服务器，1-读写分离，2-随机$InitPHP_conf['db']['cms'][0]['host']                      = '192.168.127.103'; //主机$InitPHP_conf['db']['cms'][0]['username']                  = 'ankang_cms'; //数据库用户名$InitPHP_conf['db']['cms'][0]['password']                  = 'AnkanG)^_CMS'; //数据库密码$InitPHP_conf['db']['cms'][0]['database']                  = 'ankang_cms'; //数据库$InitPHP_conf['db']['cms'][0]['charset']                   = 'utf8'; //数据库编码$InitPHP_conf['db']['cms'][0]['pconnect']                  = 0; //是否持久链接$InitPHP_conf['db']['cms'][1]['host']                      = '192.168.127.103'; //主机$InitPHP_conf['db']['cms'][1]['username']                  = 'ankang_cms'; //数据库用户名$InitPHP_conf['db']['cms'][1]['password']                  = 'AnkanG)^_select'; //数据库密码$InitPHP_conf['db']['cms'][1]['database']                  = 'ankang_cms'; //数据库$InitPHP_conf['db']['cms'][1]['charset']                   = 'utf8'; //数据库编码$InitPHP_conf['db']['cms'][1]['pconnect']                  = 0; //是否持久链接\n内网ip，连接比较麻烦，就不搞了，仅证明漏洞存在的严重性，不深挖，尽快修复！   漏洞证明：  \n\n\n$InitPHP_conf['db']['default']['db_type']                   = 1; //0-单个服务器，1-读写分离，2-随机$InitPHP_conf['db']['default'][0]['host']                   = '192.168.127.100'; //主机$InitPHP_conf['db']['default'][0]['username']               = 'root'; //数据库用户名$InitPHP_conf['db']['default'][0]['password']               = 'PE2950DBAnkanG06'; //数据库密码$InitPHP_conf['db']['default'][0]['database']               = 'ankang_core'; //数据库$InitPHP_conf['db']['default'][0]['charset']                = 'utf8'; //数据库编码$InitPHP_conf['db']['default'][0]['pconnect']               = 0; //是否持久链接$InitPHP_conf['db']['default'][1]['host']                   = '192.168.127.110'; //主机$InitPHP_conf['db']['default'][1]['username']               = 'root'; //数据库用户名$InitPHP_conf['db']['default'][1]['password']               = 'PE2950DBAnkanG06'; //数据库密码$InitPHP_conf['db']['default'][1]['database']               = 'ankang_core'; //数据库$InitPHP_conf['db']['default'][1]['charset']                = 'utf8'; //数据库编码$InitPHP_conf['db']['default'][1]['pconnect']               = 0; //是否持久链接//activity数据库配置,用于活动类数据 使用：$this->init_db('activity')->  支持读写分离，随机选择（有两个数据库）$InitPHP_conf['db']['activity']['db_type']                      = 1; //0-单个服务器，1-读写分离，2-随机$InitPHP_conf['db']['activity'][0]['host']                      = '192.168.127.100'; //主机$InitPHP_conf['db']['activity'][0]['username']                  = 'root'; //数据库用户名$InitPHP_conf['db']['activity'][0]['password']                  = 'PE2950DBAnkanG06'; //数据库密码$InitPHP_conf['db']['activity'][0]['database']                  = 'ankang_activity'; //数据库$InitPHP_conf['db']['activity'][0]['charset']                   = 'utf8'; //数据库编码$InitPHP_conf['db']['activity'][0]['pconnect']                  = 0; //是否持久链接$InitPHP_conf['db']['activity'][1]['host']                      = '192.168.127.110'; //主机$InitPHP_conf['db']['activity'][1]['username']                  = 'root'; //数据库用户名$InitPHP_conf['db']['activity'][1]['password']                  = 'PE2950DBAnkanG06'; //数据库密码$InitPHP_conf['db']['activity'][1]['database']                  = 'ankang_activity'; //数据库$InitPHP_conf['db']['activity'][1]['charset']                   = 'utf8'; //数据库编码$InitPHP_conf['db']['activity'][1]['pconnect']                  = 0; //是否持久链接//cms数据库配置,用于活动类数据 使用：$this->init_db('cms')->  支持读写分离，随机选择（有两个数据库）$InitPHP_conf['db']['cms']['db_type']                      = 0; //0-单个服务器，1-读写分离，2-随机$InitPHP_conf['db']['cms'][0]['host']                      = '192.168.127.103'; //主机$InitPHP_conf['db']['cms'][0]['username']                  = 'ankang_cms'; //数据库用户名$InitPHP_conf['db']['cms'][0]['password']                  = 'AnkanG)^_CMS'; //数据库密码$InitPHP_conf['db']['cms'][0]['database']                  = 'ankang_cms'; //数据库$InitPHP_conf['db']['cms'][0]['charset']                   = 'utf8'; //数据库编码$InitPHP_conf['db']['cms'][0]['pconnect']                  = 0; //是否持久链接$InitPHP_conf['db']['cms'][1]['host']                      = '192.168.127.103'; //主机$InitPHP_conf['db']['cms'][1]['username']                  = 'ankang_cms'; //数据库用户名$InitPHP_conf['db']['cms'][1]['password']                  = 'AnkanG)^_select'; //数据库密码$InitPHP_conf['db']['cms'][1]['database']                  = 'ankang_cms'; //数据库$InitPHP_conf['db']['cms'][1]['charset']                   = 'utf8'; //数据库编码$InitPHP_conf['db']['cms'][1]['pconnect']                  = 0; //是否持久链接\n内网ip，连接比较麻烦，就不搞了，仅证明漏洞存在的严重性，不深挖，尽快修复！   修复方案：  删除文件，控制权限，修改数据库连接信息   版权声明：转载请注明来源 崔超杰@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：8  确认时间：2015-06-05 17:44 厂商回复：   最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 8, "Ranks": null}