{"id": 7766, "wybug_id": "wooyun-2013-040462", "wybug_title": "百度某站平行权限任意删除对方留言", "wybug_corp": "百度", "wybug_author": "Hxai11", "wybug_date": "2013-10-20 22:14", "wybug_open_date": "2013-12-04 22:15", "wybug_type": "设计缺陷/逻辑错误", "wybug_level": "高", "wybug_rank_0": "11", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-10-20：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-10-21：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2013-10-31：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2013-11-10：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2013-11-20：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2013-12-04：\t细节向公众公开  简要描述： 百度分站平行权限任意删除用户留言 详细说明：  http://lvyou.baidu.com无意中发现在用户留言处能够平行权限，任意删除对方留言，只是利用条件有点苛刻看图\n\n这个是账号a，我在自己留言处发了一条留言。。进行抓包看看就是这段数据，我们将它记录下来。。\n\n之后呢，我们用第二个账户登录\n\n之后我们在第二个账户的留言处随便留言，之后对其中一条留言抓包删除之后我将uid= 和reply_id=这两处的内容改为刚刚我们第一个账户抓包到的内容。\n\n之后方包，我们再去到第一个账户看看\n\n之前留言的内容已经没了哦，删除成功。关于reply_id的问题，reply_id其实就是留言的id，如果不知道的话其实可以推测，一般用户前几条的reply_id= 都是以前四位是3010，之后的三位数字可以推测的！！！   漏洞证明：  \n\n   修复方案：  你们懂，我对修复好像真的不懂   版权声明：转载请注明来源 Hxai11@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：6  确认时间：2013-10-21 13:56 厂商回复： 感谢对百度安全的关注，我们已经立即处理此问题，多谢反馈。--“百度，因你更安全” 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-10-21 09:18 |    \t\txsjswt \t\t\t( 普通白帽子  |\t\t\t        Rank:156 漏洞数:49        | 我思故我猥琐，我猥琐故我强大)\t\t \n  @小川 怎么不是你    \n     2013-10-21 09:23 |    \t\t小川  \t\t\t( 核心白帽子 |\t\t\t        Rank:1344 漏洞数:216        | 一个致力要将乌云变成搞笑论坛的男人)\t\t \n  @xsjswt 我已经不平行很多年    \n     2013-10-21 09:31 |    \t\tHxai11 \t\t\t( 普通白帽子  |\t\t\t        Rank:1137 漏洞数:218        | 于是我们奋力向前游，逆流而上的小舟，不停...)\t\t \n  @小川 原来是平行牛啊，平行时空下的约定，哈哈    \n     2013-10-21 16:32 |    \t\t寂寞的瘦子 \t\t\t( 普通白帽子  |\t\t\t        Rank:242 漏洞数:53        | 一切语言转汇编理论)\t\t \n  @小川 话说我觉得你有些平行其实本质是csrf。不是吗？    \n     2013-10-21 16:52 |    \t\t小川  \t\t\t( 核心白帽子 |\t\t\t        Rank:1344 漏洞数:216        | 一个致力要将乌云变成搞笑论坛的男人)\t\t \n  @寂寞的瘦子 CSRF和平行越权我还是分的清的    \n     2013-10-21 17:37 |    \t\t寂寞的瘦子 \t\t\t( 普通白帽子  |\t\t\t        Rank:242 漏洞数:53        | 一切语言转汇编理论)\t\t \n  @小川 我在书上看到比如受害者在某论坛点击一个攻击者的构造的链接。然后删除了第三个人在该论坛的留言。管这个叫csrf，但是感觉也是个越权删除。求区分。。。    \n     2013-10-21 17:40 |    \t\t小川  \t\t\t( 核心白帽子 |\t\t\t        Rank:1344 漏洞数:216        | 一个致力要将乌云变成搞笑论坛的男人)\t\t \n  @寂寞的瘦子 越权的话，是你构造的请求可直接更改对方用户数据，但是CSRF本身是做了权限验证，需要找个妹子引诱对方触发请求从而造成威胁。    \n     2013-10-21 17:44 |    \t\t小川  \t\t\t( 核心白帽子 |\t\t\t        Rank:1344 漏洞数:216        | 一个致力要将乌云变成搞笑论坛的男人)\t\t \n  @xsjswt 我也不想越权了，刷个小米就收手吧，已经无欲无求了。乌云神器刷到死我也得不着，还是算了，越权隐退了！    \n     2013-10-21 20:04 |    \t\t寂寞的瘦子 \t\t\t( 普通白帽子  |\t\t\t        Rank:242 漏洞数:53        | 一切语言转汇编理论)\t\t \n  嗯嗯。你打算隐退，那可爱的小漫画还会不会有    \n     2013-10-21 21:01 |    \t\t小龙 \t\t\t( 普通白帽子  |\t\t\t        Rank:1208 漏洞数:316        | 乌云有着这么一群人，在乌云学技术，去某数...)\t\t \n  这是百度旅游的？    \n     2013-10-22 08:32 |    \t\txsjswt \t\t\t( 普通白帽子  |\t\t\t        Rank:156 漏洞数:49        | 我思故我猥琐，我猥琐故我强大)\t\t \n  @小川 。。。    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 6, "Ranks": null}