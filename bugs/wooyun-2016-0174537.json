{"id": 74635, "wybug_id": "wooyun-2016-0174537", "wybug_title": "酷米网配置缺陷导致数据库配置信息泄露", "wybug_corp": "kumi.cn", "wybug_author": "路人甲", "wybug_date": "2016-02-03 11:19", "wybug_open_date": "2016-02-21 20:20", "wybug_type": "应用配置错误", "wybug_level": "中", "wybug_rank_0": "9", "wybug_status": "漏洞已经通知厂商但是厂商忽略漏洞", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["配置错误"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2016-02-03：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2016-02-21：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 酷米网配置缺陷导致数据库配置信息泄露 详细说明：  服务器配置缺陷  导致http://images.kumi.cn/include/config.inc.php直接可以下载 没有被解析。\n\n<?php//数据库配置信息//define('DB_HOST', '10.1.35.241:3306'); // 测试内网数据库//define('DB_HOST', '10.254.244.19:5306'); // 正式 云 外网数据库//define('DB_USER', 'kumiapp'); //数据库帐号 10.254.244.19:5306//define('DB_PW', 'kumi_dD5olZ1'); //数据库密码*/define('DB_HOST', '10.254.244.19:5306'); //数据库服务器主机地址define('DB_USER', 'root'); //数据库帐号define('DB_PW', 'tiantian@kumi_123'); //数据库密码define('DB_NAME', 'kumi_cms2'); //数据库名define('DB_PRE', 'cms_'); //数据库表前缀，同一数据库安装多套Phpcms时，请修改表前缀define('DB_CHARSET', 'utf8'); //数据库字符集define('DB_PCONNECT', 0); //0 或1，是否使用持久连接define('DB_DATABASE', 'mysql'); //数据库类型//网站路径配置define('PHPCMS_PATH', '/'); //Phpcms框架访问路径，相对于域名//shtml 支持define('SHTML', 0); //是否支持 shtml，需要服务器支持，并且生成文件扩展名为 shtml//数据存文本目录define('CONTENT_ROOT', PHPCMS_ROOT.'data/txt/'); //默认存储路径//缓存配置define('CACHE_STORAGE', 'files'); //Cache 存储方式（files, mysql, apc, eaccelerator, memcache, shmop）define('CACHE_PATH', PHPCMS_ROOT.'data/cache/'); //缓存默认存储路径define('CACHE_MODEL_PATH', PHPCMS_ROOT.'data/cache_model/'); //模型缓存存储路径//页面缓存配置define('CACHE_PAGE', 0); //是否开启PHP页面自动缓存功能define('CACHE_PAGE_PATH', PHPCMS_ROOT.'data/cache_page/'); //缓存存储路径define('CACHE_PAGE_TTL', 0); //秒，缓存默认生命周期define('CACHE_PAGE_INDEX_TTL', 0); //秒，缓存默认生命周期define('CACHE_PAGE_CATEGORY_TTL', 0); //秒，缓存默认生命周期define('CACHE_PAGE_LIST_TTL', 0); //秒，缓存默认生命周期define('CACHE_PAGE_CONTENT_TTL', 0); //秒，缓存默认生命周期/*define('CACHE_PAGE_TTL', 3600); //秒，缓存默认生命周期define('CACHE_PAGE_INDEX_TTL', 300); //秒，缓存默认生命周期define('CACHE_PAGE_CATEGORY_TTL', 600); //秒，缓存默认生命周期define('CACHE_PAGE_LIST_TTL', 900); //秒，缓存默认生命周期define('CACHE_PAGE_CONTENT_TTL', 14400); //秒，缓存默认生命周期*///Session配置define('SESSION_STORAGE', 'mysql'); //Session 存储方式（files, mysql, apc, eaccelerator, memcache, shmop）define('SESSION_TTL', 1800); //Session 生命周期（秒）define('SESSION_SAVEPATH', PHPCMS_ROOT.'/data/sessions/'); //Session 保存路径（files）define('SESSION_N', 0); //Session 文件分布的目录深度（files）//MemCache服务器配置define('MEMCACHE_HOST', 'localhost'); //MemCache服务器主机define('MEMCACHE_PORT', 11211); //MemCache服务器端口define('MEMCACHE_TIMEOUT', 1); //S，MemCache服务器连接超时//Cookie配置define('COOKIE_DOMAIN', ''); //Cookie 作用域define('COOKIE_PATH', '/'); //Cookie 作用路径define('COOKIE_PRE', 'sUPkhlUTvb'); //Cookie 前缀，同一域名下安装多套Phpcms时，请修改Cookie前缀define('COOKIE_TTL', 0); //Cookie 生命周期，0 表示随浏览器进程//模板相关配置define('TPL_ROOT', PHPCMS_ROOT.'templates/'); //模板保存物理路径define('TPL_NAME', 'kumi'); //当前模板方案目录define('TPL_CSS', 'default'); //当前样式目录define('TPL_CACHEPATH', PHPCMS_ROOT.'data/cache_template/'); //模板缓存物理路径define('TPL_REFRESH', 1); //是否开启模板缓存自动刷新//附件相关配置define('UPLOAD_FRONT', 1); //是否允许前台上传附件define('UPLOAD_ROOT', PHPCMS_ROOT.'uploadfile/'); //附件保存物理路径define('UPLOAD_URL', 'uploadfile/'); //附件目录访问路径define('UPLOAD_ALLOWEXT', 'doc|docx|xls|ppt|wps|zip|rar|txt|jpg|jpeg|gif|bmp|swf|png'); //允许上传的文件后缀，多个后缀用“|”分隔define('UPLOAD_MAXSIZE', 5000000); //允许上传的附件最大值define('UPLOAD_MAXUPLOADS', 100); //前台同一IP 24小时内允许上传附件的最大个数define('UPLOAD_FUNC', 'copy'); //文件上传函数（copy, move_uploaded_file）//Ftp相关配置define('FTP_ENABLE', 0); //Ftp主机define('FTP_HOST', '127.0.0.1'); //Ftp主机define('FTP_PORT', '21'); //Ftp端口define('FTP_USER', ''); //Ftp帐号define('FTP_PW', ''); //Ftp密码define('FTP_PATH', '/'); //Ftp默认路径define('CHARSET', 'utf-8'); //网站字符集define('TIMEZONE', 'Etc/GMT-8'); //网站时区（只对php 5.1以上版本有效），Etc/GMT-8 实际表示的是 GMT+8define('DEBUG', 0); //是否显示调试信息define('ADMIN_LOG', 1); //是否记录后台操作日志define('ERRORLOG', 0); //是否保存错误日志define('FILTER_ENABLE', 1); //非法信息屏蔽作用范围（0 禁用，1 前台，2 全站）define('GZIP', 0); //是否Gzip压缩后输出define('AUTH_KEY', 'bbXziRNVZWNhGksGBIyS'); //Cookie密钥define('PASSWORD_KEY', 'changeme'); //会员密码密钥，为了加强密码强度防止暴力破解，不可更改define('MEMBER_FIELDS', 'username,password,groupid,email,areaid,amount,point,modelid,message'); //默认读取的会员全局变量字段define('ALLOWED_HTMLTAGS', '<a><p><br><hr><h1><h2><h3><h4><h5><h6><font><u><i><b><strong><div><span><ol><ul><li><img><table><tr><td><map>'); //前台发布信息允许的HTML标签，可防止XSS跨站攻击define('LANG', 'zh-cn'); //网站语言包define('ADMIN_FOUNDERS', '1'); //网站创始人ID，多个ID逗号分隔//安全相关配置define('FILE_MANAGER', '0'); // 是否允许使用文件管理器 1=是 0=否[安全]define('ACTION_TEMPLATE', '0'); //是否允许使用模板修改 1=是 0=否[安全]define('EXECUTION_SQL', '0'); //是否允许执行SQL        1=是 0=否[安全]//小游戏数据库define('DB_HOST_xiaoyouxi','10.254.244.19:5306');define('DB_USER_xiaoyouxi','kumiapp');define('DB_PW_xiaoyouxi','kumi_dD5olZ1');define('DB_DB_xiaoyouxi','xiaoyouxi');//学堂数据库define('DB_HOST_xue','10.254.244.19:5306');define('DB_USER_xue','kumiapp');define('DB_PW_xue','kumi_dD5olZ1');define('DB_DB_xue','kumi_eduflash');//资讯数据库define('DB_HOST_zixun','10.254.244.19:5306');define('DB_USER_zixun','kumiapp');define('DB_PW_zixun','kumi_dD5olZ1');define('DB_DB_zixun','kumi_news');?>   漏洞证明：     修复方案：     版权声明：转载请注明来源 路人甲@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：无影响厂商忽略 忽略时间：2016-02-21 20:20 厂商回复：  漏洞Rank：2  (WooYun评价) 最新状态： 暂无  ", "replys": "漏洞评价：\n评价\n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}