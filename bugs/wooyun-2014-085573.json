{"id": 47741, "wybug_id": "wooyun-2014-085573", "wybug_title": "UCweb运维不当导致几处敏感信息泄漏（数据库、日志等）", "wybug_corp": "UC Mobile", "wybug_author": "紫衣大侠", "wybug_date": "2014-12-02 15:53", "wybug_open_date": "2015-01-16 15:54", "wybug_type": "敏感信息泄露", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["敏感信息泄露"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-12-02：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-12-02：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2014-12-12：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2014-12-22：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-01-01：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-01-16：\t细节向公众公开  简要描述： 信息泄漏.... 详细说明：     1.mysql帐号弱口令    db_host => 119.147.224.171      db_port =>  3306   db_username => nemo   db_password => nemo   里面的数据表很多，泄漏了很多敏感信息.  \n\n   2. 门户日志泄漏   url: http://211.103.26.116/logs/            http://117.135.147.168/logs/    泄漏了大量的日志记录，里面包含很多用户登录的cookie信息. \n\n   3. 数据库备份文件下载：    http://112.91.128.40/include/config.php.bak    http://121.14.161.108/include/config.php.bak     http://112.91.132.124/include/config.php.bak  \n\n\n<?php/*=== 数据库配?DB) ===*///数据库类?define(\"DB_DIALECT\",\"mysql\");//数据库服务器地址//define(\"DB_HOST\",\"221.**.**.192:9835\");//define(\"DB_HOST\",\"192.168.26.93\");define(\"DB_HOST\",\"ucundb.uc.local:3306\");//define(\"DB_HOST\",\"10.20.193.115:3306\");//数据库用户名define(\"DB_USER\",\"ucunion\");//数据库密?define(\"DB_PASS\",\"di8*******cqY\");//数据库名?define(\"DB_NAME\",\"ucunion\");//通用数据库错?define(\"DB_ERR\",\"Database error!\");//无法连接数据?define(\"DB_ERR_HOST\",\"Unable to connect the host!\");//数据库不存在define(\"DB_ERR_SCHEMA\",\"Schema unavailable!\");//数据查询错误define(\"DB_ERR_QUERY\",\"SQL query error!\");/*=== 日志配置(LG) ===*///日志模式define(\"LG_MODE\",\"sql\");//日志存放路径define(\"LG_PATH\",\"/log/sql\");/*=== 脚印配置(FP) ===*///左脚define(\"FP_LEFT\",\"on\");define(\"FP_LEFT_PATH\",\"/log/fp/left/\");//右脚define(\"FP_RIGHT\",\"on\");define(\"FP_RIGHT_PATH\",\"/log/fp/right/\");/*=== 操作类型配置(DO) ===*/define(\"DO_SAVE\",1);define(\"DO_SELECT\",2);define(\"DO_UPDATE\",3);define(\"DO_DELETE\",4);/*=== 通用接口被指(CL) ===*///define(\"CL_URL\",\"http://221.**.**.192:9845/click?\");define(\"CL_URL\",\"http://adsclick.uc123.com/click?\");/*=== 服务器集群配?===*/define(\"SERVER_DH\",\"10.20.101.101;10.20.101.108\");/*=== Memcache配置 ===*/define(\"MEMCACHE_PORT\",\"31211\");?>\n 由于mysql处在内网中，无法验证帐号密码是否正确~~~   phpinfo:            http://www.uc.cn/test.php           http://111.161.46.105/info.php   最后附送一个反射xss     http://121.14.161.189/a.php?id=%3Csvg/onload=alert(/1/)%3E  \n\n   一处Resin文件读取漏洞：   http://163.177.128.218:8080/resin-doc/viewfile/?contextpath=/&servletpath=&file=index.jsp        漏洞证明：  \n\n \n\n    修复方案：    你们懂的~~~   版权声明：转载请注明来源 紫衣大侠@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：20  确认时间：2014-12-02 16:16 厂商回复： 漏洞存在，已转给相关同事处理，非常感谢！ 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 20, "Ranks": null}