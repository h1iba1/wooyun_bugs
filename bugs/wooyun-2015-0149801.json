{"id": 82830, "wybug_id": "wooyun-2015-0149801", "wybug_title": "中国数字大学城存在文件上传漏洞导致数十万条学生和教师信息泄露", "wybug_corp": "中国数字大学城", "wybug_author": "路人甲", "wybug_date": "2015-10-27 14:32", "wybug_open_date": "2015-12-14 17:52", "wybug_type": "文件上传导致任意代码执行", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "已交由第三方合作机构(cncert国家互联网应急中心)处理", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["大批量学生信息泄露"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-10-27：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-10-30：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-11-09：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-11-19：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-11-29：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-12-14：\t细节向公众公开  简要描述：  详细说明：  系统网址为http://**.**.**.**/sc8/登录界面\n\n使用某学生弱口令账号登录，发现在设置-》个人介绍功能处使用富文本编辑，可以上传图片，通过burp修改后缀名可以上传jsp木马。\n\n   漏洞证明：  上传jsp大马，连接成功截图如下：\n\n代码配置文件所在路径：\n\n从配置文件中找到数据库用户名密码\n\nps：数据库开放3306端口，远程连接仅能访问部分数据库，不能访问关键数据库，所以使用大马本地连接数据库，以下是其中student数据库的部分信息截图，\n\n\n\n\n\n粗略看一下，这个表有70W条数据，还有teacher表，以及课程、成绩等表等等   修复方案：  没什么可说的，对上传文件类型进行检查，其实系统大部分文件上传的功能处都做了处理，只不过富文本提交的地方没处理关闭3306端口系统还存在一些越权问题，这小问题就先不说了   版权声明：转载请注明来源 路人甲@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：10  确认时间：2015-10-30 17:51 厂商回复： 塞尔网络：CNVD确认所述情况，已经转由CNCERT下发给赛尔教育，由其后续协调网站管理单位处置。 最新状态： 暂无  ", "replys": "漏洞评价：\n评价\n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 10, "Ranks": null}