{"id": 78498, "wybug_id": "wooyun-2015-0160267", "wybug_title": "优居客Redis未授权访问导致绕过SSH认证登录(redis+ssh-keygen免认证登录案例)", "wybug_corp": "优居客", "wybug_author": "pudding2", "wybug_date": "2015-12-11 10:44", "wybug_open_date": "2016-01-23 15:16", "wybug_type": "未授权访问/权限绕过", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "未联系到厂商或者厂商积极忽略", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["未授权访问"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-12-11：\t积极联系厂商并且等待厂商认领中，细节不对外公开\t\t\t\t\t\t\t\t\t2016-01-23：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 优居客Redis未授权访问导致绕过SSH认证登录（root权限）(redis+ssh-keygen免认证登录案例) 详细说明：  1、测试http://www.youjuke.com/存在redis未授权访问漏洞\n\n2、上传本地生成的RSA公钥后，使用命令ssh -i /root/.ssh/id_rsa root@www.youjuke.com，以root权限登录系统\n\n   漏洞证明：  \n\n   修复方案：  修复建议：    1、配置bind选项，限定可以连接Redis服务器的IP，修改 Redis 的默认端口6379    2、配置认证，也就是AUTH，设置密码，密码会以明文方式保存在Redis配置文件中    3、配置rename-command 配置项 “RENAME_CONFIG”，这样即使存在未授权访问，也能够给攻击者使用config 指令加大难度    4、Redis作者表示将会开发”real user”，区分普通用户和admin权限，普通用户将会被禁止运行某些命令，如config   版权声明：转载请注明来源 pudding2@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 未能联系到厂商或者厂商积极拒绝  ", "replys": "漏洞评价：\n评价\n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}