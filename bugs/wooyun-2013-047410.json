{"id": 6069, "wybug_id": "wooyun-2013-047410", "wybug_title": "百度搜索存储型XSS", "wybug_corp": "百度", "wybug_author": "白非白", "wybug_date": "2013-12-30 15:13", "wybug_open_date": "2014-02-13 15:13", "wybug_type": "xss跨站脚本攻击", "wybug_level": "高", "wybug_rank_0": "10", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["持久型", "存储型"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-12-30：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-12-30：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2014-01-09：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2014-01-19：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2014-01-29：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2014-02-13：\t细节向公众公开  简要描述： 百度躺着也中枪 详细说明：  今天突然想起一个问题，想去知乎查一下答案，结果用百度搜索“知乎”时，莫名其妙被alert(1)。见图：\n\n。当时我和我的小伙伴就震惊了，第一件事就是修改了百度的密码。。。改完密码淡定一下，查一下原因吧，用burp抓包，在所有response中查找alert(1)字符串，放到repeater中重现，如下图：\n\n可以发现，xss代码出现在知乎的新浪微波！元凶就是知乎发了一条微薄被百度收录并且未过滤xss代码。如下图：\n\n小菜有一处不明白：是不是所有微薄大v发XSS代码，都可以XSS到搜索该大v关键词或相关关键词的百度用户呢？应该是吧。   漏洞证明：  \n\n   修复方案：  在新浪微薄抓取内容应该要过滤或者编码处理吧。。。第一次给百度提交，而且还是在这么奇葩的条件下发现的。。。不知道有没有小公仔之类的让我过个新年～～意淫一下。。。   版权声明：转载请注明来源 白非白@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：11  确认时间：2013-12-30 15:30 厂商回复： 感谢提交，安全组立即联系业务部门处理此问题。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-12-30 15:18 |    \t\t蟋蟀哥哥 \t\t\t( 普通白帽子  |\t\t\t        Rank:363 漏洞数:57        | 巴蜀人士,80后宅男,自学成才,天朝教育失败...)\t\t \n  曹，哥提交晚了。。说下内容:百度对新浪微博接口内容没过滤，造成搜索页面储存型xss...危害极大    \n     2013-12-30 15:20 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  这个碉堡了啊！楼上透剧了啊！    \n     2013-12-30 15:35 |    \t\t蟋蟀哥哥 \t\t\t( 普通白帽子  |\t\t\t        Rank:363 漏洞数:57        | 巴蜀人士,80后宅男,自学成才,天朝教育失败...)\t\t \n  @px1624 提交晚了，同一个漏洞。    \n     2013-12-30 15:55 |    \t\t小胖胖要减肥  \t\t\t( 普通白帽子  |\t\t\t        Rank:686 漏洞数:101        )\t\t \n  @蟋蟀哥哥 哈哈     \n     2013-12-30 15:55 |    \t\t白非白 \t\t\t( 普通白帽子  |\t\t\t        Rank:447 漏洞数:60        | ♫ Freedom - Anthony Hamilton ♫)\t\t \n  @蟋蟀哥哥 做人要厚道。    \n     2013-12-30 16:09 |    \t\t蟋蟀哥哥 \t\t\t( 普通白帽子  |\t\t\t        Rank:363 漏洞数:57        | 巴蜀人士,80后宅男,自学成才,天朝教育失败...)\t\t \n  @白非白 怎么了。。。。    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 11, "Ranks": null}