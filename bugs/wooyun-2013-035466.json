{"id": 62492, "wybug_id": "wooyun-2013-035466", "wybug_title": "改图网平衡权限泄露及删除任意用户信息（5w+用户信息）", "wybug_corp": "gaitu.com", "wybug_author": "xfkxfk", "wybug_date": "2013-08-28 10:40", "wybug_open_date": "2013-10-12 10:41", "wybug_type": "未授权访问/权限绕过", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["敏感接口未加权限认证", "安全意识不足", "越权操作", "未授权访问", "用户敏感信息泄露", "平行权限"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-08-28：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-08-29：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2013-09-08：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2013-09-18：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2013-09-28：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2013-10-12：\t细节向公众公开  简要描述： 改图网平衡权限泄露及删除任意用户信息（5w+用户信息） 详细说明：  改图网平衡权限泄露及删除任意用户信息（5w+用户信息）。这里我们那两个用户测试，xfkxfk和wooyun。先来看看wooyun用户的地址信息和id：\n\n然后再来看看xfkxfk用户的地址信息和id：\n\n现在我们来修改用户xfkxfk的地址信息，然后抓包：\n\n我们看到这里的id就是xfkxfk的地址id，我们把这个id改成wooyun用户的id：\n\n看返回信息，正好返回了用户wooyun的地址详细信息。我们再来看看地址id为50000的用户地址信息：\n\n好了，我们看看界面上也显示出来了wooyun用户的地址信息：\n\n危害：1、那么我们遍历一下这个地址id，那么所有用户的信息，姓名，电话，地址等就被我们脱下来。2、而且这里还有一个更好玩的就是，因为我们在修改用户地址信息，我们点击保存后，受害者的地址信息就被删除了，并且受害者的地址信息被添加到了我们的地址中。这里就不截图了。   漏洞证明：  见详细说明   修复方案：  控制权限   版权声明：转载请注明来源 xfkxfk@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：10  确认时间：2013-08-29 00:35 厂商回复： 漏洞确实存在，我们在做该产品方案的时候安全意识较差，现在正在补漏洞，我们争取在未来几天修复这些问题。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-08-28 10:45 |    \t\tniliu  \t\t\t( 核心白帽子 |\t\t\t        Rank:1542 漏洞数:206        | 逆流而上)\t\t \n  @疯狗 @xsser 我那俩改图网的咋还没过    \n     2013-08-28 11:11 |    \t\t小痞子 \t\t\t( 普通白帽子  |\t\t\t        Rank:106 漏洞数:21        | <xss>alert(\"a\")</xss>￥&@&……dssKhwjcw...)\t\t \n  改图网不下20处安全漏洞... 暂时没时间提交~     \n     2013-08-28 11:17 |    \t\txfkxfk  \t\t\t( 核心白帽子 |\t\t\t        Rank:2179 漏洞数:338        | 呵呵！)\t\t \n  @小痞子 NB    \n     2013-08-28 11:18 |    \t\t爱上平顶山  \t\t\t( 核心白帽子 |\t\t\t        Rank:2738 漏洞数:547        | [不戴帽子]异乡过客.曾就职于天朝某机构.IT...)\t\t \n  还搞啊？？  R。。  我都懒得搞。。  一堆问题    \n     2013-08-28 11:27 |    \t\t78基佬 \t\t\t( 实习白帽子  |\t\t\t        Rank:84 漏洞数:20        | 不会日站的设计师不是好产品经理)\t\t \n  toplocation:   http://diy.gaitu.com/Content.aspx?id=2335' location:   http://diy.gaitu.com/Content.aspx?id=2335'Date:2013-08-28 10:58:48OS:Windows 7 Browser:Chrome 10.0.648REMOTE_ADDR: 125.62.229.130Region: 台湾省这是哪位黑阔。。。不好意思打到你了    \n     2013-08-28 11:43 |    \t\t78基佬 \t\t\t( 实习白帽子  |\t\t\t        Rank:84 漏洞数:20        | 不会日站的设计师不是好产品经理)\t\t \n  = =!!黑阔们都别激动啊 我这收到20多条cookie了    \n     2013-08-28 11:47 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:18        | 当我又回首一切,这个世界会好吗?)\t\t \n  这什么网站火了    \n     2013-08-28 13:58 |    \t\t小胖子  \t\t\t( 核心白帽子 |\t\t\t        Rank:1727 漏洞数:140        | 如果大海能够带走我的矮丑...)\t\t \n  @xsser rank给得高的统统会火，哈哈哈哈哈    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 10, "Ranks": null}