{"id": 45481, "wybug_id": "wooyun-2015-095720", "wybug_title": "53KF某站配置错误可读取配置文件及源码", "wybug_corp": "53KF企业在线平台", "wybug_author": "大物期末不能挂", "wybug_date": "2015-02-05 09:49", "wybug_open_date": "2015-03-22 09:50", "wybug_type": "应用配置错误", "wybug_level": "高", "wybug_rank_0": "10", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-02-05：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-02-05：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-02-15：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-02-25：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-03-07：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-03-22：\t细节向公众公开  简要描述： 为了赶在2月6日之前凑齐30rank换树莓派我容易吗我QAQ，凌晨还在找洞。还差1rank真的好虐心啊！！！PS：看到的都是一些我看不太懂的代码。 详细说明：  \nVulnerability descriptionOn some systems running Minify, an attacker may be able to reveal the contents of arbitrary files. You are strongly advised to follow the instructions below to manually patch your system, and upgrade to Minify 2.1.7 when possible. On some PHP systems, file system functions accept parameters containing null bytes (\"\\x00\"), but do not handle them correctly. An attacker may be able to use Minify to reveal the contents of any file PHP has access to within the document root, including sensitive configuration files.\nWVS上原话，大致就是说Minify配置不当，可以访问目录下的各种文件。然后我就看到了一堆我看不太懂的源码。以下网址直接访问就可以看到配置文件内容以及源码了。\nhttp://www22.53kf.com:80/min/index.php?f=/min/config.php%00.css\nf参数对应的是路径，我从目录下的index.php找起，还是找到了不少php文件的。\nhttp://www22.53kf.com/min/index.php?f=index.php%00.css\n\nhttp://www22.53kf.com/min/index.php?f=/lib/common/function.php%00.css\n\nhttp://www22.53kf.com/min/index.php?f=upload.php%00.css\n不过好像是权限不够的原因,我想访问 ../config/ 目录下的配置文件的时候就不可以了，直接报了400错误。\n\n不得不说一句在权限配置这块还是做得很好的。   漏洞证明：  \n\n\n\n\n\n   修复方案：  Minify我没配置过，这个真的不知道   版权声明：转载请注明来源 大物期末不能挂@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：10  确认时间：2015-02-05 10:43 厂商回复： 感谢对于问题的反馈，我们已经紧急修复了此漏洞，谢谢！ P.S. 这下树莓派可以换到了吧 :) 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2015-02-05 10:38 |    \t\tmoult \t\t\t( 路人 |\t\t\t        Rank:26 漏洞数:4        | 奥利奥、奥利奥、奥奥奥奥奥、奥利奥。。。)\t\t \n  @53KF企业在线平台这个很简单啊。。你说这个是“忽略”好还是“无影响”好呀~~    \n     2015-02-05 10:58 |    \t\t大物期末不能挂 \t\t\t( 普通白帽子  |\t\t\t        Rank:132 漏洞数:23        | 1.一个学渣，只求每门都不挂2.想把漏洞提...)\t\t \n  @53KF企业在线平台 是的呢，等了一早上终于可以换了，好激动啊。    \n     2015-02-05 10:58 |    \t\t大物期末不能挂 \t\t\t( 普通白帽子  |\t\t\t        Rank:132 漏洞数:23        | 1.一个学渣，只求每门都不挂2.想把漏洞提...)\t\t \n  @moult 。。。。不要这样吧。。。53kf的响应速度和修复速度都是很快的啊。    \n     2015-02-05 12:36 |    \t\t53KF企业在线平台(乌云厂商)\t\t \n  @大物期末不能挂 拿到了后，不要只记得挂机下资源哦，好好学习，天天向上    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 10, "Ranks": null}