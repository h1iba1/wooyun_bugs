{"id": 47406, "wybug_id": "wooyun-2014-086863", "wybug_title": "土豆网某分站配置不当 泄露大量敏感信息(多台服务器FTP、SSH密码)", "wybug_corp": "土豆网", "wybug_author": "路人甲", "wybug_date": "2014-12-11 23:53", "wybug_open_date": "2015-01-25 23:54", "wybug_type": "敏感信息泄露", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["敏感信息泄露"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-12-11：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-12-12：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2014-12-22：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-01-01：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-01-11：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-01-25：\t细节向公众公开  简要描述： 土豆网某分站配置不当 泄露大量铭感信息(多台服务器FTP、SSH密码) 详细说明：  结合提交的这个漏洞，内网伤害很大 WooYun: 土豆网某分站存在远程命令执行漏洞已验证可内网渗透 服务端采用node.js，但是源码泄露了\nhttp://114.80.235.161:8083/v3/tpm-config.jshttp://114.80.235.161:8083/v3/sdm-config.json\n\n\"env\" : {\t\t\"beta\" : {\t\t\t\"users\" : [\"*\"],\t\t\t\"domain\" : \"http://cssbeta.tudouui.com/v3\",\t\t\t\"upload\" : {\t\t\t\t\"host\" : \"114.80.236.91\",\t\t\t\t\"user\" : \"uibeta\",\t\t\t\t\"port\" : 21,\t\t\t\t\"pass\" : \"(*****Fw\",\t\t\t\t\"root\" : \"/UPLOAD\",\t\t\t\t\"root2\" : \"/dispatch\"\t\t\t},\t\t\t\"uiversion\" : {\t\t\t\t\"host\" : \"114.80.236.91\",\t\t\t\t\"user\" : \"betacontrol\",\t\t\t\t\"port\" : 22,\t\t\t\t\"pass\" : \"PL*****C\",\t\t\t\t\"root\" : \"/home/betacontrol/uiversioning/beta\"\t\t\t}\t\t},\t\t\"wwwtest\" : {\t\t\t\"users\" : [\"lhluo\", \"zhaohd\", \"nliu\", \"liuxm\", \"xqjia\", \"zrli\", \"baige\", \"qianwu\", \"huhongying\", \"chuhongyue\", \"wtzhang\", \"jyan\", \"wkli\", \"cyliu\"],\t\t\t\"domain\" : \"http://csstest.tudouui.com/v3\",\t\t\t\"upload\" : {\t\t\t\t\"host\" : \"114.80.236.91\",\t\t\t\t\"user\" : \"uitest.tudou.com\",\t\t\t\t\"port\" : 21,\t\t\t\t\"pass\" : \"Z*****%\",\t\t\t\t\"root\" : \"/UPLOAD\",\t\t\t\t\"root2\" : \"/dispatch\"\t\t\t},\t\t\t\"uiversion\" : {\t\t\t\t\"host\" : \"114.80.236.91\",\t\t\t\t\"user\" : \"controlcenter\",\t\t\t\t\"port\" : 22,\t\t\t\t\"pass\" : \"8i****L>\",\t\t\t\t\"root\" : \"/home/controlcenter/uiversioning/test\"\t\t\t}\t\t},\t\t\"wwwtest1\" : {\t\t\t\"users\" : [\"lhluo\", \"zhaohd\", \"nliu\", \"liuxm\", \"xqjia\", \"zrli\", \"baige\", \"qianwu\", \"huhongying\", \"chuhongyue\", \"wtzhang\", \"jyan\", \"wkli\", \"cyliu\"],\t\t\t\"domain\" : \"http://csstest1.intra.tudou.com/v3\",\t\t\t\"upload\" : {\t\t\t\t\"host\" : \"114.80.236.91\",\t\t\t\t\"user\" : \"uitest1.tudou.com\",\t\t\t\t\"port\" : 21,\t\t\t\t\"pass\" : \"Z****$%\",\t\t\t\t\"root\" : \"/UPLOAD\",\t\t\t\t\"root2\" : \"/dispatch\"\t\t\t},\t\t\t\"uiversion\" : {\t\t\t\t\"host\" : \"114.80.236.91\",\t\t\t\t\"user\" : \"controlcenter\",\t\t\t\t\"port\" : 22,\t\t\t\t\"pass\" : \"8****L>\",\t\t\t\t\"root\" : \"/home/controlcenter/uiversioning/test1\"\t\t\t}\t\t},\n   漏洞证明：  \nvar Fs = require('fs');exports.root = __dirname;exports.jira_host = 'http://jira.intra.tudou.com';exports.deploy_mail = 'webtest_fabu@tudou.com';exports.useClientMail = false; // 是否使用系统自带email发邮件exports.autoSvnAdd = true; // build、dist目录中新增文件时是否自动执行svn addexports.main = {\t\"js\" : [\t\t\"lib.js\",\t\t\"g.js\",\t\t\"tui.js\",\t\t\"lite.js\",\t\t\"m.js\",\t\t\"loader.js\",\t\t\"autodomain.js\",\t\t\"lib/xiuxiu.js\",\t\t\"lazy/translate.js\",\t\t\"lazy/history/history.js\",\t\t\"lazy/kindeditor.js\",\t\t\"lazy/play/lintrend.js\",\t\t\"lazy/app-recom.js\",\t\t\"page/play/playerLoader.js\",\t\t\"page/watchlater/main.js\",\t\t\"page/mobile/live/main.js\",\t\t\"page/mobile/play/main.js\",\t\t\"page/mobile/myrec/main.js\",\t\t\"page/mobile/feedback/main.js\",\t\t\"page/ch/music/rank.js\",\t\t\"page/ch/cate/main.js\",\t\t\"page/ch/list/main.js\",\t\t\"page/ch/star/main.js\",\t\t\"page/ch/star/list.js\",\t\t\"page/albumcover/main.js\",\t\t\"page/ch/main.js\",\t\t\"page/ch/index.js\",\t\t\"page/error/v.js\",\t\t\"page/watchlater/oldwl.js\",\t\t\"page/btn/btn.js\",\t\t\"page/pay/v.js\",\t\t\"page/playlist/cover.js\",\t\t\"page/playlist/cover2/main.js\",\t\t\"page/playlist/cover3/main.js\",\t\t\"page/playlist/edit.js\",\t\t\"page/login/mini.js\",\t\t\"page/login/main.js\",\t\t\"page/login/forget.js\",\t\t\"page/play/main.js\",\t\t\"page/mobile/play/main.js\",\t\t\"page/mobile/ch2/index.js\",\t\t\"page/mobile/ch2/list.js\",\t\t\"page/mobile/watch/home.js\",\t\t\"page/mobile/watch/subset.js\",\t\t\"page/mobile/watch/history.js\",\t\t\"page/mobile/watch/watch.js\",\t\t\"page/mobile/watch/favorite.js\",\t\t\"page/home/v2/main.js\",\t\t\"page/home/v2/admin.js\",\t\t\"page/jbp/main.js\",\t\t\"page/stat/stat.js\",\t\t\"page/rss/main.js\",\t\t\"page/rss/history.js\",\t\t\"page/watch/main.js\",\t\t\"page/square/main.js\",\t\t\"page/service/main.js\",\t\t\"page/service/playtudou.js\",\t\t\"page/service/help.js\",\t\t\"page/mytudou/mysetting.js\",\t\t\"page/mytudou/message.js\",\t\t\"page/mytudou/manage.js\",\t\t\"page/mytudou/myprogram.js\",\t\t\"page/mytudou/myplaylist.js\",\t\t\"page/mytudou/msglist.js\",\t\t\"page/mytudou/mycomment.js\",\t\t\"page/mytudou/myprogram-edit.js\",\t\t\"page/mytudou/myprogram-remark.js\",        \"page/verify/index.js\",        \"page/verify/verify.js\",        \"page/verify/sub.js\",\t\t\"page/tdvf/2014/main.js\",\t\t\"page/tdvf/2014/index.js\",\t\t\"page/tdvf/2014/submit.js\",\t\t\"page/tdvf/2014/channel-list.js\",\t\t\"page/tdvf/2014/video-list.js\",\t\t\"page/mobile/tdvf/index.js\",\t\t\"page/mobile/tdvf/channel.js\",\t\t\"page/mobile/tdvf/video.js\",\t\t\"page/activity/index.js\",\t\t\"page/activity/join.js\",\t\t\"page/activity/home.js\",        \"page/app/v.js\",        \"page/albumcover/list.js\",\t\t\"page/member/account.js\",\t\t\"page/member/index.js\",\t\t\"page/member/list.js\",\t\t\"page/member/privilege.js\",\t\t\"page/mobile/rank/rank.js\"\t],\t\"css\" : [\t\t\"g.less\",\t\t\"playlist/cover.less\",\t\t\"playlist/edit.less\",\t\t\"playlist/cover2/main.less\",\t\t\"playlist/cover3/main.less\",\t\t\"ch/music/rank.less\",\t\t\"ch/cate/main.less\",\t\t\"ch/list/main.less\",\t\t\"ch/star/list.less\",\t\t\"ch/star/main.less\",\t\t\"albumcover/main.less\",\t\t\"ch/main.less\",\t\t\"ch/index.less\",\t\t\"error/v.less\",\t\t\"square/main.less\",\t\t\"watch/main.less\",\t\t\"watchlater/main.less\",\t\t\"watchlater/global.less\",\t\t\"mobile/play/main2.less\",\t\t\"mobile/feedback/main.less\",\t\t\"mobile/ch/g.less\",\t\t\"mobile/ch2/index.less\",\t\t\"mobile/ch2/list.less\",\t\t\"mobile/ch2/recom.less\",\t\t\"mobile/watch/home.less\",\t\t\"mobile/watch/watch.less\",\t\t\"mobile/watch/history.less\",\t\t\"mobile/watch/subset.less\",\t\t\"mobile/watch/favorite.less\",\t\t\"pay/common.less\",\t\t\"g/btn.less\",\t\t\"g/sidebar.less\",\t\t\"play/play.less\",\t\t\"login/mini.less\",\t\t\"login/main.less\",\t\t\"login/forget.less\",\t\t\"home/main2.less\",\t\t\"jbp/main.less\",\t\t\"rss/main.less\",\t\t\"service/main.less\",\t\t\"service/playtudou.less\",\t\t\"service/help.less\",\t\t\"mytudou/main.less\",\t\t\"mytudou/mysetting.less\",\t\t\"mytudou/message.less\",\t\t\"mytudou/message.less\",\t\t\"mytudou/notify.less\",\t\t\"mytudou/edit.less\",\t\t\"verify/main.less\",\t\t\"tdvf/2014/main.less\",\t\t\"activity/main.less\",\t\t\"activity/home.less\",\t\t\"member/main.less\",\t\t\"cent/main.less\",        \"app/mobile.less\",        \"32/main.less\",\t\t\"rank/main.less\",\t\t\"home/channel/main.less\",\t\t\"mobile/rank/rank.less\"\t]};exports.libjs = {\t\"lib.js\" : [\"lib/jquery.js\", \"lib/fix.js\", \"lib/oz.js\", \"lib/config.js\"],\t\"lite.js\" : [\"lib/zepto.js\", \"lib/zepto-fix.js\", \"lib/oz.js\", \"lib/config.js\"],\t\"loader.js\" : [\"lib/fix.js\", \"lib/oz.js\", \"lib/config.js\"],\t\"page/play/playerLoader.js\" : [\"page/play/playerLoader.js\"],\t\"autodomain.js\" : [\"autodomain.js\"]};exports.globaljs = [\t\"g.js\",\t\"tui.js\",\t\"m.js\",\t\"page/stat/stat.js\",\t\"page/watchlater/oldwl.js\"];exports.ftp = {\tbeta : {\t\thost : '114.80.236.91',\t\tuser : 'uibeta',\t\tport : 21,\t\tpass : '(*******TFw',\t\troot : '/UPLOAD'\t}};exports.project = Fs.existsSync(__dirname + '/project.json') ?\tJSON.parse(Fs.readFileSync(__dirname + '/project.json', 'utf-8'))\t: {};exports.server = {\twwwtest: {\t\twatchlater: {\t\t\thost : 'online-test3',\t\t\tuser : 'watchlater',\t\t\tpass : '********',\t\t\troot : '/home/watchlater/apache-tomcat/webapps/ROOT/WEB-INF/tpl/'\t\t},\t\talbumcover: {\t\t\thost : 'playlist-test',\t\t\tuser : '********',\t\t\tpass : '********',\t\t\troot : '/home/********/albumcover/apache-tomcat-7.0.40/webapps/albumcover/WEB-INF/tpl/album/'\t\t},\t\ttditemview: {\t\t\thost : 'wwwtest',\t\t\tuser : 'tditem',\t\t\tpass : '********',\t\t\troot : '/home/tditem/apache-tomcat-7.0.40/webapps/ROOT/WEB-INF/tpl/'\t\t},\t\tlistplay : {\t\t\thost : 'playlist-test',\t\t\tuser : 'listPlay',\t\t\tpass : '********',\t\t\troot : '/home/listPlay/apache-tomcat-5.5.20/webapps/ROOT/WEB-INF/tpl/play/'\t\t},\t\talbumplay : {\t\t\thost : 'online-test3',\t\t\tuser : 'albumplay',\t\t\tpass : '********',\t\t\troot : '/home/albumplay/apache-tomcat/webapps/ROOT/WEB-INF/tpl/album/'\t\t},\t\twebupload: {\t\t\thost : '10.25.10.11',\t\t\tuser : 'webupload',\t\t\tpass : '********',\t\t\troot : '/home/webupload/apache-tomcat/webapps/ROOT/WEB-INF/tpl/my/program/'\t\t},\t\tmyplaylist: {\t\t\thost : 'playlist-test',\t\t\tuser : 'play_admin',\t\t\tpass : '********',\t\t\troot : '/home/play_admin/apache-tomcat/webapps/playlist/WEB-INF/tpl/'\t\t},\t\tfeedback: {\t\t\thost : 'online-test2',\t\t\tuser : 'programs',\t\t\tpass : '********',\t\t\troot : '/home/programs/feedback/apache-tomcat-6.0.18/webapps/feedback/WEB-INF/tpl/'\t\t},\t\t********: {\t\t\thost : 'online-test2',\t\t\tuser : '********',\t\t\tpass : '********',\t\t\troot : '/home/********/apache-tomcat-6.0.18/webapps/********/WEB-INF/tpl/'\t\t},\t\ttdpassport: {\t\t\thost : 'online-test2',\t\t\tuser : 'tdpassport',\t\t\tpass : '********',\t\t\troot : '/home/tdpassport/apache-tomcat/webapps/ROOT/WEB-INF/tpl/'\t\t},\t\thomepage: {\t\t\thost : 'online-test7',\t\t\tuser : 'homepage',\t\t\tpass : '********',\t\t\troot : '/home/homepage/apache-tomcat/webapps/ROOT/WEB-INF/tpl/'\t\t},\t\twatch: {\t\t\thost : 'online-test6',\t\t\tuser : 'watchcenter',\t\t\tpass : '********',\t\t\troot : '/home/watchcenter/apache-tomcat/webapps/ROOT/WEB-INF/tpl/'\t\t},\t\txpage: {\t\t\thost : 'online-test4',\t\t\tuser : 'xpage',\t\t\tpass : '********',\t\t\troot : '/home/xpage/apache-tomcat/webapps/xpage/WEB-INF/tpl/'\t\t},\t\tcatefront: {\t\t\thost : 'playlist-test',\t\t\tuser : 'list',\t\t\tpass : '********',\t\t\troot : '/home/list/apache-tomcat/webapps/ROOT/WEB-INF/tpl/'\t\t},\t\tsquare: {\t\t\thost : 'playlist-test',\t\t\tuser : 'list',\t\t\tpass : '********',\t\t\troot : '/home/list/apache-tomcat/webapps/ROOT/WEB-INF/tpl/square/'\t\t},\t\tverify: {\t\t\thost : 'online-test1',\t\t\tuser : 'mycenter',\t\t\tpass : '********',\t\t\troot : '/home/mycenter/apache-tomcat/webapps/ROOT/WEB-INF/tpl/'\t\t}\t},\twwwtest1: {\t\ttditemview : {\t\t\thost : 'online-test3',\t\t\tuser : 'itemview1',\t\t\tpass : '********',\t\t\troot : '/home/itemview1/apache-tomcat/webapps/ROOT/WEB-INF/tpl/'\t\t},\t\tlistplay : {\t\t\thost : 'online-test3',\t\t\tuser : 'listplay1',\t\t\tpass : '********',\t\t\troot : '/home/listplay1/apache-tomcat-7.0.29/webapps/ROOT/WEB-INF/tpl/play/'\t\t},\t\talbumplay : {\t\t\thost : 'online-test3',\t\t\tuser : 'albumplay1',\t\t\tpass : '********',\t\t\troot : '/home/albumplay1/apache-tomcat/webapps/ROOT/WEB-INF/tpl/album/'\t\t}\t},\twwwtest2: {\t\ttditemview: {\t\t\thost : 'online-test3',\t\t\tuser : 'itemview2',\t\t\tpass : '********',\t\t\troot : '/home/itemview2/apache-tomcat/webapps/ROOT/WEB-INF/tpl/'\t\t},\t\tlistplay : {\t\t\thost : 'online-test3',\t\t\tuser : 'listplay2',\t\t\tpass : '********',\t\t\troot : '/home/listplay2/apache-tomcat/webapps/ROOT/WEB-INF/tpl/play/'\t\t},\t\talbumplay : {\t\t\thost : 'online-test3',\t\t\tuser : 'albumplay2',\t\t\tpass : '********',\t\t\troot : '/home/albumplay2/apache-tomcat/webapps/ROOT/WEB-INF/tpl/album/'\t\t}\t},\tbeta: {\t\ttditemview: {\t\t\thost : 'beta-app3',\t\t\tuser : 'app_admin',\t\t\tpass : '********',\t\t\troot : '/home/app_admin/apache-tomcat-6.0.18/webapps/ROOT/WEB-INF/tpl/'\t\t},\t\tlistplay : {\t\t\thost : 'beta-app3',\t\t\tuser : 'listplay',\t\t\tpass : '********',\t\t\troot : '/home/listplay/apache-tomcat-6.0.18/webapps/ROOT/WEB-INF/tpl/play/'\t\t},\t\talbumplay : {\t\t\thost : 'beta-app1',\t\t\tuser : 'albumplay',\t\t\tpass : '********',\t\t\troot : '/home/albumplay/apache-tomcat/webapps/ROOT/WEB-INF/tpl/album/'\t\t},\t\t********: {\t\t\thost : 'beta-test2',\t\t\tuser : '********',\t\t\tpass : '********',\t\t\troot : '/home/********/apache-tomcat-6.0.18/webapps/********/WEB-INF/tpl/'\t\t}\t},\tbeta1: {\t\ttditemview: {\t\t\thost : 'beta-app4',\t\t\tuser : 'itemview1',\t\t\tpass : '********',\t\t\troot : '/home/itemview1/apache-tomcat/webapps/ROOT/WEB-INF/tpl/'\t\t},\t\tlistplay : {\t\t\thost : 'beta-app4',\t\t\tuser : 'listplay1',\t\t\tpass : '********',\t\t\troot : '/home/listplay1/apache-tomcat-7.0.29/webapps/ROOT/WEB-INF/tpl/play/'\t\t},\t\talbumplay : {\t\t\thost : 'beta-app4',\t\t\tuser : 'albumplay1',\t\t\tpass : '********',\t\t\troot : '/home/albumplay1/apache-tomcat/webapps/ROOT/WEB-INF/tpl/album/'\t\t}\t},\tbeta2: {\t\ttditemview: {\t\t\thost : 'beta-app4',\t\t\tuser : 'itemview2',\t\t\tpass : '********',\t\t\troot : '/home/itemview2/apache-tomcat/webapps/ROOT/WEB-INF/tpl/'\t\t},\t\tlistplay : {\t\t\thost : 'beta-app4',\t\t\tuser : 'listplay2',\t\t\tpass : '********',\t\t\troot : '/home/listplay2/apache-tomcat-6.0.18/webapps/ROOT/WEB-INF/tpl/play/'\t\t},\t\talbumplay : {\t\t\thost : 'beta-app4',\t\t\tuser : 'albumplay2',\t\t\tpass : '********',\t\t\troot : '/home/albumplay2/apache-tomcat-6.0.18/webapps/ROOT/WEB-INF/tpl/album/'\t\t}\t}};exports.ssh = {\tbeta : {\t\thost : '114.80.236.91',\t\tuser : 'betacontrol',\t\tport : 22,\t\tpass : '********',\t\troot : '/home/betacontrol/uiversioning/beta'\t},\tmanage3 : {\t\thost : '10.25.251.101',\t\tuser : 'zhangfeng',\t\tpass : '********',\t\troot : '/home/zhangfeng/'\t}}\n   修复方案：  删除   版权声明：转载请注明来源 路人甲@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：15  确认时间：2014-12-12 17:55 厂商回复： 开发环境被无情透出，已处理，多谢 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 15, "Ranks": null}