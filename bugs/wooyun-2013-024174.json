{"id": 11707, "wybug_id": "wooyun-2013-024174", "wybug_title": "[大型互联网系列之四]搜狗某站点开发人员安全意识不足,泄漏数据库配置文件", "wybug_corp": "搜狗", "wybug_author": "梧桐雨", "wybug_date": "2013-05-20 22:43", "wybug_open_date": "2013-07-04 22:44", "wybug_type": "重要敏感信息泄露", "wybug_level": "中", "wybug_rank_0": "8", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["敏感信息泄漏", "敏感信息泄露", "安全意识不足", "内部敏感信息泄漏"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-05-20：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-05-20：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2013-05-30：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2013-06-09：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2013-06-19：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2013-07-04：\t细节向公众公开  简要描述： 旁门左道+耐心..第四集如愿以偿的来了! 详细说明：  问题出在:http://123.125.116.227/\n\n其实是个搜狗项目管理系统来的。尝试突破数次无果。。。暴力破解字典跑光了有木有啊！so..几次无果之后，我换了换思路。用WVS扫了一下该站的目录：得到如下结果:\n\n一般看看几乎就关掉了。但是这里的inc文件引起了我的注意。于是直接访问：发现居然列目录了:\n\n里头居然还有一个php2很显然，这是一个配置文件的备份，往往开发中，为了避免错误，或者以后出错，往往我们开发者都会备份一个文件，重命名，而我自己的习惯则是:如果要备份config.php，我往往会备份成config+日期.php。因为php在后端是不会被下载到的，so..如果备份成config.php2，就是这个典型案例，那么后果将会是不堪设想的。。   漏洞证明：  \n\n是的，root权限，你没看错。。幸亏是不允许外链，如果允许你后台岂不是直接被爆破了？呵呵:)我看了下乌云，很少这样的案例，其实备份文件也需要讲究一下习惯，甚至要考虑文件名会不会被web容器解析错误。这个就是一个很典型的备份错误了。   修复方案：  也许修复就是改改后缀的事情，但是安全意识确实是需要加强的！   版权声明：转载请注明来源 梧桐雨@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：9  确认时间：2013-05-20 23:36 厂商回复： 处理中，感谢提供 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-06-20 10:47 |    \t\ther0ma \t\t\t( 核心白帽子 |\t\t\t        Rank:598 漏洞数:83        | 专注小厂商三十年！)\t\t \n  Root密码真为空么？    \n     2013-06-20 23:05 |    \t\twhitemonty \t\t\t( 路人 |\t\t\t        Rank:7 漏洞数:4        | Secur1ty just lik3 a girl. B0th of th3m ...)\t\t \n  @her0ma 同问+1    \n     2013-06-21 10:19 |    \t\t梧桐雨  \t\t\t( 核心白帽子 |\t\t\t        Rank:1576 漏洞数:184        | 关注技术与网络安全)\t\t \n  @her0ma @whitemonty 上面文件不是写着么？    \n     2013-08-19 07:16 |    \t\t在路上 \t\t\t( 普通白帽子  |\t\t\t        Rank:193 漏洞数:13        | 在学习的路上、在成长的路上...)\t\t \n  有意思 备份文件 第一次看到    \n     2014-07-14 16:04 |    \t\tluwikes \t\t\t( 普通白帽子  |\t\t\t        Rank:512 漏洞数:68        | 潜心学习~~~)\t\t \n  @梧桐雨 能把这个wvs共享下吗？   哪儿来的扫描深度等参数啊。。    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 9, "Ranks": null}