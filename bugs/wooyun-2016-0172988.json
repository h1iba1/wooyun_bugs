{"id": 85708, "wybug_id": "wooyun-2016-0172988", "wybug_title": "37wan被某代理服务器撞库攻击（代理服务器泄露撞库所用账号资源）", "wybug_corp": "三七互娱（上海）科技有限公司", "wybug_author": "翟四岚", "wybug_date": "2016-01-27 13:08", "wybug_open_date": "2016-03-14 16:43", "wybug_type": "网络敏感信息泄漏", "wybug_level": "中", "wybug_rank_0": "9", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["用户敏感数据泄漏", "敏感信息未加密存储"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2016-01-27：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2016-01-31：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2016-02-10：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2016-02-20：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2016-03-01：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2016-03-14：\t细节向公众公开  简要描述： 攻击者代理设置错误，导致大量请求发送到了本公司服务器上，其中暴露了37.com在get请求中使用明文密码，37wan的部分账户因为撞库导致泄漏 详细说明：  今天公司开发在巡检时，发现大量来自37.com的日志，例如：\n2016/01/27 11:10:15 [error] 24316#0: *36158881 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class 'api\\controller\\login' not found in /our app's path/CApplication.php on line 36\" while reading response header from upstream, client: 42.51.159.184, server: mudu.tv, request: \"GET http://my.37.com/api/login.php?callback=jQuery18306346307694952913_1453864220307&action=login&login_account=zhourenfa&password=zhourenfa&ajax=0&remember_me=1&save_state=1&ltype=1 HTTP/1.1\", upstream: \"fastcgi://127.0.0.1:9000\", host: \"my.37.com\", referrer: \"http://my.37.com/api/login.php?callback=jQuery18306346307694952913_1453864220307&action=login&login_account=zhourenfa&password=zhourenfa&ajax=0&remember_me=1&save_state=1&ltype=1\"\n推测是37.com的网络配置错误，导致请求写到了本公司服务器上，更令人吃惊的是，37.com在get请求中暴露了明文密码，也就是说，在任意可以控制的网络内，都可以获得经过的37玩的用户密码   漏洞证明：  \n\n\n\n   修复方案：  不传输明文密码   版权声明：转载请注明来源 翟四岚@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：10  确认时间：2016-01-31 23:45 厂商回复： 经过查实，已确认不是因为网络配置有问题。该事件其实是一次撞库事件，攻击者利用一个精准的库去撞我们平台的账号密码，但是由于设置错了代理，导致把账号密码发送到了白帽子他们公司的服务器。 最新状态： 暂无  ", "replys": "漏洞评价：\n评价\n     2016-01-27 13:51 |    \t\t疯狗  \t\t\t( 实习白帽子  |\t\t\t        Rank:44 漏洞数:2        | 阅尽天下漏洞，心中自然无码。)\t\t \n  这个漏洞场景好奇葩。。    \n     2016-01-27 14:04 |    \t\tD＆G \t\t\t( 普通白帽子  |\t\t\t        Rank:561 漏洞数:110        | going)\t\t \n  有意思    \n     2016-01-27 15:05 |    \t\t三七互娱（上海）科技有限公司(乌云厂商)\t\t \n  您好，感谢提交漏洞，但是我们这边对该漏洞有疑问，需要进一步沟通才能确定漏洞，请问方便私信提供联系方式吗？    \n     2016-01-27 15:32 |    \t\tsmarttang \t\t\t( 路人 |\t\t\t        还没有发布任何漏洞        | 乌云两个帐号都是我的...t.qq.com/mojige...)\t\t \n  我好奇路人甲是谁。。。    \n     2016-01-28 18:31 |    \t\tddy \t\t\t( 实习白帽子  |\t\t\t        Rank:45 漏洞数:17        | 其实第一次要我挖洞我是拒绝的。因为，你不...)\t\t \n  @smarttang 我好奇你咋注册的...    \n     2016-01-29 13:46 |    \t\t90Snake \t\t\t( 普通白帽子  |\t\t\t        Rank:152 漏洞数:53        | 人如果没有梦想，跟咸鱼有什么分别)\t\t \n  @ddy 可以匿名。。    \n     2016-01-29 18:53 |    \t\tddy \t\t\t( 实习白帽子  |\t\t\t        Rank:45 漏洞数:17        | 其实第一次要我挖洞我是拒绝的。因为，你不...)\t\t \n  @90Snake 但是匿名好像也会显示提交的数量的耶    \n     2016-01-29 18:57 |    \t\t90Snake \t\t\t( 普通白帽子  |\t\t\t        Rank:152 漏洞数:53        | 人如果没有梦想，跟咸鱼有什么分别)\t\t \n  @ddy No..你看我是不是47条？其实我是48条    \n     2016-01-29 22:04 |    \t\tddy \t\t\t( 实习白帽子  |\t\t\t        Rank:45 漏洞数:17        | 其实第一次要我挖洞我是拒绝的。因为，你不...)\t\t \n  @90Snake  ( 普通白帽子 |\tRank:146 漏洞数:48http://ww4.sinaimg.cn/mw1024/005O3bnFgw1f0gptiywu5j316y0czdht.jpg    \n     2016-02-01 09:52 |    \t\t武器大师 \t\t\t( 路人 |\t\t\t        Rank:20 漏洞数:4        | 梦想成为挖洞大师)\t\t \n  @90Snake 。。。你就是48    \n     2016-03-07 09:40 |    \t\tsmarttang \t\t\t( 路人 |\t\t\t        还没有发布任何漏洞        | 乌云两个帐号都是我的...t.qq.com/mojige...)\t\t \n  @ddy 每天用5姑娘撸个半小时，注册成功。。。    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 10, "Ranks": null}