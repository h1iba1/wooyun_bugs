{"id": 61639, "wybug_id": "wooyun-2013-038398", "wybug_title": "安卓网论坛某服务器大量数据库信息泄露", "wybug_corp": "福建网龙", "wybug_author": "xlz0iza1", "wybug_date": "2013-09-28 11:36", "wybug_open_date": "2013-11-12 11:37", "wybug_type": "重要敏感信息泄露", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["敏感信息泄露"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-09-28：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-09-29：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2013-10-09：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2013-10-19：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2013-10-29：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2013-11-12：\t细节向公众公开  简要描述： 安卓网论坛C段某服务器配置不严厉信息泄露！ 详细说明：  可以直接下载PHP文件,看了几个文件里面关联哦，有数据库和内部服务器信息！\n\n\n\n\n\n\n\ndb.cfg.php配置文件里面一些关于一些站点mysql的数据库账号密码！\n\n   漏洞证明：  db.cfg.php配置文件里面一些关于一些站点mysql的数据库账号密码！\n\n<?php/** * 配置文件－－数据库配置文件 * @package weip * @subpackage configure * @author 魏永增 <catorwei@gmail.com> * @version 1.0 */if (APP_IN_LOCAL) {    CFG::$db[0] = array( // Database (PDO)            'params'    => array(                'driver'          => 'pdo',                'dsn'             => 'mysql:host=192.168.9.67;port=3306;dbname=hiapk_market_debug',                'user'            => 'hi_market',                'password'        => 'abc!@#$%^&*()',            ),            'options'   => array(                'tablePrefix'                   => '',                  // 表前缀                 PDO::ATTR_PERSISTENT            => TRUE,               // 是否持续化连接                 PDO::MYSQL_ATTR_INIT_COMMAND    => 'SET NAMES UTF8',    // 设置字符集             ),        );    CFG::$db['cmdb'] = &CFG::$db[0];    CFG::$db['hiapk_x2_uc'] = array( // Database (PDO)            'params'    => array(                'driver'          => 'pdo',                'dsn'             => 'mysql:host=192.168.213.112;port=3380;dbname=bbs_android',                'user'            => 'root',                'password'        => 'mysql',            ),            'options'   => array(                'tablePrefix'                   => 'pre_',                  // 表前缀                 PDO::ATTR_PERSISTENT            => false,               // 是否持续化连接                 PDO::MYSQL_ATTR_INIT_COMMAND    => 'SET NAMES UTF8',    // 设置字符集             ),        );    \t CFG::$db['hiapk_x2'] = array( // Database (PDO)            'params'    => array(                'driver'          => 'pdo',                'dsn'             => 'mysql:host=192.168.213.112;port=3380;dbname=bbs_android',                'user'            => 'root',                'password'        => 'mysql',            ),            'options'   => array(                'tablePrefix'                   => 'pre_',                  // 表前缀                 PDO::ATTR_PERSISTENT            => false,               // 是否持续化连接                 PDO::MYSQL_ATTR_INIT_COMMAND    => 'SET NAMES UTF8',    // 设置字符集             ),        );        CFG::$db['search'] = array( // Database (PDO)            'params'    => array(                'driver'          => 'pdo',                'dsn'             => 'mysql:host=192.168.9.67;port=3306;dbname=hiapk_market_debug',                'user'            => 'hi_market',                'password'        => 'abc!@#$%^&*()',            ),            'options'   => array(                'tablePrefix'                   => '',                  // 表前缀                 PDO::ATTR_PERSISTENT            => TRUE,               // 是否持续化连接                 PDO::MYSQL_ATTR_INIT_COMMAND    => 'SET NAMES UTF8',    // 设置字符集             ),        );        CFG::$db['swb'] = array( // Database (PDO)            'params'    => array(                'driver'          => 'pdo',                'dsn'             => 'mysql:host=192.168.9.67;port=3306;dbname=hiapk_market_weibo',                'user'            => 'hi_market',                'password'        => 'abc!@#$%^&*()',            ),            'options'   => array(                'tablePrefix'                   => '',                  // 表前缀                 PDO::ATTR_PERSISTENT            => TRUE,               // 是否持续化连接                 PDO::MYSQL_ATTR_INIT_COMMAND    => 'SET NAMES UTF8',    // 设置字符集             ),        );} else {    CFG::$db[0] = array( // Database (PDO)            'params'    => array(                'driver'          => 'pdo',                'dsn'             => 'mysql:host=10.1.242.26;port=3306;dbname=hiapk_market_new',                'user'            => 'hiapk_market',                'password'        => 'sRU4vyHYLsMVDrQF',            ),            'options'   => array(                'tablePrefix'                   => '',                  // 表前缀                 PDO::ATTR_PERSISTENT            => false,               // 是否持续化连接                 PDO::MYSQL_ATTR_INIT_COMMAND    => 'SET NAMES UTF8',    // 设置字符集             ),        );    CFG::$db['cmdb'] = &CFG::$db[0];\t CFG::$db['hiapk_x2_uc'] = array( // Database (PDO)\t            'params'    => array(\t                'driver'          => 'pdo',\t                'dsn'             => 'mysql:host=10.1.242.111;port=3306;dbname=hiapk_x2_uc',\t                'user'            => 'him_web',\t                'password'        => '3pDEdfvQCDHMbfrF',\t            ),\t            'options'   => array(\t                'tablePrefix'                   => 'pre_',                  // 表前缀 \t                PDO::ATTR_PERSISTENT            => false,               // 是否持续化连接 \t                PDO::MYSQL_ATTR_INIT_COMMAND    => 'SET NAMES UTF8',    // 设置字符集 \t            ),\t        );    \t\t CFG::$db['hiapk_x2'] = array( // Database (PDO)\t            'params'    => array(\t                'driver'          => 'pdo',\t                'dsn'             => 'mysql:host=10.1.242.111;port=3306;;dbname=hiapk_x2',\t                'user'            => 'him_web',\t                'password'        => '3pDEdfvQCDHMbfrF',\t            ),\t            'options'   => array(\t                'tablePrefix'                   => 'pre_',                  // 表前缀 \t                PDO::ATTR_PERSISTENT            => false,               // 是否持续化连接 \t                PDO::MYSQL_ATTR_INIT_COMMAND    => 'SET NAMES UTF8',    // 设置字符集 \t            ),\t        );    \t    CFG::$db['search'] = array( // Database (PDO)            'params'    => array(                'driver'          => 'pdo',                'dsn'             => 'mysql:host=10.1.242.47;port=3306;dbname=hiapk_market_new',                'user'            => 'hiapk_market',                'password'        => 'sRU4vyHYLsMVDrQF',            ),            'options'   => array(                'tablePrefix'                   => '',                  // 表前缀                 PDO::ATTR_PERSISTENT            => false,               // 是否持续化连接                 PDO::MYSQL_ATTR_INIT_COMMAND    => 'SET NAMES UTF8',    // 设置字符集             ),        );   \tCFG::$db['swb'] = array( // Database (PDO)            'params'    => array(                'driver'          => 'pdo',                'dsn'             => 'mysql:host=10.1.242.26;port=3306;dbname=hiapk_market_weibo',                'user'            => 'himarket_web',                'password'        => 'm5sstDX8s7BHP7RD',            ),            'options'   => array(                'tablePrefix'                   => '',                  // 表前缀                 PDO::ATTR_PERSISTENT            => false,               // 是否持续化连接                 PDO::MYSQL_ATTR_INIT_COMMAND    => 'SET NAMES UTF8',    // 设置字符集             ),        );     }   修复方案：  你懂的！   版权声明：转载请注明来源 xlz0iza1@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：15  确认时间：2013-09-29 10:11 厂商回复： 感谢xlz0iza1提供的漏洞，安排处理 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2014-01-02 01:37 |    \t\ty0umer \t\t\t( 普通白帽子  |\t\t\t        Rank:103 漏洞数:11        | 装逼就像大姨妈,一月来一次足矣)\t\t \n  其实这个是老库了，而且是只读权限，楼主你懂的 ~    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 15, "Ranks": null}