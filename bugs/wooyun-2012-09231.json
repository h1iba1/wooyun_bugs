{"id": 18219, "wybug_id": "wooyun-2012-09231", "wybug_title": "朋友网泄露QQ空间权限日志", "wybug_corp": "腾讯", "wybug_author": "liyang", "wybug_date": "2012-07-05 09:35", "wybug_open_date": "2012-08-19 09:35", "wybug_type": "敏感信息泄露", "wybug_level": "低", "wybug_rank_0": "5", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["逻辑错误", "设计不当", "用户敏感信息泄露"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2012-07-05：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2012-07-05：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2012-07-15：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2012-07-25：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2012-08-04：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2012-08-19：\t细节向公众公开  简要描述： QQ空间日志设置权限后仍然可以在朋友网显示，泄露用户隐私。 详细说明：  在QQ空间发表一篇日志，如果设置了权限（如只有好友可见），那么在朋友网是不会显示的。但是如果有人评论了那个日志，在朋友网上就会显示日志的开头部分以及评论内容。   漏洞证明：  \n\n    如图，该朋友网是使用2（使用数字代替人）的账户登录，2和1是QQ好友和朋友网好友。发表权限日志后，在2的朋友网不会显示该日志。但是在QQ空间可见，于是2发表第一个评论。    3和1也是QQ好友，也看见并评论了日志。    这样，3评论之后，日志的链接以及部分内容就会显示在2的朋友网动态上。1删除QQ好友2后,2的朋友动态上仍然存在该日志。    如果2和1只是朋友网好友，不是QQ好友（我的大部分就是这情况），也不是曾经是好友然后删除的，当然2不会看见该日志，但是3评论后，在朋友网动态里就会显示日志部分内容。    这两种情况的区别是2和1是不是QQ好友。经验证，只要是朋友网好友，且1的权限日志被有权限的人评论，就会显示在2朋友网上。好复杂啊，仔细读读就明白了。   修复方案：  在细化空间和朋友网的权限管理   版权声明：转载请注明来源 liyang@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：低 漏洞Rank：1  确认时间：2012-07-05 10:15 厂商回复： 感谢你的报告 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2012-08-04 13:01 |    \t\tNight \t\t\t( 实习白帽子  |\t\t\t        Rank:57 漏洞数:16        )\t\t \n  哥们儿 这个其实你可以不必说出来的 Rank才5，对于我们社工来说给19分都不够！    \n     2012-08-09 01:41 |    \t\t海。 \t\t\t( 路人 |\t\t\t        Rank:5 漏洞数:3        | 前进的道路也许坎坷,但阻挡不住我们的热情!)\t\t \n  同步问题,QQ相册加密的图片都被朋友那边公开了.需要那边重新设置权限    \n     2012-08-19 11:28 |    \t\tMythHack \t\t\t( 实习白帽子  |\t\t\t        Rank:33 漏洞数:5        | 当一批小孩使用木马冰河盗取QQ号码并觉得好...)\t\t \n  这。。算漏洞吗？    \n  \n\n\n", "wybug_level_fromcorp": "低", "wybug_rank_fromcorp": 1, "Ranks": null}