{"id": 40370, "wybug_id": "wooyun-2015-091787", "wybug_title": "释锐教育校校用平台通用SQL注入漏洞", "wybug_corp": "上海释锐教育软件有限公司", "wybug_author": "0x70", "wybug_date": "2015-01-16 15:00", "wybug_open_date": "2015-04-16 15:02", "wybug_type": "SQL注射漏洞", "wybug_level": "高", "wybug_rank_0": "16", "wybug_status": "已交由第三方合作机构(cncert国家互联网应急中心)处理", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-01-16：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-01-21：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-01-24：\t细节向第三方安全合作伙伴开放\t\t\t\t\t\t\t\t\t2015-03-17：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-03-27：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-04-06：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-04-16：\t细节向公众公开  简要描述： 释锐教育校校用平台通用SQL注入漏洞 详细说明：  问题出现在info_list.jsp文件\n\n\nString categoryId = Util.dealNull(request.getParameter(\"categoryId\"));     if(categoryId.indexOf(\"08\")==0){//特殊网站，特殊处理\t\t   response.sendRedirect(request.getContextPath()+\"/news_zt/news_list.jsp?categoryId=\"+categoryId);\t\t}  String keywords = Util.doParameter(request.getParameter(\"keywords\"));  if(categoryId.equals(\"\")&&keywords.equals(\"\"))categoryId = \"01\";    String readRecordSql = \"\";  String objectURL = \"\";    if(!keywords.equals(\"\")){    readRecordSql = \"select a.*,b.account,b.name from info a,person b where a.source=0 and a.hold_field6='1' and a.publish_user=b.uuid\";    readRecordSql = \"select * from (\"+readRecordSql+\") stb where category_id not in('17','18')\";    readRecordSql += \" and (info_title like '%\"+keywords+\"%' or account like '\"+keywords+\"%' or name like '%\"+keywords+\"%')\";    readRecordSql += \" order by is_top desc,hold_field2 asc,publish_time desc,info_id desc\";        objectURL = request.getRequestURI()+\"?keywords=\"+keywords;  }\n看下这句 String keywords = Util.doParameter(request.getParameter(\"keywords\"));获取到keywords，没有指定获取方法,所以GET POST都行然后!keywords.equals(\"\")  判断keywords是否为空,不为空就带入SQL语句很明显的一个注入。案例(谷歌搜索很多或者从官网的成功案例找也行)：http://www.nanmo.cn/info_list.jsp?keywords=1http://www.sgzx.fx.edu.sh.cn/info_list.jsp?keywords=1http://www.yk2z.ykedu.net/info_list.jsp?keywords=1http://www.hshsh.pudong-edu.sh.cn/info_list.jsp?keywords=1http://58.217.106.249/info_list.jsp?keywords=1http://www.ycyz.com.cn/info_list.jsp?info_list.jsp?keywords=1http://bhxx.jdedu.net/info_list.jsp?keywords=1http://www.zhenchuan.sh.cn/po40/info_list.jsp?keywords=1   漏洞证明：  \n\n\n\n\n\n不想一个个截了,截在一起\n\n   修复方案：  过滤   版权声明：转载请注明来源 0x70@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：15  确认时间：2015-01-21 09:34 厂商回复： CNVD确认所述情况，已经由CNVD通过以往建立的处置渠道向软件生产厂商通报。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 15, "Ranks": null}