{"id": 84999, "wybug_id": "wooyun-2016-0171037", "wybug_title": "辽宁省某电子化学籍管理系统（涉及几百万学生信息/大量考试成绩信息/信息量达到几千万）", "wybug_corp": "center", "wybug_author": "路人甲", "wybug_date": "2016-01-19 09:47", "wybug_open_date": "2016-03-05 09:52", "wybug_type": "命令执行", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "已交由第三方合作机构(cncert国家互联网应急中心)处理", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2016-01-19：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2016-01-22：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2016-02-01：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2016-02-11：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2016-02-21：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2016-03-05：\t细节向公众公开  简要描述：  详细说明：  **.**.**.**/bin/  辽宁省电子化学籍管理系统，存在命令执行，通过配置数据库。发现几千万的信息。主要是300W+详细的学生个人信息，还有考试成绩。在测试过程中，由于数据库执行语句的问题，导致宕机了...网站暂时无法访问。只能出示截图以及学生信息作为证明危害程度。影响实在巨大，在网站目录备份里有近30G学生照片压缩包。   漏洞证明：  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<jdbc-driver-params>    <url>jdbc:oracle:thin:@(DESCRIPTION =(ADDRESS = (PROTOCOL = TCP)(HOST =**.**.**.**)(PORT = 1521))(ADDRESS = (PROTOCOL = TCP)(HOST =**.**.**.**)(PORT = 1521))(LOAD_BALANCE = yes)(FAILOVER = ON)(CONNECT_DATA =(SERVER = DEDICATED)(SERVICE_NAME = LNGZXX)(FAILOVER_MODE=(TYPE = SELECT)(METHOD = BASIC)(RETIRES = 20)(DELAY = 15))))</url>    <driver-name>oracle.jdbc.xa.client.OracleXADataSource</driver-name>    <properties>      <property>        <name>user</name>        <value>EDU_TEST_JYJ</value>      </property>    </properties>    <password-encrypted>{AES}exWafqhWStJP0wKPL4/hh+vlM3sy4CbU7LZ6Mbx13XQ=</password-encrypted>jdbc:oracle:thin:@**.**.**.**:1521/LNGZXX\n数据库配置\nQuery#0 : select t.TABLE_NAME,t.NUM_ROWS from user_tables t order by NUM_ROWS descTABLE_NAMEVARCHAR2\tNUM_ROWSNUMBERT_ZXXS_WJPATH\t TEMP_BP_ZXXS_XSJBXX_DEL\t TEMP_BP_ZXXS_XSJBXX_DEL_WTXJ\t TBL_UPLOAD_LOG\t2245088ZXXS_XS_JTCY\t1999763TBL_XYSPKS_CJ\t1104097TB_REGISTER_INFO\t1102541ZXXS_XS_JBXX\t1100448ZXXS_XS_JBXX_SCK_GRBSM\t1088752ZXXS_XS_JTCY_YJ\t1054029ZXXS_XS_JCYY_SCRZB\t998589ZXXS_XS_JBXXBAK20150901\t911816ZXXS_XS_PIC\t872219ZXXS_XS_PIC_BK_20141212\t866493ZXXS_XS_PIC_JHK\t862775GGFW_GRBSM_SC\t850178ZXXS_XS_JBXX_LS\t845583ZXXS_XS_JTCY_LS\t823760ZXXS_XS_JBXX_BK20140930\t791404ZXXS_XS_JBXX_20140924\t732990ZXXS_XS_SJBGZB\t732924ZXXS_XS_PIC_BK20150204\t657960ZXXS_XS_XSBY_YJ\t634868ZXXS_XS_XSBY_YJ20151214\t634861ZXXS_XS_JBXX_SCK\t619892ZXXS_XS_JBXX_YJ_BAK\t587755ZXXS_XS_BJBGXX\t462240ZXXS_XS_JBXX_YJ\t462086ZXXS_XS_XSBY20151214\t460141ZXXS_XS_XSBY20151202\t460133ZXXS_XS_XSBY\t458444TB_XXQR_WJXX\t400275TBL_LOG\t349395ZXXS_XS_XSBY_YJ_BK\t320191ZXXS_XS_JBXX_LS_20140924\t287421ZXXS_XS_ZSRX\t211460ZXXS_XS_ZSRX_BAK20150810\t208072TBL_OUT_INTERFACE\t188101ZXXS_XS_PIC_SJJH\t103342ZXXS_XS_JBXX_SB_LS\t91875ZXXS_XS_WJXX\t87283ZXXS_XS_ZSRX_BAK20150821\t79820TBL_POWER\t53127TB_TROUBLE_XJ20151202\t43989TBL_POWER_BK\t43443TB_TROUBLE_XJ\t43367TB_JTCYID_FROM_JTCY\t41610ZXXS_XS_WJXX_BAK20150209\t39259TB_TROUBLE_XJ_20150518\t37877ZXXS_XS_XJYD\t31728ZXXS_XS_XJYD20151218\t31669ZXXS_XX_BJXX\t29329ZXXS_WTXJ\t27624GGFW_XJCC_CFSJ\t25318ZXXS_XX_BJXX_BK20140930\t23936ZXXS_KSZS_LOG\t23015ZXXS_KSZX_ZCZRLOG\t22040ZXXS_XS_JTJJQK_YJ\t13502ZXXS_XS_PIC_NULL\t11763ZXXS_XS_JTJJQK\t11438ZXXS_XJZCXX_BAK20150724\t8223ZXXS_XJZCXX_20150202\t8031TB_WEB_TO_WHERE\t7716ZXXS_KSZS_ZMCL\t6696TB_TEST\t6680ZXXS_XS_ZSRX_SCB\t6212ZXXS_XJZCXX_1231\t5987ZXXS_JS_JBXX\t5719ZXXS_WTXJ20151202\t4735TB_ZSRX_SH\t4384COM_MEMS_ORGAN\t4278TB_WTXJ_TEST\t4077ZXXS_XS_JBXX_SCB\t3729TB_SJJH_ERR\t3607ZXXS_KSZS_JBXX\t3481TB_UPLOAD_EXCEPTION_LOG\t3458TB_WTXJ_TEST_DH\t3245ZXXS_KSZX_ZCZR\t2795ZXXS_XS_PIC_U20150328\t2763ZXXS_XS_JTJJQK_LS\t2630ZXXS_XS_PIC_CF\t2544DV_XS_ZSRX_ERRLOG\t2404ZXXS_XX_JBXX_YJ\t2179ZXXS_XX_NJXX\t2162ZXXS_XJZCXX\t1909TB_SCHOOL_CHANGE\t1780TB_USER_LOGIN\t1762TB_USER_LOGIN_BAK20140402\t1734ZXXS_XX_NJXX_BK20140930\t1729TB_BYSJ_STATUS_INFO\t1718TB_BYSJ_CHECKNOPASS_INFO\t1200SYS_ENUM_VALUE\t1168TBL_TEST_ERR\t1012ZXXS_XS_XXJL\t1001ZXXS_ZSGM\t804ZXXS_XJZCXX_NULL\t573ZXXS_XS_JBXX_JHK20150901\t573ZXXS_XS_JBXX_3Z\t512TB_XSBY\t493TBL_USBKEY\t482ZXXS_XX_JBXX\t452TBL_SAM\t450TBL_SAM_BK\t445TBL_CAMERAID\t443TBL_TABLE_NUM\t441ZXXS_XX_NJXX_GJ\t432ZXXS_XX_NJXX_YJ\t431ZXXS_XS_JBXX_SCB_LS\t345TBL_USBKEY_SC\t269TBL_SYSTEM\t262ZXXS_XX_BJBG\t162TBL_XYSPKS_XF\t154TB_SETUP_LIST\t136ZXXS_XS_JBXX_SCB_SCK\t136TB_DISTRICT_INFO\t135ZXXS_XX_FSBXX\t131TB_XS_ZSRX_WJ_BAK20150810\t130SYS_ENUM_TYPE\t125TBL_MENU\t117TBL_MENU20150604\t112TB_CONTEST\t103ZXXS_XS_JLXX\t100TB_ZSRX_KSZSGM\t91TB_XS_ZSRX_WJ\t75DV_TAB_INFO\t42TB_COMMIT_GJ\t41ZXXS_XX_XQXX\t36ZXXS_SKZDB\t25TB_TO_WHERE\t25ZXXS_XS_JBXX_JHK\t16TBL_XYSPKS_KM\t15TB_WEB_MESSAGE20151204\t12TB_WEB_MESSAGE\t11TB_UPLOAD_TABLE\t11TB_HEALTH_INFO\t8GRADE_THREE_LIMIT\t4ZXXS_XS_CCXX\t2TBL_WARNING\t2TB_SCHOOL_CODE\t2TB_MESSAGE\t1TB_STUDENT_CHECK\t1ZXXS_BEPZB\t1ZXXS_XS_XJYDBAK20150701\t1ZXXS_XS_XXJL_LS\t1TBL_REVDATA_ERROR\t0TBL_XYSPKS_CJ_BKNULL\t0TBL_REVDATA\t0TB_TEST_DELETE_BYXS\t0ZXXS_XS_JBXX_NULL\t0ZXXS_KSZS_DATA_REV_HIS\t0ZXXS_KSZS_CLJK\t0ZXXS_KSZS_DZDA\t0ZXXS_KSZS_DATA_RELAY\t0ZXXS_KSZS_DATA_DEAL\t0ZXXS_KSZS_DATA_REV\t0ZXXS_KSZS_DATA_SEND\t0TBL_XYSPKS_CJ_TEMP\t0TB_EXAMINATION_INFO_T\t0TB_EXAMINATION_INFO\t0ZXXS_XS_PICBG\t0ZXXS_XX_FSXX\t0ZXXS_XS_SJBG\t0ZXXS_XS_BDZC\t0TB_UPDATE\t0TB_SKIP\t0TB_SERVICE_TIHUI\t0TB_SERVICE\t0TB_SELECT_T\t0TB_SELECT_CLASS_T\t0TB_SELECT_CLASS\t0TB_SELECT_ASSESS_T\t0TB_SELECT_ASSESS_EXPERIENCE\t0TB_SELECT_ASSESS\t0TB_SELECT\t0TB_SCORE_TYPE_SIZE\t0TB_SCORE_TYPE\t0TB_SCHOOL_OPERATION\t0TB_RESEARCH_STUDY_T\t0TB_RESEARCH_STUDY_ASSESS\t0TB_RESEARCH_STUDY\t0TB_PRACTICE\t0TB_MORAL\t0TB_LOAD_PROGRASS\t0TB_FREE_CLASS_T\t0TB_FREE_CLASS\t0TB_EXEM_ABSENT_T\t0TB_EXEM_ABSENT\t0TB_ENROLLMENT_INFO\t0TB_DUTY\t0TB_COURSE_CODE_T\t0TB_COURSE_CODE\t0TB_COURSE_CLASS\t0TB_BYSJ_FAILURE_INFO\t0TB_APPRAISE\t0TBL_IMPORT_PIC_LOG\t0GGFW_GRBSM_SC_BAK\t0TBL_XYSPKS_TY\t0\n数据库结构。   修复方案：     版权声明：转载请注明来源 路人甲@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：10  确认时间：2016-01-22 10:36 厂商回复： CNVD确认未复现所述情况,已经转由CNCERT下发给辽宁分中心,由其后续协调网站管理单位处置. 最新状态： 暂无  ", "replys": "漏洞评价：\n评价\n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 10, "Ranks": null}