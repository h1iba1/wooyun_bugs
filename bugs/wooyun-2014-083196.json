{"id": 48388, "wybug_id": "wooyun-2014-083196", "wybug_title": "优才网程序异常泄露数据库账户密码（进而影响VPS的账户安全）", "wybug_corp": "优才网", "wybug_author": "路人甲", "wybug_date": "2014-11-14 11:37", "wybug_open_date": "2014-12-29 11:38", "wybug_type": "成功的入侵事件", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "未联系到厂商或者厂商积极忽略", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-11-14：\t积极联系厂商并且等待厂商认领中，细节不对外公开\t\t\t\t\t\t\t\t\t2014-12-29：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 从微信访问优才网的 详细说明：  http://182.254.145.235/mobile.php?act=entry&eid=4645&weid=1#报Fatal error\nFatal error: Uncaught exception 'PDOException' with message 'SQLSTATE[08004] [1040] Too many connections' in /home/ftp/source/class/db.class.php:44 Stack trace: #0 /home/ftp/source/class/db.class.php(44): PDO->__construct('mysql:dbname=uc...', 'ucaiftp', 'ucaiftp', Array) #1 /home/ftp/source/function/pdo.func.php(15): DB->__construct(Array) #2 /home/ftp/source/function/pdo.func.php(42): pdo() #3 /home/ftp/source/function/cache.mysql.func.php(18): pdo_fetchcolumn('SELECT `value` ...', Array) #4 /home/ftp/source/function/cache.func.php(26): cache_read('modules') #5 /home/ftp/source/bootstarp.mobile.inc.php(2): cache_load('modules') #6 /home/ftp/source/bootstrap.inc.php(123): require('/home/ftp/sourc...') #7 /home/ftp/mobile.php(7): require('/home/ftp/sourc...') #8 {main} thrown in /home/ftp/source/class/db.class.php on line 44\n通过校验确实是\n\n再然后我用winscp 连接，发现竟然可以进入到\n\n   漏洞证明：  \n\n\n\n   修复方案：  建议将异常抛出做严格处理，不要让数据库账户用户名裸了   版权声明：转载请注明来源 路人甲@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 未能联系到厂商或者厂商积极拒绝  ", "replys": "漏洞评价：\n评论\n     2014-12-30 10:52 |    \t\tBMa \t\t\t( 普通白帽子  |\t\t\t        Rank:1776 漏洞数:200        )\t\t \n  这个报错确实很奇葩    \n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}