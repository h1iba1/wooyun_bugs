{"id": 2955, "wybug_id": "wooyun-2014-062433", "wybug_title": "家校通数字校园平台SQL注入（大量用户敏感信息/免费为各学校充值）", "wybug_corp": "家校通", "wybug_author": "PythonPig", "wybug_date": "2014-05-28 19:13", "wybug_open_date": "2014-07-12 19:13", "wybug_type": "SQL注射漏洞", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "已交由第三方合作机构(cncert国家互联网应急中心)处理", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["注入", "明文密码", "后台弱口令", "大量信息泄漏"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-05-28：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-06-01：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2014-06-11：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2014-06-21：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2014-07-01：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2014-07-12：\t细节向公众公开  简要描述： 某全国性教育平台SQL注入大量用户敏感信息泄漏免费为各学校充值群发（单发）短信妈妈再也不用担心我上学了~~ 详细说明：  写在前面：该教育平台有全国多个省市的学校在使用，粗略的计算了一下：1、几百所学校 X 每个学校100名老师 = 几万老师信息2、几百所学校 X 每个学校1000名学生 = 几十万学生信息3、几百所学校 X 每个学校1000名学生家长 = 几十万学生家长信息4、系统管理员权限很大，可以导出各个学校老师、学生、家长的信息5、系统管理员权限很大，可以为各个学校充值~~免费的哟~~6、以学校、校长、老师给学生家长、学生群发（单发）短信，利用家长对学校、老师的信任，其中危害你们懂的~~下面说点正事吧0x01:先来看看注入点：http://www.eee.cn/yizhi/list_inc/miyu_list_inc.jsp?app=reping&type=4,   type存在boolean-based blind注入。0x02：下面是数据库\n\n0x03：一共有几百个表，这里直接就把数据贴出来吧，下面是可以登陆后台的“管理员”账户密码，后台地址为：http://www.eee.cn/manager.do\n\n0x04：技术部1 为系统管理员，用户名：dwx，密码：net3721，进入后台，后台地址为：http://www.eee.cn/manager.do1、可以导出各个学校老师、家长资料老师资料\n\n学生、学生家长资料\n\n2、管理全国各地学校、代理商，每个代理商代理一个地区的学校，代理商的权限也很大，可以导出资料，群发短信等等\n\n3、看到了15万余额~激动中~~可以为各个学校免费充值，为各地代理商修改费用标准，充值、修改密码等等~~\n\n\n\n   漏洞证明：  见上~   修复方案：  1、过滤2、全站查找，还有其他的注入点3、类似的还有另个三个站，上面的那个系统管理员也可以登陆，修改密码\n\n4、密码加密5、涉及这么多学校，这么多钱钱，多给点rank不花钱~~呵呵~？   版权声明：转载请注明来源 PythonPig@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：13  确认时间：2014-06-01 23:27 厂商回复： CNVD确认并复现所述情况，由CNVD通过公开渠道向网站管理方通报处置。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2014-05-28 16:11 |    \t\tPythonPig \t\t\t( 普通白帽子  |\t\t\t        Rank:491 漏洞数:71        | 只会简单工具的小小菜)\t\t \n  @疯狗 @xsser @Finder 哥哥们，这个洞走小厂商啊？家校通本身就是运营商与教育部门推出的一个产品，不是厂商的嘛，为什么不给cncert处理？    \n     2014-05-28 18:27 |    \t\t疯狗  \t\t\t( 实习白帽子  |\t\t\t        Rank:44 漏洞数:2        | 阅尽天下漏洞，心中自然无码。)\t\t \n  @PythonPig cert最近好像很忙    \n     2014-05-28 18:50 |    \t\tPythonPig \t\t\t( 普通白帽子  |\t\t\t        Rank:491 漏洞数:71        | 只会简单工具的小小菜)\t\t \n  @疯狗 狗哥，这个“家校通”是个产品，不是厂商啊。这个洞估计“家校通”不会认领，你把这个洞删了吧，作为白帽子本想为安全做点事，，如果最后公开了，结果反而把厂商坑了。还有狗哥，这个竟然也是小厂商啊？    \n     2014-05-28 19:13 |    \t\t疯狗  \t\t\t( 实习白帽子  |\t\t\t        Rank:44 漏洞数:2        | 阅尽天下漏洞，心中自然无码。)\t\t \n  @PythonPig 漏洞重新分配给cert了 ：）    \n     2014-05-29 08:32 |    \t\tsecgov \t\t\t( 路人 |\t\t\t        Rank:10 漏洞数:3        | 安全审计，漏洞挖掘,WAF. 揭露漏洞有风险，...)\t\t \n  家校通 本来就是不值得一提的东西。    \n     2014-05-29 10:36 |    \t\t小学猹 \t\t\t( 实习白帽子  |\t\t\t        Rank:81 漏洞数:30        | 暮春者，春服既成，冠者五六人，童子六七人...)\t\t \n  - -mark一下    \n     2014-07-11 16:41 |    \t\twefgod \t\t\t( 普通白帽子  |\t\t\t        Rank:1807 漏洞数:179        | 力不从心)\t\t \n  这好像不是通用的东西？    \n     2014-07-11 17:30 |    \t\tPythonPig \t\t\t( 普通白帽子  |\t\t\t        Rank:491 漏洞数:71        | 只会简单工具的小小菜)\t\t \n  @wefgod 难道是个通用？    \n     2014-07-12 19:46 |    \t\t4399gdww \t\t\t( 路人 |\t\t\t        Rank:20 漏洞数:4        | )\t\t \n  打码是一门高深的学问啊    \n     2014-07-12 20:15 |    \t\t魇 \t\t\t( 普通白帽子  |\t\t\t        Rank:1207 漏洞数:104        | 传闻中魇是一个惊世奇男子，但是除了他华...)\t\t \n  @wefgod 咳咳 你尽盯着通用     \n     2014-07-12 20:56 |    \t\t动后河 \t\t\t( 实习白帽子  |\t\t\t        Rank:51 漏洞数:13        | ☭)\t\t \n  terminal背景还能弄这么漂亮！    \n     2014-07-12 20:56 |    \t\tPythonPig \t\t\t( 普通白帽子  |\t\t\t        Rank:491 漏洞数:71        | 只会简单工具的小小菜)\t\t \n  @动后河 换个背景颜色而已~    \n     2014-07-12 22:40 |    \t\tEv1l \t\t\t( 实习白帽子  |\t\t\t        Rank:68 漏洞数:20        | 问题真实存在但影响不大。联系邮箱security...)\t\t \n  严重声明这是个很通用的东西，记得我上小学的时候这玩意就出现了，当时每个与还有6块钱呢    \n     2014-07-12 22:42 |    \t\treality0ne \t\t\t( 路人 |\t\t\t        Rank:18 漏洞数:7        )\t\t \n  我怀疑用那个blog1801帐号进去还能getshell    \n     2014-07-12 22:49 |    \t\tU神 \t\t\t( 核心白帽子 |\t\t\t        Rank:1285 漏洞数:142        | 感谢乌云，知恩不忘，其实我一直都在乌云默...)\t\t \n  @PythonPig 你这漏洞发的有点过头了    \n     2014-07-12 23:14 |    \t\tlck丶 \t\t\t( 路人 |\t\t\t        Rank:6 漏洞数:2        | 求大牛拿0day砸死)\t\t \n  果然打码是个技术活    \n     2014-07-12 23:36 |    \t\tPythonPig \t\t\t( 普通白帽子  |\t\t\t        Rank:491 漏洞数:71        | 只会简单工具的小小菜)\t\t \n  @U神 怎么说？    \n     2014-07-12 23:59 |    \t\tU神 \t\t\t( 核心白帽子 |\t\t\t        Rank:1285 漏洞数:142        | 感谢乌云，知恩不忘，其实我一直都在乌云默...)\t\t \n  @PythonPig 尽量不要去获取数据，这可能会带来不必要的麻烦，其实这已经涉嫌非法获取计算机信息系统数据罪了，如果获取的是无用的数据、情节不严重则不构成此罪    \n     2014-07-13 00:01 |    \t\tPythonPig \t\t\t( 普通白帽子  |\t\t\t        Rank:491 漏洞数:71        | 只会简单工具的小小菜)\t\t \n  @U神 哥，表吓我，我没有获取任何数据啊~而且目的就是想提醒下厂商~~    \n     2014-07-13 02:35 |    \t\tArthur \t\t\t( 实习白帽子  |\t\t\t        Rank:77 漏洞数:33        | USA，I am coming！！！！！)\t\t \n  @U神 U神又在恐吓小学生了。    \n     2014-07-13 09:37 |    \t\t低调的瘦子 \t\t\t( 普通白帽子  |\t\t\t        Rank:466 漏洞数:68        | loading……………………)\t\t \n  @U神 已通过洞主打码技术顺利getshell并再次告知管理方    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 13, "Ranks": null}