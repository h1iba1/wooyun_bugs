{"id": 20153, "wybug_id": "wooyun-2012-05845", "wybug_title": "一场由系统默认设置和弱口令引发的血案= =、", "wybug_corp": "深澜软件", "wybug_author": "itleaf", "wybug_date": "2012-04-07 19:23", "wybug_open_date": "2012-05-22 19:24", "wybug_type": "后台弱口令", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "已交由第三方合作机构(cncert国家互联网应急中心)处理", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2012-04-07：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2012-04-11：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2012-04-21：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2012-05-01：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2012-05-11：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2012-05-22：\t细节向公众公开  简要描述： 首先我通过一些手段拿到系统设置后台密码.然后~~~深澜宽带计费系统一般搭建3个linux系统的服务器，一个认证服务器，一个数据库服务器，一个系统日志服务器。而该系统在各配置中，管理员设置不当，或者说深澜软件公司未指明系统设置，导致由默认密码开始，可导致数据库泄露，服务器被提权。它还有默认用户管理后台账户，数据库默认账户，80端口列目录，用户登录验证没有加密等。所以，就算系统设置密码改了，也是徒劳的。最后想想拿到网管密码该怎样进一步渗透吧~有兴趣的可以去看看它的合作伙伴，当然很多只是对内网开放的。 详细说明：  百度、谷歌： 深澜软件Powered by SrunSoft 找了个测试\n\n进入系统设置后台\n\n查看源代码即得到数据库密码，这个还是root权限的，有的是icc\n\n点击安全设置可看到\n\n然后直接8899进phpMyadmin，可得到网管以及用户密码这里我就不演示这个ip了（有的是icc用户，密码也可同上得到。然后我们猜下root用户密码，好吧，很简单，也就是上面那个。）进去之后可以查看8080端口的用户管理后台，这里就是网管给开账户什么的地方。好吧我们开个账户玩玩，日志有记录的。\n\n我通过mysql导出一句话会出现Can't create-write to file 。mysql配置文件被改了。试了下管理后台的发布通知中的上传功能，服务器验证，也无法突破拿shell。难道这就阻止我们前进的脚步了吗？怎么可能！直接上远程吧，密码就用网管的用户管理后台密码/坏笑\n\n\n\n\n\n好吧没什么技术含量= =、    漏洞证明：  如上   修复方案：  改密码，绑ip，删除或者更改默认密码。   版权声明：转载请注明来源 itleaf@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：11  确认时间：2012-04-11 14:51 厂商回复： 在itleaf同学的进一步协助下，确认并复现了所述过程。虽然涉及深澜软件默认配置，但认定为个案漏洞事件，不作为通用漏洞。将直接联系中国科学院网络管理中心处置。CVSS评分：(AV:R/AC:L/Au:NR/C:C/A:C/I:N/B:N) Score:9.43（最高10分，高危)即：远程攻击、攻击难度低、不需要用户认证，对机密性、可用性造成完全影响，不影响完整性。技术难度系数：1.0(一般，google hack是应用检测的重要辅助手段之一)影响危害系数：1.1(一般，涉及新上线的校园网管理系统）综合评分：9.43*1.0*1.1=10.373 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2012-04-11 15:04 |    \t\tpossible \t\t\t( 普通白帽子  |\t\t\t        Rank:373 漏洞数:32        | everything is possible!)\t\t \n  好厉害...    \n     2012-04-11 17:41 |    \t\titleaf \t\t\t( 普通白帽子  |\t\t\t        Rank:140 漏洞数:17        )\t\t \n  @cncert国家互联网应急中心 可能我只说重点了。它还有默认用户管理后台账户（超级管理员权限），数据库默认账户（root权限，还有另一个），80端口列目录（如files目录等），用户登录验证没有加密等。还有外网的大部分后台密码都没改，这个软件的用户不仅仅是学校，还有一些企业，可看它官网介绍的合作伙伴。总结：它的一些默认账户密码什么的本来应该是方便工作人员维护用的，不过所有产品都是一样的账户密码。    \n     2012-04-11 17:49 |    \t\titleaf \t\t\t( 普通白帽子  |\t\t\t        Rank:140 漏洞数:17        )\t\t \n  @cncert国家互联网应急中心 我在提交漏洞之前失误联系过厂商= =、    \n     2012-05-09 19:04 |    \t\thorseluke \t\t\t( 普通白帽子  |\t\t\t        Rank:116 漏洞数:18        | Realize the dream in earnest.)\t\t \n  相关关联： WooYun: 金蝶某软件存在某隐藏sqlserver账户 （默认配置漏洞）    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 11, "Ranks": null}