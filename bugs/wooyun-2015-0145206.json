{"id": 84307, "wybug_id": "wooyun-2015-0145206", "wybug_title": "新华社旗下全国大学生信息采集系统某系统存在漏洞", "wybug_corp": "新华通讯社", "wybug_author": "Q1NG", "wybug_date": "2015-10-08 13:42", "wybug_open_date": "2015-11-26 16:42", "wybug_type": "网络敏感信息泄漏", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "已交由第三方合作机构(cncert国家互联网应急中心)处理", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["服务器配置失误"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-10-08：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-10-12：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-10-22：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-11-01：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-11-11：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-11-26：\t细节向公众公开  简要描述： 新华社旗下全国大学生信息采集系统某系统存在漏洞 详细说明：  大学生图像信息采集网http://**.**.**.**/   随便点了下让报错 看下是什么系统 ,发现是用的Thinkphp框架 调试模式没有关,然后看到有个下载表格在本站目录下,然后就发现了有个test.php 页面 是phpinfo 的页面\n\nhttp://**.**.**.**/test.php\n\n继而又发现一个 check.php 文件 用来列出网站下全部文件路径http://**.**.**.**/check.php发现有svn 的遗留文件 很多采集的资料\n\n\n\n下载配置文件\n\n拿到数据库用户名 密码 不过是内网的数据库   还有很多配置文件 例工商银行转账接口API账户.......就没深挖了,要是数据库用的公网,那全国的大学生采集的信息,也就.......    漏洞证明：  \n<?phpreturn array(    //---测试配置----------------------------------------------------    //'APP_DEBUG' => true, // 开启调试模式    //'SHOW_PAGE_TRACE'=>1,//跟踪调试    //'DB_HOST' => '**.**.**.**', // 测试_数据库服务器地址    //'DB_NAME' => 'phpcms', // 测试_数据库名称    //'DB_USER' => 'chenhongqi', // 数据库用户名    //'DB_PWD' => '88888888', // 数据库密码    //---正式配置----------------------------------------------------    'APP_DEBUG' => false, // 开启调试模式    'SHOW_PAGE_TRACE'=>0,//跟踪调试    'DB_HOST' => '**.**.**.**', // 测试_数据库服务器地址    'DB_NAME' => 'shangman1', // 测试_数据库名称    'DB_USER' => 'chenhongqi', // 数据库用户名    'DB_PWD' => '88888888', // 数据库密码    //--------------------------------------------------------------    'DB_TYPE' => 'mysql', // 数据库类型    'DB_PORT' => '3306', // 数据库端口    'DB_PREFIX' => '', // 数据表前缀    //--------------------------------------------------------------    //url模式    'URL_MODEL' => 0,    //--------------------------------------------------------------    //--------------------------------------------------------------    //大学生数据采集的订单状态    'UNISTU_ORDER_STATUS_BEFORE_AUDITING'=>'beforeauditing',//审核前，客户可以修改，【给一个时间段】.    'UNISTU_ORDER_STATUS_AUDITING'=>'auditing',          //此状态时，客户不能修改.    'UNISTU_ORDER_STATUS_PROCESSING'=>'processing',      //此状态时，客户不能修改.    'UNISTU_ORDER_STATUS_FINISHED'=>'finished',          //此状态时，客户不能修改.    'UNISTU_ORDER_DETAIL_STATUS_AUDIT_FAILED'=>-1,//修改前（审核失败）    'UNISTU_ORDER_DETAIL_STATUS_AUDIT_DEFAULT'=>0,//修改后    'UNISTU_ORDER_DETAIL_STATUS_AUDITING'=>1,     //审核中    'UNISTU_ORDER_DETAIL_STATUS_AUDIT_SUCCESS'=>2,//审核通过    'UNISTU_ORDER_DETAIL_STATUS_MAKING'=>3,       //制作中    'UNISTU_ORDER_DETAIL_STATUS_FINISHED'=>4,     //制作完成    //--------------------------------------------------------------    //用户的状态    'USER_STATUS_REGISTER' => 0,//注册未激活    'USER_STATUS_ACTIVED'=>1,   //注册激活    'USER_STATUS_LOCKED'=>4,    //账号锁定    //--------------------------------------------------------------    //图片服务器在web服务器上挂载的位置    'MOUNT_DIR'=>'/mnt/webimages/img', //正式环境    //'MOUNT_DIR'=>'.',//开发环境    //--------------------------------------------------------------    'TMPL_ACTION_ERROR'     => './Public/hint.html', // 默认错误跳转对应的模板文件    'TMPL_ACTION_SUCCESS'   => './Public/hint.html', // 默认成功跳转对应的模板文件    'TMPL_EXCEPTION_FILE'   => './Public/exception.html',// 异常页面的模板文件    //--------------------------------------------------------------    'VAR_FILTERS' => 'htmlspecialchars',    'APP_AUTOLOAD_PATH' => 'App_Shares.Action,App_Shares.Model,App_Shares.Logic', //导入的公共类库位置    //--------------------------------------------------------------    'SITE_NAME'=>'中国图品在线');\n   修复方案：  上线项目一定要把svn删除了    版权声明：转载请注明来源 Q1NG@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：8  确认时间：2015-10-12 16:40 厂商回复：     CNVD确认并复现所述情况,已经转由CNCERT向网站主管单位——新华社上报,由其后续协调网站管理单位处置.  最新状态： 暂无  ", "replys": "漏洞评价：\n评价\n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 8, "Ranks": null}