{"id": 81360, "wybug_id": "wooyun-2015-0153920", "wybug_title": "GITC之空中网redis未授权访问", "wybug_corp": "空中网", "wybug_author": "共产党员", "wybug_date": "2015-11-18 15:17", "wybug_open_date": "2016-01-11 15:32", "wybug_type": "未授权访问/权限绕过", "wybug_level": "中", "wybug_rank_0": "10", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["未授权访问"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-11-18：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-11-19：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-11-29：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-12-09：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-12-19：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2016-01-11：\t细节向公众公开  简要描述： Redis因配置不当可以未授权访问，被攻击者恶意利用。攻击者无需认证访问到内部数据，可能导致敏感信息泄露，黑客也可以恶意执行flushall来清空所有数据。攻击者可通过EVAL执行lua代码，或通过数据备份功能往磁盘写入后门文件，如果Redis以root身份运行，黑客可以给root账户写入SSH公钥文件，直接通过SSH登录受害服务器。 详细说明：   WooYun: 空中网数台服务器数据库未授权访问 应该是空中网的ip段redis未授权访问118.26.205.153    漏洞证明：  \n\n   修复方案：  1、指定redis服务使用的网卡 （需要重启redis才能生效）在 redis.conf 文件中找到 “# bind 127.0.0.1” ，把前面的#号去掉，然后保存。注：修改后只有本机才能访问Redis。 2、设置访问密码 （需要重启redis才能生效）在 redis.conf 中找到“requirepass”字段，在后面填上你需要的密码，Redis客户端也需要使用此密码来访问Redis服务。 3、修改Redis服务运行账号 请以较低权限账号运行Redis服务，且禁用该账号的登录权限。可以限制攻击者往磁盘写入文件，但是Redis数据还是能被黑客访问到，或者被黑客恶意删除。 4、设置防火墙策略如果正常业务中Redis服务需要被其他服务器来访问，可以设置iptables策略仅允许指定的IP来访问Redis服务。   版权声明：转载请注明来源 共产党员@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：5  确认时间：2015-11-19 18:05 厂商回复： 感谢关注，我们正在联系相关业务负责人处理。 最新状态： 暂无  ", "replys": "漏洞评价：\n评价\n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 5, "Ranks": null}