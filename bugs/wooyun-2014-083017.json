{"id": 48435, "wybug_id": "wooyun-2014-083017", "wybug_title": "利用技巧get百度某论坛数据库（数百万用户）", "wybug_corp": "百度", "wybug_author": "s0mun5", "wybug_date": "2014-11-12 15:39", "wybug_open_date": "2014-12-27 15:40", "wybug_type": "应用配置错误", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-11-12：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-11-13：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2014-11-23：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2014-12-03：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2014-12-13：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2014-12-27：\t细节向公众公开  简要描述： 利用技巧get百度某论坛数据库 详细说明：  http://bbs.os.baidu.com/forum.php百度云os论坛http://bbs.os.baidu.com/uc_server/ ucserver设置了访问限制但是基于uc的特性 我们可以远程调用api获取uc的配置基于正常人的思维，既然后台做了限制，很有可能就偷懒在密码上防护很弱。所以我们猜测弱口令去调用api获取具体配置。果然，创始人密码是123.   漏洞证明：  首先本地下载一套dz论坛搭建。到第二步的时候选择第二个 ，填入baidu论坛的地址和弱口令123。\n\n点下一步，如果密码正确会到数据库设置页面。然后现在到本地查看conf/config_ucenter.php\n<?phpdefine('UC_CONNECT', '');define('UC_DBHOST', 'svrid4cct4nd1id.mysql.duapp.com:10103');define('UC_DBUSER', 'bae');define('UC_DBPW', 'VIxXAqfbIDI4pSst6XBhnirlljGxUC9u');define('UC_DBNAME', 'svrid4cct4nd1id');define('UC_DBCHARSET', 'utf8');define('UC_DBTABLEPRE', '`svrid4cct4nd1id`.dz_ucenter_');define('UC_DBCONNECT', 0);define('UC_CHARSET', 'utf-8');define('UC_KEY', 'a605V7e4c8WageS8edr8w4F88cRdc0Y1f2deP4U7Oce6Rb26acmfJ3X7z3Z8xec4');define('UC_API', 'http://bbs.os.baidu.com/uc_server');define('UC_APPID', '4');define('UC_IP', '119.75.219.53');define('UC_PPP', 20);?>\nok数据库用户密码有了，刚好又在bae。理论上bae上的所有应该都可以从内网链接它。申请一个bae，上传一个一句话，然后用菜刀连接。\n\n连接成功。\n\n   修复方案：     版权声明：转载请注明来源 s0mun5@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：15  确认时间：2014-11-13 09:54 厂商回复： 感谢提交，已通知业务部门处理 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2014-11-12 15:42 |    \t\thkAssassin \t\t\t( 普通白帽子  |\t\t\t        Rank:358 漏洞数:66        | 我是一只毛毛虫。)\t\t \n  擦，小板凳早已备好！    \n     2014-11-12 15:48 |    \t\t泳少 \t\t\t( 普通白帽子  |\t\t\t        Rank:231 漏洞数:79        | ★           梦想这条路踏上了，跪着也要...)\t\t \n  哥。。。你来了。。    \n     2014-11-12 15:50 |    \t\tCoody  \t\t\t( 核心白帽子 |\t\t\t        Rank:1565 漏洞数:189        | 不接单、不黑产；如遇接单收徒、绝非本人所...)\t\t \n  黑阔、你好，黑阔、再见。    \n     2014-11-12 15:51 |    \t\t健宇 \t\t\t( 普通白帽子  |\t\t\t        Rank:131 漏洞数:14        | tools kid)\t\t \n  哥。。。你来了。。    \n     2014-11-12 15:52 |    \t\t浩天  \t\t\t( 普通白帽子  |\t\t\t        Rank:915 漏洞数:79        | 度假中...)\t\t \n  大黑阔，这淫荡的思路    \n     2014-11-12 15:53 |    \t\tpysolve \t\t\t( 路人 |\t\t\t        Rank:17 漏洞数:3        | Time is killing u when ur killing time!)\t\t \n  碉！    \n     2014-11-12 15:53 |    \t\t白非白 \t\t\t( 普通白帽子  |\t\t\t        Rank:447 漏洞数:60        | ♫ Freedom - Anthony Hamilton ♫)\t\t \n  还差一个？    \n     2014-11-12 15:54 |    \t\tp4ssw0rd \t\t\t( 普通白帽子  |\t\t\t        Rank:306 漏洞数:92        | 不作死就不会死)\t\t \n  V587    \n     2014-11-12 15:55 |    \t\t围剿 \t\t\t( 路人 |\t\t\t        Rank:17 漏洞数:5        | Evil decimal)\t\t \n  记者看这里。。    \n     2014-11-12 16:01 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  目测小V马上就升级为核心了。。    \n     2014-11-12 16:06 |    \t\terevus \t\t\t( 普通白帽子  |\t\t\t        Rank:177 漏洞数:31        | Hacked by @ringzero 我錯了)\t\t \n  csrf?还是短文件名    \n     2014-11-12 16:06 |    \t\t子非海绵宝宝  \t\t\t( 核心白帽子 |\t\t\t        Rank:1044 漏洞数:106        | 发扬海绵宝宝的精神!你不是海绵宝宝,你怎...)\t\t \n  感觉碉堡了!    \n     2014-11-12 16:26 |    \t\tX1n6 \t\t\t( 路人 |\t\t\t        Rank:4 漏洞数:1        | Don't worry, be happy and, according to ...)\t\t \n  这里是来着CCAV相关媒体，您的信息我们将放入头条。    \n     2014-11-12 16:31 |    \t\t邪恶魔法师 \t\t\t( 路人 |\t\t\t        还没有发布任何漏洞        | cat /proc/versioncat /etc/redhat-relea...)\t\t \n  我最早的一次也是get人家数据，后来人家发现了，关了    \n     2014-11-12 16:38 |    \t\tD_in \t\t\t( 普通白帽子  |\t\t\t        Rank:413 漏洞数:62        | 到我嘴里来)\t\t \n  什么淫荡的思路    \n     2014-11-12 16:39 |    \t\t浩天  \t\t\t( 普通白帽子  |\t\t\t        Rank:915 漏洞数:79        | 度假中...)\t\t \n  @D_in 是淫荡的姿势    \n     2014-11-12 16:44 |    \t\tD_in \t\t\t( 普通白帽子  |\t\t\t        Rank:413 漏洞数:62        | 到我嘴里来)\t\t \n  @浩天大牛指教了    \n     2014-11-12 16:49 |    \t\tDM_ \t\t\t( 实习白帽子  |\t\t\t        Rank:72 漏洞数:15        )\t\t \n  哥。。。你来了。。    \n     2014-11-12 17:00 |    \t\tMartes \t\t\t( 路人 |\t\t\t        Rank:21 漏洞数:3        | 人若无名，便可专心练剑)\t\t \n  越来越奝了啊，膜拜    \n     2014-11-12 17:08 |    \t\t小威 \t\t\t( 普通白帽子  |\t\t\t        Rank:492 漏洞数:76        | 活到老，学到老!)\t\t \n  帝吧十万水军将于30分钟后到达现场！    \n     2014-11-12 17:32 |    \t\tYang \t\t\t( 普通白帽子  |\t\t\t        Rank:247 漏洞数:86        | 作为菜鸟，大米手机摔破了怎么办？)\t\t \n  帝吧大军马上就要来了。。幸好这里不能瞎注册不然爆乌云那都不是事    \n     2014-11-12 18:08 |    \t\t动后河 \t\t\t( 实习白帽子  |\t\t\t        Rank:51 漏洞数:13        | ☭)\t\t \n  来了，关注关注！    \n     2014-11-12 18:52 |    \t\t咖啡 \t\t\t( 实习白帽子  |\t\t\t        Rank:48 漏洞数:20        )\t\t \n  帝吧观光团，强势围观    \n     2014-11-12 19:17 |    \t\t茜茜公主 \t\t\t( 普通白帽子  |\t\t\t        Rank:2360 漏洞数:406        | 家里二宝出生，这几个月忙着把屎把尿...忒...)\t\t \n  哥。。。你来了。。     \n     2014-11-12 20:08 |    \t\t秋风 \t\t\t( 普通白帽子  |\t\t\t        Rank:438 漏洞数:44        | 码农一枚，关注互联网安全)\t\t \n  NB!    \n     2014-11-12 20:11 |    \t\t铁蛋火车侠 \t\t\t( 普通白帽子  |\t\t\t        Rank:156 漏洞数:31        | Q群371620085 技术交流群 有漂亮妹纸！)\t\t \n  。。。    \n     2014-11-12 20:38 |    \t\t龍 、 \t\t\t( 普通白帽子  |\t\t\t        Rank:398 漏洞数:135        | 你若安好  我就是晴天)\t\t \n  越来越奝了啊，膜拜    \n     2014-11-12 21:40 |    \t\t马云 \t\t\t( 路人 |\t\t\t        Rank:10 漏洞数:5        | 啪啪啪啪啪啪啪啪)\t\t \n  帝吧观光团，强势围观    \n     2014-11-12 22:48 |    \t\t迦南 \t\t\t( 路人 |\t\t\t        Rank:14 漏洞数:11        | 我不是玩黑，我就是认真)\t\t \n  楼上带我遨游阿里    \n     2014-11-12 22:55 |    \t\t小牛牛 \t\t\t( 实习白帽子  |\t\t\t        Rank:56 漏洞数:7        | 求带)\t\t \n  我了个擦，求带我装逼    \n     2014-11-12 23:10 |    \t\t卡卡 \t\t\t( 普通白帽子  |\t\t\t        Rank:447 漏洞数:52        | <script>alert('安全团队长期招人')</scrip...)\t\t \n  @浩天 悄悄透漏透漏 嘿嘿~    \n     2014-11-23 10:48 |    \t\tfelixk3y \t\t\t( 普通白帽子  |\t\t\t        Rank:523 漏洞数:41        | php python jsp)\t\t \n  思路确实不错。    \n     2014-11-26 15:58 |    \t\tinsight-labs  \t\t\t( 普通白帽子  |\t\t\t        Rank:623 漏洞数:75        | Security guys)\t\t \n  不错…又开了个脑洞…    \n     2014-12-07 22:46 |    \t\t狗狗侠 \t\t\t( 普通白帽子  |\t\t\t        Rank:497 漏洞数:55        | 我是狗狗侠)\t\t \n  不错…又开了个脑洞…    \n     2014-12-13 16:35 |    \t\tCoffee \t\t\t( 普通白帽子  |\t\t\t        Rank:144 漏洞数:15        | Corie, a student of RDFZ.)\t\t \n  赞思路！    \n     2014-12-13 18:10 |    \t\tKnight \t\t\t( 实习白帽子  |\t\t\t        Rank:38 漏洞数:10        | 刚刚上洗手间，看到一个玉树临风的少年，气...)\t\t \n  good job！    \n     2014-12-13 19:16 |    \t\t咖啡 \t\t\t( 实习白帽子  |\t\t\t        Rank:48 漏洞数:20        )\t\t \n  新姿势啊    \n     2014-12-17 08:49 |    \t\tc0lc \t\t\t( 路人 |\t\t\t        Rank:0 漏洞数:1        | 小牛牛说，要打死你)\t\t \n  思路不错哇，哈    \n     2014-12-19 11:00 |    \t\t黑吃黑 \t\t\t( 普通白帽子  |\t\t\t        Rank:139 漏洞数:29        | 倚楼听风雨，淡看江湖路...)\t\t \n  犀利    \n     2014-12-19 11:09 |    \t\t孤独雪狼 \t\t\t( 普通白帽子  |\t\t\t        Rank:710 漏洞数:145        | 七夕手机被偷，这坑爹的七夕啊 。。。。)\t\t \n  这思路··掉渣天    \n     2014-12-26 16:50 |    \t\twhirlwind \t\t\t( 实习白帽子  |\t\t\t        Rank:34 漏洞数:8        | 极光肖风)\t\t \n  但是基于uc的特性 我们可以远程调用api获取uc的配置LZ详细说下行不    \n     2015-01-26 13:04 |    \t\talong \t\t\t( 实习白帽子  |\t\t\t        Rank:45 漏洞数:7        | 关注信息安全，阿龙)\t\t \n  不错…又开了个脑洞…     \n     2015-07-23 02:26 |    \t\t牛肉包子 \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:64        )\t\t \n  好思路    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 15, "Ranks": null}