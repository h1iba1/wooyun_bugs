{"id": 14381, "wybug_id": "wooyun-2013-017277", "wybug_title": "正方教务管理系统读取学生头像注入漏洞", "wybug_corp": "正方教务管理系统", "wybug_author": "姿势不行", "wybug_date": "2013-01-14 10:25", "wybug_open_date": "2013-02-28 10:25", "wybug_type": "SQL注射漏洞", "wybug_level": "中", "wybug_rank_0": "6", "wybug_status": "已交由第三方合作机构(cncert国家互联网应急中心)处理", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["注入", "过滤", "正方"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-01-14：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-01-17：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2013-01-27：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2013-02-06：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2013-02-16：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2013-02-28：\t细节向公众公开  简要描述： 正方教务管理系统读取学生头像处学号未过滤导致注入 详细说明：  抓包获得头像链接，可以进行盲注。。   漏洞证明：  \n\n\n\n   修复方案：  过滤过滤再过滤。。   版权声明：转载请注明来源 姿势不行@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：10  确认时间：2013-01-17 16:32 厂商回复： CNVD根据图片确认漏洞（未复现），将于近期汇总所有相关漏洞提交软件生产厂商进行处置。rank=10 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-01-14 10:58 |    \t\t狗样的男人 \t\t\t( 实习白帽子  |\t\t\t        Rank:42 漏洞数:11        )\t\t \n  这个必须关注    \n     2013-01-14 12:11 |    \t\tmilk \t\t\t( 路人 |\t\t\t        Rank:21 漏洞数:5        | 美女，你肥皂掉了)\t\t \n  卧槽，正方这是肿么了？难道是期末了？    \n     2013-01-14 14:26 |    \t\t冰锋刺客 \t\t\t( 普通白帽子  |\t\t\t        Rank:113 漏洞数:14        | 请在监护人陪同下与本人交流)\t\t \n  其实还可以查看学生完整信息    \n     2013-01-19 21:33 |    \t\tDocee \t\t\t( 路人 |\t\t\t        Rank:10 漏洞数:3        | 屌丝)\t\t \n  测试了一下，没发现可以注入啊!    \n     2013-01-20 00:20 |    \t\t姿势不行 \t\t\t( 路人 |\t\t\t        Rank:22 漏洞数:7        | 我是爱卖萌的小阿狸呀http://www.qinqinyo....)\t\t \n  @Docee 把你的截图发给我    \n     2013-01-22 12:42 |    \t\tDocee \t\t\t( 路人 |\t\t\t        Rank:10 漏洞数:3        | 屌丝)\t\t \n  @姿势不行 没准是我弄错了，你是在学号部分构造的吧？    \n     2013-01-22 13:12 |    \t\t姿势不行 \t\t\t( 路人 |\t\t\t        Rank:22 漏洞数:7        | 我是爱卖萌的小阿狸呀http://www.qinqinyo....)\t\t \n  @Docee 是啊，不然呢    \n     2013-01-23 01:47 |    \t\tDocee \t\t\t( 路人 |\t\t\t        Rank:10 漏洞数:3        | 屌丝)\t\t \n  @姿势不行 那可能是部分学校版本太低可以，目测杭州版的都会跳回登陆页。    \n     2013-01-23 14:18 |    \t\t姿势不行 \t\t\t( 路人 |\t\t\t        Rank:22 漏洞数:7        | 我是爱卖萌的小阿狸呀http://www.qinqinyo....)\t\t \n  @Docee 截止我发出来的时候还没出新版本。。目测你用的职工号？    \n     2013-01-23 16:56 |    \t\t黄色沙漠 \t\t\t( 路人 |\t\t\t        Rank:11 漏洞数:1        )\t\t \n  @姿势不行 哇哦大家都有职工号，这个测漏妥妥的，好些无权限绕过的，这个系统太假了改天把它平台给端了    \n     2013-01-23 18:07 |    \t\t姿势不行 \t\t\t( 路人 |\t\t\t        Rank:22 漏洞数:7        | 我是爱卖萌的小阿狸呀http://www.qinqinyo....)\t\t \n  @黄色沙漠 不用职工号也可以，批量爆破就可以得到一大堆的。    \n     2013-01-23 19:13 |    \t\tDocee \t\t\t( 路人 |\t\t\t        Rank:10 漏洞数:3        | 屌丝)\t\t \n  @姿势不行 弄着玩的而已。。。正方以前那个漏洞想怎么进就怎么进，跟本就不用注入。    \n     2013-01-23 23:01 |    \t\t姿势不行 \t\t\t( 路人 |\t\t\t        Rank:22 漏洞数:7        | 我是爱卖萌的小阿狸呀http://www.qinqinyo....)\t\t \n  @Docee 那时那时正方还是处，现在已经黑木耳了，所以久经人道，都懂了。    \n     2013-01-23 23:24 |    \t\tDocee \t\t\t( 路人 |\t\t\t        Rank:10 漏洞数:3        | 屌丝)\t\t \n  @姿势不行 那个211端口的漏洞到现在也没修复。这黑木耳让人ri久了，都无所谓了。    \n     2013-01-24 01:00 |    \t\t姿势不行 \t\t\t( 路人 |\t\t\t        Rank:22 漏洞数:7        | 我是爱卖萌的小阿狸呀http://www.qinqinyo....)\t\t \n  @Docee 现在让嫖，给钱就让C了哈    \n     2013-01-24 17:06 |    \t\t黄色沙漠 \t\t\t( 路人 |\t\t\t        Rank:11 漏洞数:1        )\t\t \n  这木耳都快烂了，肿么还不修复哈！唉唉真心不负责的厂商不解释    \n     2013-01-24 22:38 |    \t\t姿势不行 \t\t\t( 路人 |\t\t\t        Rank:22 漏洞数:7        | 我是爱卖萌的小阿狸呀http://www.qinqinyo....)\t\t \n  @黄色沙漠 真心要是负责任早就修补得差不多了    \n     2013-01-25 00:23 |    \t\tDocee \t\t\t( 路人 |\t\t\t        Rank:10 漏洞数:3        | 屌丝)\t\t \n  @姿势不行 给我一句sql构造语句。。我再试一下。    \n     2013-01-25 01:25 |    \t\t姿势不行 \t\t\t( 路人 |\t\t\t        Rank:22 漏洞数:7        | 我是爱卖萌的小阿狸呀http://www.qinqinyo....)\t\t \n  @Docee oracle的语句和MSSQLMYSQL有点小差别而已。。这些是我之前临时做的笔记。。显示当前库非系统表：SELECT TABLE_NAME FROM ALL_TABLES WHERE OWNER<>'SYS' AND OWNER<>'SYSTEM'显示所有用户：select * from all_users查询用户权限：select * from user_tab_privs(select ascii(substr((table_name),2,1)) from user_tables where rownum=1)=95select * from tablename where … and rownum<10 minus select * from tablename where … and rownum<5 order by name rownum<2 前两个Oracle 可利用表all_tables(user_tables):\t   table_nameuser_tab_columns:\t   user_tab_columns\t   table_name    \n     2013-01-25 01:26 |    \t\t姿势不行 \t\t\t( 路人 |\t\t\t        Rank:22 漏洞数:7        | 我是爱卖萌的小阿狸呀http://www.qinqinyo....)\t\t \n  @Docee 不过不能UNION只能一字符一字符。。    \n     2013-02-23 19:19 |    \t\t剑走偏锋 \t\t\t( 路人 |\t\t\t        Rank:6 漏洞数:4        | 剑走偏锋丨Zoupian Jian-feng)\t\t \n  我们学校的也不可以啊 --    \n     2013-02-23 19:41 |    \t\t姿势不行 \t\t\t( 路人 |\t\t\t        Rank:22 漏洞数:7        | 我是爱卖萌的小阿狸呀http://www.qinqinyo....)\t\t \n  @剑走偏锋 你确定和图片中的参数都一样，还有，这个很久的了。一个月了    \n     2013-02-23 21:48 |    \t\t剑走偏锋 \t\t\t( 路人 |\t\t\t        Rank:6 漏洞数:4        | 剑走偏锋丨Zoupian Jian-feng)\t\t \n  @姿势不行 留个联系方式被  帮我看眼，我整不明白我闹心啊。    \n     2013-02-24 02:57 |    \t\t姿势不行 \t\t\t( 路人 |\t\t\t        Rank:22 漏洞数:7        | 我是爱卖萌的小阿狸呀http://www.qinqinyo....)\t\t \n  如果你按图中详细步骤都不对的话，Q我729028583    \n     2013-02-24 03:05 |    \t\t剑走偏锋 \t\t\t( 路人 |\t\t\t        Rank:6 漏洞数:4        | 剑走偏锋丨Zoupian Jian-feng)\t\t \n  @姿势不行 加你了亲    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 10, "Ranks": null}