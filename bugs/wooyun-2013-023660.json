{"id": 11885, "wybug_id": "wooyun-2013-023660", "wybug_title": "腾讯QQ群论坛储存型xss", "wybug_corp": "腾讯", "wybug_author": "别在说", "wybug_date": "2013-05-13 18:41", "wybug_open_date": "2013-06-27 18:42", "wybug_type": "xss跨站脚本攻击", "wybug_level": "中", "wybug_rank_0": "20", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["存储型", "利用技巧", "技巧"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-05-13：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-05-14：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2013-05-24：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2013-06-03：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2013-06-13：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2013-06-27：\t细节向公众公开  简要描述： 看了心伤的瘦子前辈的xss教程受到了启发... 详细说明：  因而我们找存储型的时候，从一个地方输入数据，需要检测很多输出的点，从而可能会在很多点发现存储型XSS。至于如何根据输出来构建存储型XSS的代码，和反射型没有任何区别，都是看输出的上下文来进行。这段话是乌云心伤的瘦子xss实例教程里的 就是这句话启发我挖到滴。。修改QQ昵称/QQ资料/空间资料/QQ群昵称/QQ群资料/等等..任何能修改的地方!\n\n拿修改昵称为例 把昵称修改成我们的xss检测代码 它会被保存进腾讯的数据库然后找昵称输出的地方例如QQ客户端\n\n<>小括号被转码了 变成大括号了,这里就是一个\"输出点\" 并且过滤了<>例如登陆安全中心 就可以又看到一个\"输出点\"\n\n打开QQ群论坛的时候发现报错了 猜测肯定这个地方有什么问题\n\n查看源码发现 果然是没过滤\n\n我们的xss代码输出在这对组合中间 <script>............<script>alert(/a/).</script> 我们需要闭合一下修改成这样的<script>............</script><script>alert(/a/).</script> \n\n然后再访问群论坛弹出了我们可爱的框框现在大家对存储型xss大概了解了吧! 肯定还有其他输出点的 大家自己挖掘吧..   漏洞证明：  \n\n   修复方案：  你们更专业！！   版权声明：转载请注明来源 别在说@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：5  确认时间：2013-05-14 17:28 厂商回复： 非常感谢您的报告。我们会马上安排专人跟进确认处理，有新的情况会及时同步 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-05-13 18:50 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  。。感觉之前有人提交过诶，莫非还没有修补好。。。    \n     2013-05-13 21:29 |    \t\t鬼魅羊羔 \t\t\t( 普通白帽子  |\t\t\t        Rank:299 漏洞数:41        | (#‵′)凸(#‵′)凸(#‵′)凸(#‵′)凸(#‵...)\t\t \n  。。感觉之前有人提交过诶，莫非还没有修补好。。。     \n     2013-05-13 23:17 |    \t\t黑色的屌丝 \t\t\t( 路人 |\t\t\t        Rank:27 漏洞数:5        | →_→→_→)\t\t \n  。。感觉之前有人提交过诶，莫非还没有修补好。。。    \n     2013-05-14 08:21 |    \t\t牛博恩 \t\t\t( 路人 |\t\t\t        Rank:21 漏洞数:3        | Oh god my savior)\t\t \n  。。感觉之前有人提交过诶，莫非还没有修补好。。。     \n     2013-05-14 08:31 |    \t\t围剿 \t\t\t( 路人 |\t\t\t        Rank:17 漏洞数:5        | Evil decimal)\t\t \n  。。感觉之前有人提交过诶，莫非还没有修补好。。。     \n     2013-05-14 15:22 |    \t\tbing  \t\t\t( 普通白帽子  |\t\t\t        Rank:332 漏洞数:34        | bingsec)\t\t \n  。。感觉之前有人提交过诶，莫非还没有修补好。。。    \n     2013-05-14 19:20 |    \t\t小胖子  \t\t\t( 核心白帽子 |\t\t\t        Rank:1727 漏洞数:125        | 如果大海能够带走我的矮丑...)\t\t \n  。。感觉之前有人提交过诶，莫非还没有修补好。。。    \n     2013-05-17 15:41 |    \t\tZvall \t\t\t( 路人 |\t\t\t        Rank:25 漏洞数:14        | hello world)\t\t \n  。。感觉之前有人提交过诶，莫非还没有修补好。。。    \n     2013-06-13 20:49 |    \t\tsky \t\t\t( 实习白帽子  |\t\t\t        Rank:94 漏洞数:30        | 有一天，我带着儿子@jeary 去@园长 的园长...)\t\t \n  。。感觉之前有人提交过诶，莫非还没有修补好。。。    \n     2013-06-13 23:18 |    \t\tLitteryi \t\t\t( 路人 |\t\t\t        Rank:6 漏洞数:3        | 来自塞伯坦的天使。)\t\t \n  。。感觉之前有人提交过诶，莫非还没有修补好。。。     \n     2013-06-14 12:07 |    \t\trootkit \t\t\t( 路人 |\t\t\t        Rank:0 漏洞数:1        | 打酱油的)\t\t \n  感觉之前有人提交过诶，莫非还没有修补好。。。    \n     2013-06-14 12:07 |    \t\t老黑 \t\t\t( 普通白帽子  |\t\t\t        Rank:161 漏洞数:49        | 最爱红颜不老。)\t\t \n  。。感觉之前有人提交过诶，莫非还没有修补好。。。    \n     2013-06-14 14:20 |    \t\trasca1 \t\t\t( 实习白帽子  |\t\t\t        Rank:53 漏洞数:16        | 菜鸟一只)\t\t \n  有字符限制的，以前提交腾讯没给过，为什么这个给过了    \n     2013-06-14 21:10 |    \t\tnmeia \t\t\t( 路人 |\t\t\t        Rank:3 漏洞数:2        | 这个人很懒，什么都没有留下。)\t\t \n  。。感觉之前有人提交过诶，莫非还没有修补好。。。    \n     2013-06-27 20:11 |    \t\tliyang \t\t\t( 路人 |\t\t\t        Rank:25 漏洞数:10        | 低调 沉默 守望)\t\t \n  这个是不是只能影响自己。。    \n     2013-06-28 07:35 |    \t\tB1acken \t\t\t( 普通白帽子  |\t\t\t        Rank:174 漏洞数:29        | 渣渣)\t\t \n  。。感觉之前有人提交过诶，莫非还没有修补好。。。    \n     2014-04-01 10:05 |    \t\tlazypig \t\t\t( 路人 |\t\t\t        Rank:0 漏洞数:2        | 如果你决定了方向,勇气可以带你走的更远。)\t\t \n  。。感觉之前有人提交过诶，莫非还没有修补好。。。    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 5, "Ranks": null}