{"id": 20730, "wybug_id": "wooyun-2012-06036", "wybug_title": "新浪sae源码泄露、svn信息泄露", "wybug_corp": "新浪", "wybug_author": "路人甲", "wybug_date": "2012-04-14 10:49", "wybug_open_date": "2012-04-15 07:52", "wybug_type": "重要敏感信息泄露", "wybug_level": "中", "wybug_rank_0": "5", "wybug_status": "漏洞已经通知厂商但是厂商忽略漏洞", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2012-04-14：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2012-04-15：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： sae服务器上svn信息泄露、部分源码泄露 详细说明：  首先 os.environ\nHISTTIMEFORMAT: %F %T TRUSTED_HOSTS: stor.sae.sina.com.cn:80 stor1.sae.sina.com.cn:80 fetchurl.sae.sina.com.cn:80 w.rdc.sae.sina.com.cn:3307 r.rdc.sae.sina.com.cn:3307 image.sae.sina.com.cn:80 CjaaTZFl.monitor.sinaapp.com:80 mail.sae.sina.com.cn:80 s3.sae.sina.com.cn:80 taskqueue.sae.sina.com.cn:80 vcode.sae.sina.com.cn:80 172.16.20.152:80 if.sae.sina.com.cn:80 push.sae.sina.com.cn:80 SERVER_SOFTWARE: sae/1.0.testing LESSOPEN: |/usr/bin/lesspipe.sh %s SSH_CLIENT: 10.210.213.215 49719 2222 CVS_RSH: ssh LOGNAME: nobody USER: nobody INPUTRC: /etc/inputrc HOME: / PATH: /usr/kerberos/sbin:/usr/kerberos/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin SECRET_KEY: 52i0zkiimzl1153mk22ji13x0wh3*********LD_LIBRARY_PATH: /usr/local/sae/httpd/lib: LANG: en_US.UTF-8 TERM: xterm SHELL: /bin/bash TZ: America/Chicago APP_NAME: e*** REMOTE_ADDR: 221.218.14.*** SHLVL: 2 G_BROKEN_FILENAMES: 1 HISTSIZE: 5000 EDITOR: vim HISTFILESIZE: 8000 ACCESS_KEY: y3xnk***_: /usr/local/sae/httpd/bin/httpd APP_VERSION: 1 LS_COLORS: no=00:fi=00:di=00;34:ln=00;36:pi=40;33:so=00;35:bd=40;33;01:cd=40;33;01:or=01;05;37;41:mi=01;05;37;41:ex=00;32:*.cmd=00;32:*.exe=00;32:*.com=00;32:*.btm=00;32:*.bat=00;32:*.sh=00;32:*.csh=00;32:*.tar=00;31:*.tgz=00;31:*.arj=00;31:*.taz=00;31:*.lzh=00;31:*.zip=00;31:*.z=00;31:*.Z=00;31:*.gz=00;31:*.bz2=00;31:*.bz=00;31:*.tz=00;31:*.rpm=00;31:*.cpio=00;31:*.jpg=00;35:*.gif=00;35:*.bmp=00;35:*.xbm=00;35:*.xpm=00;35:*.png=00;35:*.tif=00;35:SSH_TTY: /dev/pts/1 HOSTNAME: yf** PWD: /root/Python/mod_wsgi-3.3 DJANGO_SETTINGS_MODULE: settings MAIL: /var/spool/mail/root SSH_CONNECTION: 10.210.213.215 49719 10.75.7.34 2222 APP_HASH: 51\n可能前面的会觉得是正常功能不算漏洞，但是os.listdir('/usr/local/sae/python/lib/python2.6/site-packages')下面所有目录svn都能读到entries\n8dir11754svn://svn.sae.sina.com.cn/Code/Python/Python-2.6.7/3rd/site-packages/jinja2svn://svn.sae.sina.com.cn2011-12-01T07:46:20.778924Z8193chenzheng2svn:special svn:externals svn:needs-locka2840cce-921c-4ae5-9685-96f2f69da914 loaders.pyfile2011-10-21T05:18:13.000000Zad566db5373a70e612686852b06fa00e2011-09-23T10:30:24.727527Z6824chenzheng2 parser.pyfile2011-10-21T05:18:13.000000Zbbb2716dc813c6252a9e423a6b3167f22011-09-23T10:30:24.727527Z6824chenzheng2 sandbox.pyfile2011-10-21T05:18:13.000000Z75e757c1420d6f0d32ef25e503440ac62011-09-23T10:30:24.727527Z6824chenzheng2 __init__.pyfile2011-10-21T05:18:13.000000Z7cc8ebe08edfe760c57895c21c24f4702011-09-23T10:30:24.727527Z6824chenzheng2 visitor.pyfile2011-10-21T05:18:13.000000Zd79f525e34e828bb1bd0c5e841adf25e2011-09-23T10:30:24.727527Z6824chenzheng2 ext.pyfile2011-10-21T05:18:13.000000Ze780754368f1855572b9c62723bd7adc2011-09-23T10:30:24.727527Z6824chenzheng2 utils.pyfile2011-12-01T07:49:34.000000Z9d3e8929c3239d3f149904f1385547562011-12-01T07:46:20.778924Z8193chenzheng2 testsuitedir tests.pyfile2011-10-21T05:18:13.000000Zaec7e74ed36a25841d4d94f61c604e642011-09-23T10:30:24.727527Z6824chenzheng2 environment.pyfile2011-10-21T05:18:13.000000Z780c19c247dccca4eb15e8c081f515dd2011-09-23T10:30:24.727527Z6824chenzheng2 _markupsafedir defaults.pyfile2011-10-21T05:18:13.000000Za60a8295b249220f789a5c0de7c821ec2011-09-23T10:30:24.727527Z6824chenzheng2 _stringdefs.pyfile2011-10-21T05:18:13.000000Zc02b29cc1022cd740d21290b84f098c52011-09-23T10:30:24.727527Z6824chenzheng2 filters.pyfile2011-10-21T05:18:13.000000Z82db30720a050939bb74d4096abb97c02011-09-23T10:30:24.727527Z6824chenzheng2 bccache.pyfile2011-10-21T05:18:13.000000Zee3b1dccc447bd091842aee2220f29212011-09-23T10:30:24.727527Z6824chenzheng2 nodes.pyfile2011-10-21T05:18:13.000000Z37ca7df4ea10d2c4b468ef0073d9fb3a2011-09-23T10:30:24.727527Z6824chenzheng2 compiler.pyfile2011-10-21T05:18:13.000000Z88f04931c6374a01d34f187a1fb26fd32011-09-23T10:30:24.727527Z6824chenzheng2 constants.pyfile2011-10-21T05:18:13.000000Za16c711c183683cb22253278612703862011-09-23T10:30:24.727527Z6824chenzheng2 _debugsupport.cfile2011-10-21T05:18:13.000000Zb93967b1060bb17784116fb60adbcf842011-09-23T10:30:24.727527Z6824chenzheng2 lexer.pyfile2011-10-21T05:18:13.000000Z23221a0deb256bd6a8d670bd733ec7112011-09-23T10:30:24.727527Z6824chenzheng2 exceptions.pyfile2011-10-21T05:18:13.000000Zfff0ea165ebe7671b78891e26488e7f42011-09-23T10:30:24.727527Z6824chenzheng2 optimizer.pyfile2011-10-21T05:18:13.000000Z2682ec57fb83980b2ef627b0b63e802f2011-09-23T10:30:24.727527Z6824chenzheng2 runtime.pyfile2011-10-21T05:18:13.000000Z1c66465f37ab0dc6d68b36174dd7058b2011-09-23T10:30:24.727527Z6824chenzheng2 meta.pyfile2011-10-21T05:18:13.000000Z1eb2e66314eeb8f72849300e587a8a692011-09-23T10:30:24.727527Z6824chenzheng2 debug.pyfile2011-10-21T05:18:13.000000Zd60fe1b72d8a822cbf7fd0eaf9bb797a2011-09-23T10:30:24.727527Z6824chenzheng2\n\n\nPython Path:\t['/data1/www/htdocs/5**/e**/1','/usr/local/sae/python/lib/python26.zip', '/usr/local/sae/python/lib/python2.6','/usr/local/sae/python/lib/python2.6/plat-linux2', '/usr/local/sae/python/lib/python2.6/lib-tk','/usr/local/sae/python/lib/python2.6/lib-old', '/usr/local/sae/python/lib/python2.6/lib-dynload', '/usr/local/sae/python/lib/python2.6/site-packages']另外这些你们的所有模块都可以完全读出py源码，相当于完全开源了？是否考虑全部或部分只保留.pyc而非.py？这样所有源码可读如果有人用长时间研究一下是否可能找到一些漏洞？\n\n以上所有内容是否算漏洞我也没法确定，新浪觉得呢 :)   漏洞证明：  参考详细说明。   修复方案：  参考详细说明。   版权声明：转载请注明来源 路人甲@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：无影响厂商忽略 忽略时间：2012-04-15 07:52 厂商回复： 不是漏洞。 这些代码是SAE上开源的开源代码，本身就允许用户读取。文中所指的泄露源代码是指的 Python的class。Python的class放在Python目录下，允许任意SAE用户读取、调用，对SAE用户开源。所有SAE用户自己的代码没有任何泄露。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2012-04-14 16:17 |    \t\tliliang13 \t\t\t( 路人 |\t\t\t        Rank:3 漏洞数:1        | 这是我的城市)\t\t \n  额。。SAE用户飘过，重要关注    \n     2012-04-14 17:01 |    \t\t我真的不帅 \t\t\t( 路人 |\t\t\t        Rank:19 漏洞数:7        | 今朝有酒今朝醉,天道茫茫何所求)\t\t \n  +1    \n     2012-04-16 10:08 |    \t\t北北 \t\t\t( 路人 |\t\t\t        Rank:25 漏洞数:5        | 广告位招租。有阿里、万网的漏洞私信给我有...)\t\t \n  svn呢？    \n     2012-04-17 20:50 |    \t\tdraGxn \t\t\t( 实习白帽子  |\t\t\t        Rank:35 漏洞数:4        | 路慢慢。。。)\t\t \n  python需要邀请码，咋申请?    \n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}