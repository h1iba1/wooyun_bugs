{"id": 8891, "wybug_id": "wooyun-2015-0121463", "wybug_title": "JEECG开发平台admin密码重置，可影响某执法调度平台", "wybug_corp": "JEECG", "wybug_author": "Helix", "wybug_date": "2015-06-23 10:08", "wybug_open_date": "2015-08-07 10:10", "wybug_type": "默认配置不当", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "未联系到厂商或者厂商积极忽略", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["默认配置不当"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-06-23：\t积极联系厂商并且等待厂商认领中，细节不对外公开\t\t\t\t\t\t\t\t\t2015-08-07：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： JEECG（J2EE Code Generation）是一款基于代码生成器的免费开源的快速开发平台。使用JEECG可以简单快速地开发出企业级的Web应用系统。暴露的admin密码重置接口 详细说明：  代码在https://github.com/zhangdaiscott/jeecg/blob/02d82286e4dcc58c75711a15487f691c7702f553/src/main/java/org/jeecgframework/web/system/controller/core/LoginController.javaloginController是登陆控制器，有两个参数goPwdInit和pwdInit\n@RequestMapping(params = \"goPwdInit\")\tpublic String goPwdInit() {\t\treturn \"login/pwd_init\";\t}\t/**\t * admin账户密码初始化\t * \t * @param request\t * @return\t */\t@RequestMapping(params = \"pwdInit\")\tpublic ModelAndView pwdInit(HttpServletRequest request) {\t\tModelAndView modelAndView = null;\t\tTSUser user = new TSUser();\t\tuser.setUserName(\"admin\");\t\tString newPwd = \"123456\";\t\tuserService.pwdInit(user, newPwd);\t\tmodelAndView = new ModelAndView(new RedirectView(\t\t\t\t\"loginController.do?login\"));\t\treturn modelAndView;\t}\n这应该是系统的初始密码。当访问loginController.do?goPwdInit 或 pwdInit时，即使用户已经修改过密码，admin的密码仍会被重置为123456。此外，进入后台后，该系统还存在文件上传漏洞，具体参考 翼龙贷某分站注入  WooYun: 乐拍网泄漏后台管理地址与管理员帐号密码（可成功登录） 搜索使用该系统的网站 inurl:loginController.do?loginwww.amlmm.com/loginController.do?login   广州艾美莉演出团 - 广州艾美莉模特公司system.bjiff.com/filmfestival/loginController.do?login 第五届北京国际电影节 - 北京国际电影季www.hostime.cn/loginController.do?login   登录 - 伙食团115.29.110.181:8080/gdzzbnew/loginController.do?login 贵定党建一点通http://www.capcb.com/loginController.do?login  首信•云商59.57.32.82:12346/admin/loginController.do?login  光泽县杭川镇数字办公网格化系统www.qingdaokj.cn/QDYY_OMS/loginController.do?login 青岛西海岸新区跨境电商产业园运营平台-登录bdws.4006400858.com/loginController.do 下的北斗执法调度指挥平台、北斗平安校园服务平台、北斗老人关爱服务平台。。。。。。以江苏北斗卫星应用产业研究院下的北斗执法调度指挥平台为例http://bdws-et.4001808070.com/loginController.do?login-zf参数改为goPwdInit可重置admin密码，进入后台\n\n汽车管理\n\n短信发送\n\n图标管理接口存在文件上传漏洞\n\n\n\njeecg 的演示站点也可拿下\n\n   漏洞证明：  \n\n\n\n\n\n   修复方案：  删除密码初始化部分的代码，重置密码通过邮箱验证   版权声明：转载请注明来源 Helix@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 未能联系到厂商或者厂商积极拒绝 漏洞Rank：15 (WooYun评价)  ", "replys": "漏洞评价：\n评论\n     2015-08-07 10:29 |    \t\t路人癸 \t\t\t( 路人 |\t\t\t        Rank:4 漏洞数:2        | 随意路过)\t\t \n  还没修好危害大。。    \n     2015-08-07 10:36 |    \t\tf4ckbaidu \t\t\t( 普通白帽子  |\t\t\t        Rank:182 漏洞数:23        | 开发真是日了狗了)\t\t \n  土豪，为什么不选通用    \n     2015-08-07 11:26 |    \t\tHelix \t\t\t( 实习白帽子  |\t\t\t        Rank:42 漏洞数:4        | master of none)\t\t \n  这种开源软件留个后门，爆出来也没人维护下    \n  \n\n\n", "wybug_level_fromcorp": "未能联系到厂商或者厂商积极拒绝", "wybug_rank_fromcorp": 15, "Ranks": null}