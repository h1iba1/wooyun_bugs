{"id": 6864, "wybug_id": "wooyun-2013-043996", "wybug_title": "自动化枚举系列#1 UC某服务配置错误(发现100G数据库)", "wybug_corp": "UC Mobile", "wybug_author": "xlz0iza1", "wybug_date": "2013-11-25 14:04", "wybug_open_date": "2014-01-09 14:05", "wybug_type": "系统/服务运维配置不当", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["自动化枚举"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-11-25：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-11-25：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2013-12-05：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2013-12-15：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2013-12-25：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2014-01-09：\t细节向公众公开  简要描述： UC旗下9game.cn域名的游戏服务器,服务器配置错误,导致iis权限写入漏洞,相关的数据库库备份和接口应用服务器设计比较严重,泄漏用户信息,可以内网渗透。 详细说明：  #1：漏洞描述IP：118.186.241.149 IIS写入权限漏洞web.config配置文件得到连接到UC的其他分站域名sdk.test2.g.uc.cn.\n<?xml version=\"1.0\" encoding=\"utf-8\"?><!--  有关如何配置 ASP.NET 应用程序的详细消息，请访问  http://go.microsoft.com/fwlink/?LinkId=169433  --><configuration>    <system.web>        <compilation debug=\"true\" targetFramework=\"4.0\" />\t\t<customErrors mode=\"Off \"/>\t</system.web><system.net>         <settings>             <httpWebRequest  useUnsafeHeaderParsing=\"true \"  />         </settings>     </system.net>\t<appSettings>\t<add key=\"ConnectionString\" value=\"Data Source=118.186.241.149;Initial Catalog=HSOperation_Feiliu;User ID=feiliu;pwd=123456;\"/>        <add key=\"serverUrl\" value=\"http://sdk.test2.g.uc.cn/ss\"/>        <add key=\"cpId\" value=\"109\"/>        <add key=\"gameId\" value=\"123456\"/>        <add key=\"channelId\" value=\"2\"/>        <add key=\"serverId\" value=\"654\"/>        <add key=\"apiKey\" value=\"202cb962234w4ers2aaa\"/>    </appSettings></configuration>\n查看www.9game.cn跟UC是一个备案号.\n\n   漏洞证明：  #1：可以内网渗透,因为怕服务器不能正常运行,导致贵站损失所以截图证明一些危害把.先关的数据库备份就有100多G.\n\n\n\n每天备份的数据信息.\n\n通过上面的web.config信息获得其他的站点信息.\n\n目录遍历漏洞\n\n一些数据信息接口\n\n还有数据就没有进行连接了,上面的信息足够证明危害性了 20RANK有木有,有没有娃娃亲.   修复方案：  #1 安全是一个整体，保证安全不在于强大的地方有多强大，而在于真正薄弱的地方在哪里。#2 杜绝系统配置错误#3 妥善的对边界网络进行设置   版权声明：转载请注明来源 xlz0iza1@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：10  确认时间：2013-11-25 18:44 厂商回复： 非常感谢xlz0iza1提交的漏洞信息，118.186.241.149这个IP不是咱们公司的，是一家游戏CP厂家，他们和九游有业务合作，已通知游戏CP厂家的技术人员处理漏洞。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-11-25 14:07 |    \t\tlosthacker \t\t\t( 路人 |\t\t\t        Rank:12 漏洞数:1        | 我是好人                    (PS:为什么...)\t\t \n  求数据库    \n     2013-11-25 15:45 |    \t\t灬相随灬 \t\t\t( 普通白帽子  |\t\t\t        Rank:369 漏洞数:68        | 大胆天下去得，小心寸步难行。)\t\t \n  100G....突然很想看相自己硬盘还有多少空间    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 10, "Ranks": null}