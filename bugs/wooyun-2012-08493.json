{"id": 19540, "wybug_id": "wooyun-2012-08493", "wybug_title": "再送一枚yahoo邮箱xss(存储型)", "wybug_corp": "Yahoo/雅虎", "wybug_author": "wanglaojiu", "wybug_date": "2012-06-19 16:31", "wybug_open_date": "2012-06-24 16:31", "wybug_type": "xss跨站脚本攻击", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "漏洞已经通知厂商但是厂商忽略漏洞", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["持久型", "文件名导致"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2012-06-19：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2012-06-24：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述：     这次的漏洞发现有运气的成分在里面，仔细研究了下这个yahoo邮箱的漏洞，发现该漏洞应该是09年雅虎0day漏洞的一种，这次漏洞的产生部分原因应该归结于雅虎安全人员的疏忽，对之前0day漏洞的修复考虑欠周全。 详细说明：    漏洞的产生点在邮件的附件名处，与早先的雅虎附件名自动解析漏洞(0day)一个原理，这里演示的是雅虎旧版本。第一步：构造跨站脚本(这里为了方便测试就自己写了个发邮小程序，样子比较丑就不贴图出来了)，随意添加个附件并在附件名称后面添加上自己的测试脚本，构造如下：xxx.txt<iframe src=http://qq.com> 发送给自己的测试雅虎邮箱；第二步：收到信后点开邮箱列表里面的\"我的附件\"选项，即可看到如下图所示：\n\n 第三步：点击附件图标即可看到如下图所示：\n\n 效果已经非常明白了，由于雅虎新版本不知道在那处找\"我的附件\"选项，故没有再行测试，希望知道的朋友告知下。第四步：呐喊下，什么时候才给这类邮箱的rank呀.....   漏洞证明：  漏洞的产生点在邮件的附件名处，与早先的雅虎附件名自动解析漏洞(0day)一个原理，这里演示的是雅虎旧版本。第一步：构造跨站脚本(这里为了方便测试就自己写了个发邮小程序，样子比较丑就不贴图出来了)，随意添加个附件并在附件名称后面添加上自己的测试脚本，构造如下：xxx.txt<iframe src=http://qq.com> 发送给自己的测试雅虎邮箱；第二步：收到信后点开邮箱列表里面的\"我的附件\"选项，即可看到如下图所示：\n\n 第三步：点击附件图标即可看到如下图所示：\n\n 效果已经非常明白了，由于雅虎新版本不知道在那处找\"我的附件\"选项，故没有再行测试，希望知道的朋友告知下。第四步：呐喊下，什么时候才给这类邮箱的rank呀.....   修复方案：     几年前雅虎0day的后续，修复方式你们都已经有了非常完善的一套，就不在这里多嘴了。   版权声明：转载请注明来源 wanglaojiu@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：无影响厂商忽略 忽略时间：2012-06-24 16:31 厂商回复：  漏洞Rank：8  (WooYun评价) 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2012-06-19 16:33 |    \t\tgainover  \t\t\t( 核心白帽子 |\t\t\t        Rank:1710 漏洞数:93        | PKAV技术宅社区! -- gainover| 工具猫网络-...)\t\t \n  这个牛啦～～    \n     2012-06-19 16:34 |    \t\twanglaojiu \t\t\t( 普通白帽子  |\t\t\t        Rank:168 漏洞数:39        | 道生一，一生二，二生三，三生万物，万物负...)\t\t \n  @gainover 每天膜拜G哥，才能出点小料。    \n     2012-06-19 16:37 |    \t\tgainover  \t\t\t( 核心白帽子 |\t\t\t        Rank:1710 漏洞数:93        | PKAV技术宅社区! -- gainover| 工具猫网络-...)\t\t \n  @wanglaojiu yahoo 的邮箱功能不算多，找出XSS挺难的。    \n     2012-06-19 16:40 |    \t\twanglaojiu \t\t\t( 普通白帽子  |\t\t\t        Rank:168 漏洞数:39        | 道生一，一生二，二生三，三生万物，万物负...)\t\t \n  @gainover 巧合而已，G哥见笑，继续膜拜,G哥上次的sina那个xss就让小弟受益匪浅啊。    \n     2012-06-19 16:57 |    \t\txiya \t\t\t( 路人 |\t\t\t        Rank:5 漏洞数:1        )\t\t \n  马克. .    \n     2012-06-19 17:00 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:18        | 当我又回首一切,这个世界会好吗?)\t\t \n  @wanglaojiu 同受益，从各位身上学到不少东西    \n     2012-06-19 17:09 |    \t\twanglaojiu \t\t\t( 普通白帽子  |\t\t\t        Rank:168 漏洞数:39        | 道生一，一生二，二生三，三生万物，万物负...)\t\t \n  @xsser 只是后学未进，仍然在学习大牛中。    \n     2012-06-19 19:39 |    \t\tgoderci \t\t\t( 普通白帽子  |\t\t\t        Rank:542 漏洞数:47        | http://www.yunday.org)\t\t \n  我肿么就没找到呢?    \n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}