{"id": 12192, "wybug_id": "wooyun-2013-022893", "wybug_title": "知乎某重要功能储存xss，流量很大额", "wybug_corp": "知乎", "wybug_author": "px1624", "wybug_date": "2013-05-01 19:50", "wybug_open_date": "2013-06-15 19:51", "wybug_type": "xss跨站脚本攻击", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["存储型", "知乎"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-05-01：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-05-02：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2013-05-12：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2013-05-22：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2013-06-01：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2013-06-15：\t细节向公众公开  简要描述： 我是看到这个帖子 http://www.wooyun.org/bugs/wooyun-2013-021587 才去知乎转的，知乎对安全很重视？一个反射型xss = 15rank 。。。那么我这个呢？求礼物！~ 详细说明：  1 漏洞位置在知乎问答处，也没去细看你们怎么设计的，在所有输入框中都插了xss代码，完事之后F12看一下，基本都过滤了，但是有一条成功插入了。图1 图11\n\n\n\n2 短时间内接收到大量的cookie（平均每分钟5个cookie），试了试，有http-only，但是可以钓鱼，还能做一些其他的基本操作（复杂的操作有设置xcrsf和token搞不成）。图2\n\n   漏洞证明：  已经证明影响页面（测试数据我没删）问题列表首页：\nwww.zhihu.com/log/questions\n图1\n\n具体问题页面：\nwww.zhihu.com/question/21005949/log\n图11\n\n   修复方案：  不知道为啥其他的都过滤了，有一条没过滤，可能是因为有位置在js中输出，而过滤又是只针对于html代码，而且在js代码执行之后没有进行二次过滤导致的吧。所以才成功插入了xss代码，可以任意调用外部js文件。只是猜测，具体原因和修补措施，你们应该很清楚。求礼物！~   版权声明：转载请注明来源 px1624@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：18  确认时间：2013-05-02 13:24 厂商回复： 感谢反馈，我们马上修复。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-05-01 20:12 |    \t\tVIP \t\t\t( 普通白帽子  |\t\t\t        Rank:759 漏洞数:100        )\t\t \n  关注    \n     2013-05-01 20:24 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  @VIP ..很好奇你还是实习白帽子。。    \n     2013-05-01 20:26 |    \t\tVIP \t\t\t( 普通白帽子  |\t\t\t        Rank:759 漏洞数:100        )\t\t \n  @px1624 我也很好奇    \n     2013-05-01 21:46 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  @VIP 诶，郁闷，知乎的提交后很快就过了，而搜狐和新浪的都没给通过。。。    \n     2013-05-01 22:07 |    \t\tSogili \t\t\t( 普通白帽子  |\t\t\t        Rank:129 漏洞数:27        )\t\t \n  大概猜到了    \n     2013-05-01 22:20 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  @Sogili ...额    \n     2013-05-01 23:18 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  @知乎 测试了这个漏洞，被你们把我帐号给封了，顺便给解封下吧。。。    \n     2013-06-12 22:52 |    \t\t小龙 \t\t\t( 普通白帽子  |\t\t\t        Rank:1208 漏洞数:316        | 乌云有着这么一群人，在乌云学技术，去某数...)\t\t \n  厉害啊，嘎嘎    \n     2015-05-22 09:51 |    \t\t昌维 \t\t\t( 路人 |\t\t\t        Rank:2 漏洞数:3        | QQ：867597730，百度贴吧ID：昌维001)\t\t \n  洞主你的知乎账户解封了嘛？    \n     2015-05-22 10:18 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  @昌维 解了    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 18, "Ranks": null}