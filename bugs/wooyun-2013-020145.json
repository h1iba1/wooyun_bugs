{"id": 13147, "wybug_id": "wooyun-2013-020145", "wybug_title": "赶集网SQL注入一枚", "wybug_corp": "赶集网", "wybug_author": "open", "wybug_date": "2013-03-16 13:49", "wybug_open_date": "2013-04-30 13:49", "wybug_type": "SQL注射漏洞", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["数字类型注射", "应用敏感信息泄漏", "用户敏感信息泄露", "注射"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-03-16：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-03-16：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2013-03-26：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2013-04-05：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2013-04-15：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2013-04-30：\t细节向公众公开  简要描述： 赶集网SQL某主要业务SQL注入一枚。 详细说明：  赶集网SQL某主要业务SQL注入一枚。这么明显的漏洞，说明赶集的安全做的还是不够啊。其实之前也发现过赶集的一些问题，比如测试环境对外开放，各种XSS不处理等等。听说赶集比较苦逼，我就不给你们添麻烦了。SQL注入的修了就好了。随便提下，在帝都租房真心不容易啊，希望赶集和58什么的多替吊丝想想，别往中介偏，这点58同城做的很不好。其实58同城问题也很多，自己找吧，我还得找房呢。：）。http://webim.ganji.com/index.php?op=ackrecvmsgbylastmsgid&_from=comet&rnd=0.9776598419994116 (POST)talkId=27480658&lastMsgId=8267926900&channel=0&userId=35669658   漏洞证明：  \n\n   修复方案：  你们懂的   版权声明：转载请注明来源 open@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：10  确认时间：2013-03-16 20:07 厂商回复： 非常感谢您的报告。这个问题我们已经确认，正在与业务部门进行沟通制定解决方案。如有任何新的进展我们将会及时同步。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-03-16 14:58 |    \t\trqndx \t\t\t( 路人 |\t\t\t        Rank:9 漏洞数:3        | 种子发我邮箱：01010101010101010101010101...)\t\t \n  来买点菜。。。    \n     2013-03-16 19:58 |    \t\t小胖胖要减肥  \t\t\t( 普通白帽子  |\t\t\t        Rank:686 漏洞数:101        )\t\t \n  @xsjswt  我来学习学习    \n     2013-03-16 20:00 |    \t\txsjswt \t\t\t( 普通白帽子  |\t\t\t        Rank:156 漏洞数:49        | 我思故我猥琐，我猥琐故我强大)\t\t \n  @小胖胖要减肥 一个最简单的sql注入，没啥好学习的    \n     2013-03-16 22:06 |    \t\topen \t\t\t( 实习白帽子  |\t\t\t        Rank:31 漏洞数:5        | ;alert('robert');//)\t\t \n  @xsjswt 为什么你能看到我发的漏洞，奇怪？    \n     2013-03-16 22:40 |    \t\topen \t\t\t( 实习白帽子  |\t\t\t        Rank:31 漏洞数:5        | ;alert('robert');//)\t\t \n  厂商小气，才给10分，哼哼    \n     2013-03-17 21:53 |    \t\txsjswt \t\t\t( 普通白帽子  |\t\t\t        Rank:156 漏洞数:49        | 我思故我猥琐，我猥琐故我强大)\t\t \n  @open sql注入给高。与你的标题不符，你指出的这个业务并不是关键业务。技术上也没有特别值得学习的地方。不过还是非常感谢你指出我们工作的疏漏，欢迎你继续关注赶集的安全问题。如果你有赶集相关的其他问题，像反射xss、信息泄露这类乌云平台不审核的，可以联系我们处理。视问题的严重程度，问题确认后可能有小奖品。蛤蛤    \n     2013-03-17 21:55 |    \t\t小胖胖要减肥  \t\t\t( 普通白帽子  |\t\t\t        Rank:686 漏洞数:101        )\t\t \n  @xsjswt 先说什么奖品撒    \n     2013-03-17 21:58 |    \t\txsjswt \t\t\t( 普通白帽子  |\t\t\t        Rank:156 漏洞数:49        | 我思故我猥琐，我猥琐故我强大)\t\t \n  @小胖胖要减肥 有毛驴公仔，水杯，鼠标什么的。大件的东西还在路上。你可以上赶集婚恋、赶集交友、瓜子社区什么的找找妹纸。    \n     2013-03-17 23:12 |    \t\topen \t\t\t( 实习白帽子  |\t\t\t        Rank:31 漏洞数:5        | ;alert('robert');//)\t\t \n  @xsjswt 我觉得你这样说让我很伤心。技术上的确没学习的地方我承认，那是因为我只写了SQL注入，没想着要去利用，但不代表没利用价值，给10分是不是欠妥。我想这里虽然没有用户密码，也做了一些限制，但是因为是交互的地方，要利用还是相当好利用的吧，而且这个数据库的用户权限也是比较大的。    \n     2013-03-17 23:15 |    \t\t小胖胖要减肥  \t\t\t( 普通白帽子  |\t\t\t        Rank:686 漏洞数:101        )\t\t \n  @open  WooYun: 点评网主站漏洞打包详解+手把手教你写xss蠕虫 你看这个才8分。。。。那个入侵内网才9分 WooYun: 大众点评内网被渗透，涉及数百台服务器    \n     2013-03-17 23:15 |    \t\t小胖胖要减肥  \t\t\t( 普通白帽子  |\t\t\t        Rank:686 漏洞数:101        )\t\t \n  @open 还有一般漏洞评分有系数的，比如危害*利用难度*影响    \n     2013-03-18 10:13 |    \t\txsjswt \t\t\t( 普通白帽子  |\t\t\t        Rank:156 漏洞数:49        | 我思故我猥琐，我猥琐故我强大)\t\t \n  @open 如果你要说利用的问题，这个就超出漏洞本身的范畴了。利用要看放到谁手上，白帽子不会去利用；黑帽子也要看他的势力。最简单，一个反射xss，放在一般人手里面可能什么用都没有。但是放在控制了大量论坛的黑帽子手里面，问题就不一样了。你给我们爆的是漏洞，而不是这个这个漏洞已经被外面黑帽子利用的事件。对于前者，10分我觉得不是特别亏了，你发现这个问题成本也不太大。对于后者，我觉得看具体情况，有时候给40rank都不为过，因为他影响公司业务了。骚年，你要区分好漏洞和漏洞的利用两个不同的概念啊。    \n     2013-03-18 10:16 |    \t\txsjswt \t\t\t( 普通白帽子  |\t\t\t        Rank:156 漏洞数:49        | 我思故我猥琐，我猥琐故我强大)\t\t \n  @open 别人直接联系我们sql注入，我们也就给个公仔+鼠标，你换算一下，10WB差不多也就是公仔鼠标了吧。这毕竟不是入侵事件，也不是被恶意利用的事件。对于@小胖胖要减肥 说的xss蠕虫，内网被渗透，那个作为安全事件，给10rank以内我觉得不妥当。    \n     2013-03-18 10:26 |    \t\txsjswt \t\t\t( 普通白帽子  |\t\t\t        Rank:156 漏洞数:49        | 我思故我猥琐，我猥琐故我强大)\t\t \n  @open 如果按照你的理解，每个漏洞都要按照利用后果来评分，那么，所有的反射xss应该都在15rank以上。对么。但是你参考一下乌云上的其他反射xss，10rank以上的都比较少了    \n     2013-04-06 00:25 |    \t\twefgod \t\t\t( 普通白帽子  |\t\t\t        Rank:1807 漏洞数:179        | 力不从心)\t\t \n  @xsjswt 这哥们是赶集的人？哈哈二哥的XSS犀利啊，10以上的估计他很多哦。其它人的话···可能相对少了    \n     2013-04-07 10:26 |    \t\txsjswt \t\t\t( 普通白帽子  |\t\t\t        Rank:156 漏洞数:49        | 我思故我猥琐，我猥琐故我强大)\t\t \n  @wefgod xss本身就不值10 rank，二哥的值是因为带分析，带思路，带技术方法。乌云本身不仅仅是一个漏洞提交平台，同时也是一个交流学习的平台。所以我觉得为思路、技术、方法、修复方案各类值得学习的东西加rank没问题。    \n     2013-04-07 11:56 |    \t\t我了个去 \t\t\t( 普通白帽子  |\t\t\t        Rank:139 漏洞数:14        | 4892057@qq.com                          ...)\t\t \n  @xsjswt  京东存储性xss才给我5rank。。。更别说10了。    \n     2013-04-07 15:00 |    \t\txsjswt \t\t\t( 普通白帽子  |\t\t\t        Rank:156 漏洞数:49        | 我思故我猥琐，我猥琐故我强大)\t\t \n  @我了个去 存储型只是分类，没有利用场景、被利用的事件、方法、分析、修复方案，给5分差不多了。5wb=50 rmb了    \n     2013-04-07 15:36 |    \t\twefgod \t\t\t( 普通白帽子  |\t\t\t        Rank:1807 漏洞数:179        | 力不从心)\t\t \n  @xsjswt xsser.me是500rmb……    \n     2013-04-07 18:07 |    \t\txsjswt \t\t\t( 普通白帽子  |\t\t\t        Rank:156 漏洞数:49        | 我思故我猥琐，我猥琐故我强大)\t\t \n  @wefgod 我也觉得有点偏贵    \n     2013-04-08 08:50 |    \t\twefgod \t\t\t( 普通白帽子  |\t\t\t        Rank:1807 漏洞数:179        | 力不从心)\t\t \n  @xsjswt 本来很想用的，但是看看，还是暂时算了……    \n     2013-05-06 23:23 |    \t\tcolgator \t\t\t( 路人 |\t\t\t        Rank:21 漏洞数:2        | xxoo，搞基比较好)\t\t \n  @open 您好，可以私信么，有人托我找你做项目    \n     2013-05-07 11:18 |    \t\topen \t\t\t( 实习白帽子  |\t\t\t        Rank:31 漏洞数:5        | ;alert('robert');//)\t\t \n  @colgator 什么项目？    \n     2013-05-07 16:22 |    \t\tcolgator \t\t\t( 路人 |\t\t\t        Rank:21 漏洞数:2        | xxoo，搞基比较好)\t\t \n  @open 我不晓得伐，Q1250883735，你加我下，我把那人QQ给你    \n     2014-04-16 13:53 |    \t\txsjswt \t\t\t( 普通白帽子  |\t\t\t        Rank:156 漏洞数:49        | 我思故我猥琐，我猥琐故我强大)\t\t \n  擦，原来是你    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 10, "Ranks": null}