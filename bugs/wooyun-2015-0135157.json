{"id": 70372, "wybug_id": "wooyun-2015-0135157", "wybug_title": "某数据中心某网站问题导致其它网站沦陷", "wybug_corp": "某数据中心", "wybug_author": "路人甲", "wybug_date": "2015-08-21 10:14", "wybug_open_date": "2015-10-05 19:56", "wybug_type": "后台弱口令", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "已交由第三方合作机构(cncert国家互联网应急中心)处理", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["弱口令", "管理后台对外", "注入", "口令明文"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-08-21：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-08-21：\tcncert国家互联网应急中心暂未能联系到相关单位，细节仅向通报机构公开\t\t\t\t\t\t\t\t\t2015-08-31：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-09-10：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-09-20：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-10-05：\t细节向公众公开  简要描述： 某数据中心托管的某网站问题后台管理密码为弱口令，并且存在sql注入，通过后台登陆上传webshell后，下载数据库连接文件，发现连接数据库账户口令（为root账户），连库后可以进行任意操作，危害到服务器上的很多其他网站。 详细说明：  前面也是在这个IP下（**.**.**.**）下提交了一个跨站的漏洞被忽略了，现在通过检查发现网站**.**.**.**（都在**.**.**.**下）存在注入\n\n用户为root和后面下载的数据库连接文件一致\n\n无意中发现后台用户名和口令均为admin，省事很多，直接登陆\n\n\n\n在上传图片位置上传webshell，通过burp截断修改后缀名和content-type类型后成功上传\n\n\n\n\n\n图片被重命名\n\n访问webshell\n\n\n\n为免管理员看到不好，所以重新上传webshell，然后删除后台界面上传的webshell\n\n\n\n\n\n很多其它网站都部署在一起\n\n通过webshell下载数据库连接文件conn.php，发现网站数据库地址为**.**.**.**（阿里云BGP数据中心地址），详细见下图\n\n在webshell中连接数据库\n\n出现的库与sql注入爆出的库基本一致\n\n基本可以进行任意操作，建议及时处理，现在为敏感时期，未免对系统造成影响，所有工作到这里截止。\n\n   漏洞证明：  详细见上面webshell：http://**.**.**.**/upfile/5434.php密码：54laiceshide   修复方案：  建议对用户输入进行严格过滤，上传点进行严格控制，加强服务端验证，web应用采取低权限账户进行数据库连接。   版权声明：转载请注明来源 路人甲@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：14  确认时间：2015-08-21 19:54 厂商回复： CNVD确认所述情况，暂未建立与软件生产厂商（或网站管理单位）的直接处置渠道，待认领。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 14, "Ranks": null}