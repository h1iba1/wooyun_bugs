{"id": 15329, "wybug_id": "wooyun-2012-015014", "wybug_title": "腾讯QQ空间日志、校友日志存储型XSS..别骂我...", "wybug_corp": "腾讯", "wybug_author": "Drizzle.Risk", "wybug_date": "2012-11-20 18:13", "wybug_open_date": "2013-01-04 18:14", "wybug_type": "xss跨站脚本攻击", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["持久型", "存储型", "利用技巧", "黑盒测试技巧", "技巧", "腾讯"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2012-11-20：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2012-11-21：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2012-12-01：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2012-12-11：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2012-12-21：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2013-01-04：\t细节向公众公开  简要描述： 不解释了... 日志大XSS...远程调JS爽歪歪...腾讯一站式的cookie，获取后可随意上QQ邮箱，QQ空间，QQid删/加好友，可做蠕虫... 也可以利用密码找回功能实现外站的密码修改，配合社工等等.....用处太多了....为啥腾讯每次就给15rank? 详细说明：  在北京呆了两天，今天心思很乱，还是发出来吧....腾讯，这就是忽略的代价: WooYun: 腾讯空间随意控制html，引入第三方页面 感谢：@springemp刚看见这个，就感觉腾讯在插入视频或者FLASH的时候，或许是个安全短板，就测试了下，果不其然......先看看侧漏的：\n\n之后就是构造了...\n\ncookie:\n\n校友的，一样：\n\nGET/POST cookie:\n\n把日志伪装一下，目测大部分人都会上当：\n\n...至于写入cookie直接上QQ邮箱，上IDQQ删好友，加好友，还有自己写的小XSS蠕虫，就不演示了... 一站式的缺陷想提醒腾讯，每个有问题的地方，或许都能被扩大，就像一个伤口...不上药的话，总是会感染的......   漏洞证明：  插入FLASH或者视频，输入\nhttp://\"></script>alert('Hello Drizzle')//</sCript>\n然后自己看吧...   修复方案：  腾讯你懂的....   版权声明：转载请注明来源 Drizzle.Risk@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：15  确认时间：2012-11-21 11:12 厂商回复： 非常感谢您的报告。这个问题我们已经确认，正在与业务部门进行沟通制定解决方案。如有任何新的进展我们将会及时同步。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2012-11-20 18:21 |    \t\tRa1nker \t\t\t( 路人 |\t\t\t        还没有发布任何漏洞        | TeST)\t\t \n  马克    \n     2012-11-20 18:24 |    \t\tEl4pse \t\t\t( 路人 |\t\t\t        Rank:29 漏洞数:7        | 世界上从来没有不可能这几个字，可不可能完...)\t\t \n  校友的地方我也找了。。尼玛这东西存不到    \n     2012-11-20 18:25 |    \t\t数据流 \t\t\t( 普通白帽子  |\t\t\t        Rank:716 漏洞数:88        | all or nothing,now or never)\t\t \n   前排留名！@gainover    \n     2012-11-20 18:46 |    \t\tSeay \t\t\t( 实习白帽子  |\t\t\t        Rank:65 漏洞数:8        )\t\t \n  围观下    \n     2012-11-20 19:16 |    \t\tValo洛洛 \t\t\t( 普通白帽子  |\t\t\t        Rank:458 漏洞数:52        | 。)\t\t \n  mark    \n     2012-11-20 19:17 |    \t\tshack2 \t\t\t( 普通白帽子  |\t\t\t        Rank:470 漏洞数:71        | QQ:1341413415 一个热爱编程(Java),热爱网...)\t\t \n  搬凳子，围观，这个绝对经典    \n     2012-11-20 19:25 |    \t\thuliang \t\t\t( 路人 |\t\t\t        Rank:12 漏洞数:3        | 过往如昙花一现)\t\t \n  围观，看看会不会忽略    \n     2012-11-20 19:32 |    \t\tse55i0n \t\t\t( 普通白帽子  |\t\t\t        Rank:1567 漏洞数:173        )\t\t \n  占个广告位~    \n     2012-11-20 20:59 |    \t\t水滴 \t\t\t( 普通白帽子  |\t\t\t        Rank:146 漏洞数:24        )\t\t \n  x    \n     2012-11-20 21:07 |    \t\tMax \t\t\t( 实习白帽子  |\t\t\t        Rank:45 漏洞数:7        | When you see this sentence, I have been ...)\t\t \n  关注，mark.    \n     2012-11-21 01:20 |    \t\tHenry:bobo \t\t\t( 普通白帽子  |\t\t\t        Rank:104 漏洞数:22        | 本胖吊！~又高又肥2个奶奶像地雷)\t\t \n  关注，mark.    \n     2012-11-21 09:13 |    \t\t冷静 \t\t\t( 路人 |\t\t\t        Rank:3 漏洞数:2        )\t\t \n  有没有能藏住的漏洞..    \n     2012-11-21 12:06 |    \t\tWebSPRing \t\t\t( 普通白帽子  |\t\t\t        Rank:176 漏洞数:18        | Focus on Web Security (wspringox@gmail.c...)\t\t \n  QQ日志XSS好像没消停过。。    \n     2012-11-21 12:37 |    \t\tDrizzle.Risk \t\t\t( 普通白帽子  |\t\t\t        Rank:255 漏洞数:19        | You have an error in your SQL syntax; ch...)\t\t \n  唉.. 又是15，威胁性不大还是木有技术含量....    \n     2012-11-21 12:47 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:18        | 当我又回首一切,这个世界会好吗?)\t\t \n  @Drizzle.Risk 潜规则    \n     2012-11-21 12:56 |    \t\tDefa \t\t\t( 普通白帽子  |\t\t\t        Rank:113 漏洞数:13        | <img src=1 onerror=alert(1)>)\t\t \n  mark    \n     2012-11-21 13:03 |    \t\tRookie \t\t\t( 普通白帽子  |\t\t\t        Rank:288 漏洞数:78        | 123)\t\t \n  @Drizzle.Risk 爆 xsser一次菊花 估计能给你加点Rank    \n     2012-11-21 13:34 |    \t\tDrizzle.Risk \t\t\t( 普通白帽子  |\t\t\t        Rank:255 漏洞数:19        | You have an error in your SQL syntax; ch...)\t\t \n  @xsser -_- 果然各种潜...    \n     2012-11-21 13:34 |    \t\tDrizzle.Risk \t\t\t( 普通白帽子  |\t\t\t        Rank:255 漏洞数:19        | You have an error in your SQL syntax; ch...)\t\t \n  @Rookie 囧 ..    \n     2012-12-11 13:58 |    \t\tgainover  \t\t\t( 核心白帽子 |\t\t\t        Rank:1710 漏洞数:93        | PKAV技术宅社区! -- gainover| 工具猫网络-...)\t\t \n  这个还是挺有意思的。     \n     2012-12-11 14:00 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:18        | 当我又回首一切,这个世界会好吗?)\t\t \n  @gainover 有意思就好有意思就好    \n     2012-12-21 11:15 |    \t\tJack \t\t\t( 路人 |\t\t\t        Rank:7 漏洞数:1        | 渴望成长)\t\t \n  有是一个xss帝    \n     2012-12-21 11:26 |    \t\tCr_Guest \t\t\t( 路人 |\t\t\t        Rank:5 漏洞数:2        | 失败是什么？没有什么，只是走近成功一步。)\t\t \n  XSS 这个有意思    \n     2012-12-23 10:33 |    \t\tSeay \t\t\t( 实习白帽子  |\t\t\t        Rank:65 漏洞数:8        )\t\t \n  有意思    \n     2012-12-23 21:12 |    \t\tDrizzle.Risk \t\t\t( 普通白帽子  |\t\t\t        Rank:255 漏洞数:19        | You have an error in your SQL syntax; ch...)\t\t \n  @Jack 运气好.. ;-)    \n     2013-01-04 22:31 |    \t\t李白 \t\t\t( 普通白帽子  |\t\t\t        Rank:142 漏洞数:29        )\t\t \n  @Drizzle.Risk  从忽略到rank15啊，哎，人品...我的人品咋那么差。    \n     2013-01-05 00:39 |    \t\t猴子 \t\t\t( 路人 |\t\t\t        Rank:19 漏洞数:5        | 我是一只骚猴子)\t\t \n  交出公仔，饶你不死。    \n     2013-01-09 11:03 |    \t\tDrizzle.Risk \t\t\t( 普通白帽子  |\t\t\t        Rank:255 漏洞数:19        | You have an error in your SQL syntax; ch...)\t\t \n  @猴子 哪儿有.. 哪儿有...     \n     2013-01-09 11:04 |    \t\tDrizzle.Risk \t\t\t( 普通白帽子  |\t\t\t        Rank:255 漏洞数:19        | You have an error in your SQL syntax; ch...)\t\t \n  @李白 TX你懂的....     \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 15, "Ranks": null}