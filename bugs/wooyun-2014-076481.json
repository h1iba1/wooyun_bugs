{"id": 50885, "wybug_id": "wooyun-2014-076481", "wybug_title": "苏州捷成网络客户网站sql注入及其Getshell", "wybug_corp": "苏州捷成网", "wybug_author": "xlz0iza1", "wybug_date": "2014-09-19 12:24", "wybug_open_date": "2014-11-03 12:26", "wybug_type": "SQL注射漏洞", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "未联系到厂商或者厂商积极忽略", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-09-19：\t积极联系厂商并且等待厂商认领中，细节不对外公开\t\t\t\t\t\t\t\t\t2014-11-03：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： RT 详细说明：  官网：http://www.jiechengit.com/index.html旗下站点案例：http://www.jiechengit.com/case.html可以看到官网下面的相关案例就47页啊。\n\n后台地址：admin/login.asp万能密码：'or'='or'后台任意文件上传：采用了javascript进行判断，本地抓包修改或者警用javascript。   漏洞证明：  相关案例：随便找了官网的案例前几个测试了一下哦。\n\n\n\n\n\n上传绕过：\n<script type=\"text/javascript\">        function showImg(id,src) {            var $img = $(\"#imgPath\"+id);            $img.loadthumb({                \"src\": src,                \"imgId\": \"imgPath\"+id,                \"parentId\": \"CRviewer\"+id            });        }\t\tfunction bindImg(id)        {            var imgPath = $(\"#txt_imgPath\"+id).val();            if (imgPath != \"\") {                $(\"#CRviewer\"+id).css('display', 'block');\t\t\t\t$(\"#link\"+id).css('display', 'block');                showImg(id,imgPath);            }        }        function createUpload(id, uploadpath) {            $(\"#btnBroswer\" + id).uploadify({                 'queueID': 'fileQueue' + id,\t\t\t\t'auto': false,\t\t\t\t'multi': false,\t\t\t\t'swf': '../js/uploadify-v3.2/uploadify.swf',\t\t\t\t'uploader': '../../include/upload.asp',\t\t\t\t'width':66,\t\t\t\t'height':21,\t\t\t\t'buttonImage': '../style/images/btnBroswer.png',\t\t\t\t'fileTypeDesc': '请选择.jpg .png .bmp .gif文件',                'fileTypeExts': '*.jpg;*.png;*.bmp;*.gif',                'fileSizeLimit': '500KB',                //'rollover':true,                'onUploadSuccess': function(file, data, response) {                    //alert(\"Successfully uploaded: \" + response);                    //alert(\"文件上传成功\");                    $(\"#CRviewer\" + id).css('display', 'block');                    $(\"#txt_imgPath\" + id).val(data);\t\t\t\t\t$(\"#link\"+id).css('display', 'block');                    showImg(id, data);                },                'onSelectError' : function(file,errorCode,errorMsg) {\t\t\t\t   if(errorCode==-110){\t\t\t\t    \tthis.queueData.errorMsg=\"文件不得超过500KB\";\t\t\t\t   }             }            });        }  \t\tfunction deleteimg(id)\t\t{\t\t\t$(\"#txt_imgPath\"+id).val(\"\");\t\t\t$(\"#CRviewer\"+id).css('display', 'none');\t\t\t$(\"#link\"+id).css('display', 'none');\t\t}    </script>\n\n可以看到这么一条关键代码：'fileTypeExts': '*.jpg;*.png;*.bmp;*.gif',\n\n\n\n\n   修复方案：  这让我头疼不已啊、   版权声明：转载请注明来源 xlz0iza1@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 未能联系到厂商或者厂商积极拒绝  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}