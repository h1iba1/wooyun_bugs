{"id": 9675, "wybug_id": "wooyun-2013-033021", "wybug_title": "百度卫士官网一处存储型XSS（看我如何绕过XSS过滤）", "wybug_corp": "百度", "wybug_author": "我是小号", "wybug_date": "2013-07-31 17:22", "wybug_open_date": "2013-09-14 17:22", "wybug_type": "xss跨站脚本攻击", "wybug_level": "中", "wybug_rank_0": "10", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["存储型"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-07-31：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-07-31：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2013-08-10：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2013-08-20：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2013-08-30：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2013-09-14：\t细节向公众公开  简要描述： 百度卫士官网一处存储型XSS（看我如何绕过XSS过滤构造存储型），WOW~ 详细说明：  证明页面\nhttp://weishi.baidu.com/feedback/question_7079.html\n步骤：1.来到百度卫士我要反馈的页面\nhttp://weishi.baidu.com/feedback/add\n2.发现使用kindeditor做的~貌似有自带的xss过滤，所以我们就在文本框框里面输入\n<input onfocus=alert(/xss/)>\n被过滤的无影无踪了！！！TVT3.愤怒！难道就不能绕过了吗！！！！4.呵呵，这可难不倒我5.先添加一个超级链接\n\n6.在超级链接里面插入我们的XSS代码\n<input onfocus=alert(/xss/)>\n7.提交8.查看我们的页面证明页面：\nhttp://weishi.baidu.com/feedback/question_7079.html\n点击那个框框，XSS代码轻松执行，哦耶！\n\n   漏洞证明：  证明页面\nhttp://weishi.baidu.com/feedback/question_7079.html\n点击那个框框，XSS代码\n<input onfocus=alert(/xss/)>\n被轻松执行\n\n   修复方案：  过滤了   版权声明：转载请注明来源 我是小号@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：6  确认时间：2013-07-31 19:24 厂商回复： 感谢提交，我们尽快联系业务部门处理！ 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-07-31 17:25 |    \t\tNicky \t\t\t( 普通白帽子  |\t\t\t        Rank:477 漏洞数:69        | http://www.droidsec.cn 安卓安全中文站)\t\t \n  = =围观，反馈那也能绕~    \n     2013-07-31 17:37 |    \t\tCroxy \t\t\t( 普通白帽子  |\t\t\t        Rank:513 漏洞数:54        | 只会送人头)\t\t \n  最喜欢看绕过了    \n     2013-07-31 17:43 |    \t\t李白 \t\t\t( 普通白帽子  |\t\t\t        Rank:142 漏洞数:29        )\t\t \n  我就是用百度卫士的    \n     2013-07-31 18:18 |    \t\t一只猿 \t\t\t( 普通白帽子  |\t\t\t        Rank:463 漏洞数:89        | 硬件与无线通信研究方向)\t\t \n  mark 学习之    \n     2013-07-31 18:21 |    \t\tmango \t\t\t( 核心白帽子 |\t\t\t        Rank:1668 漏洞数:248        | 我有个2b女友！)\t\t \n  @李白  求罩    \n     2013-07-31 18:40 |    \t\t我是小号 \t\t\t( 普通白帽子  |\t\t\t        Rank:334 漏洞数:51        | Martin)\t\t \n  @mango 路过，看看你们，我要吃芒果！    \n     2013-07-31 18:52 |    \t\tmango \t\t\t( 核心白帽子 |\t\t\t        Rank:1668 漏洞数:248        | 我有个2b女友！)\t\t \n  @我是小号 我有毒    \n     2013-07-31 18:54 |    \t\t我是小号 \t\t\t( 普通白帽子  |\t\t\t        Rank:334 漏洞数:51        | Martin)\t\t \n  @mango - -不早点告诉我，我吃都吃了，啊！我中毒了：Trojan.mango.001    \n     2013-07-31 18:56 |    \t\t有妹子送上 \t\t\t( 实习白帽子  |\t\t\t        Rank:89 漏洞数:28        | 杭州最帅的男人)\t\t \n  mark    \n     2013-07-31 19:37 |    \t\t我是小号 \t\t\t( 普通白帽子  |\t\t\t        Rank:334 漏洞数:51        | Martin)\t\t \n  @Nicky 嗯，可以的，不是QQ空间就一个日志功能就被绕过了千百遍吗？    \n     2013-07-31 19:41 |    \t\tmango \t\t\t( 核心白帽子 |\t\t\t        Rank:1668 漏洞数:248        | 我有个2b女友！)\t\t \n  @我是小号  Trojan.你认识？    \n     2013-07-31 19:44 |    \t\t我是小号 \t\t\t( 普通白帽子  |\t\t\t        Rank:334 漏洞数:51        | Martin)\t\t \n  @xsser 表示没有拿到乌云币·····6个乌云币去哪里了？    \n     2013-07-31 19:56 |    \t\t我是小号 \t\t\t( 普通白帽子  |\t\t\t        Rank:334 漏洞数:51        | Martin)\t\t \n  @百度 @疯狗 为什么乌云币没有到帐！？    \n     2013-07-31 20:52 |    \t\t我是小号 \t\t\t( 普通白帽子  |\t\t\t        Rank:334 漏洞数:51        | Martin)\t\t \n  @百度 @疯狗 @xsser打扰了，到帐了，谢谢各位~    \n     2013-07-31 21:24 |    \t\tn0bele \t\t\t( 普通白帽子  |\t\t\t        Rank:220 漏洞数:45        | 无耻最寂寞)\t\t \n  xss绕过关注下    \n     2013-08-01 17:55 |    \t\tdtc \t\t\t( 路人 |\t\t\t        Rank:10 漏洞数:1        | 业余技术爱好者，来乌云学习。)\t\t \n  围观    \n     2013-08-01 23:39 |    \t\tJ′aron \t\t\t( 路人 |\t\t\t        Rank:17 漏洞数:5        | 问题真实存在但是影响不大.)\t\t \n  mark    \n     2013-08-31 23:28 |    \t\twhirlwind \t\t\t( 实习白帽子  |\t\t\t        Rank:34 漏洞数:8        | 极光肖风)\t\t \n  关于这个绕过 如何<script>？    \n     2013-09-14 17:55 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  你可以加上autofoucs 这样就不用你点击了 会自动触发XSS 大大提高中招几率    \n     2013-09-15 02:20 |    \t\tmramydnei \t\t\t( 普通白帽子  |\t\t\t        Rank:348 漏洞数:80        )\t\t \n  不明觉厉    \n     2013-09-15 14:27 |    \t\t我是小号 \t\t\t( 普通白帽子  |\t\t\t        Rank:334 漏洞数:51        | Martin)\t\t \n  @px1624 就演示一下撒    \n     2013-09-15 14:39 |    \t\tmramydnei \t\t\t( 普通白帽子  |\t\t\t        Rank:348 漏洞数:80        )\t\t \n  @我是小号 <input onfocus=javascript:alert(1) autofocus>    \n     2013-09-15 15:12 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  @mramydnei 。。。代码写错了。。。应该是 <input onfocus=alert(1) autofocus>    \n     2013-09-15 15:47 |    \t\tmramydnei \t\t\t( 普通白帽子  |\t\t\t        Rank:348 漏洞数:80        )\t\t \n  @px1624  兄弟 一样可以执行的....    \n     2013-09-15 16:43 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  @mramydnei 没必要啊。。这不就等于你alert(1)非要写成eval(\"alert(1)\")    \n     2013-09-16 06:09 |    \t\tmramydnei \t\t\t( 普通白帽子  |\t\t\t        Rank:348 漏洞数:80        )\t\t \n  @px1624 嗯，这里的javascript确实多余了 这个是我测filter用的....不过从性质上来说和 “这不就等于你alert(1)非要写成eval(\"alert(1)\")” 是不一样的。这里的eval是起作用的。 但是          on*=这个位置可以是任意字母:alert(1)    \n     2013-09-16 09:41 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  @mramydnei 相当于是伪协议    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 6, "Ranks": null}