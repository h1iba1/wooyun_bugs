{"id": 10851, "wybug_id": "wooyun-2013-026762", "wybug_title": "大众点评某分站存在SQL注入漏洞 可SHELL", "wybug_corp": "大众点评", "wybug_author": "猪猪侠", "wybug_date": "2013-06-24 12:03", "wybug_open_date": "2013-08-08 12:04", "wybug_type": "SQL注射漏洞", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["字符类型注射"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-06-24：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-06-24：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2013-07-04：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2013-07-14：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2013-07-24：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2013-08-08：\t细节向公众公开  简要描述： 审核的小哥辛苦了，POST类型注入漏洞。 详细说明：  大众点评在线考试系统http://kaoshi.dianping.com/login.aspx#1 登录界面未做任何暴力破解验证机制。#2 忘记密码接口会提示用户不存在，为暴力破解提供依据。#3 登录接口对来自客户端提交的用户名参数，未进行安全校验或过滤。#4 服务器未屏蔽对应的错误信息。\n“/”应用程序中的服务器错误。在将 nvarchar 值 'BA-EXAM' 转换成数据类型 int 时失败。说明: 执行当前 Web 请求期间，出现未处理的异常。请检查堆栈跟踪信息，以了解有关该错误以及代码中导致错误的出处的详细信息。 异常详细信息: System.Exception: 在将 nvarchar 值 'BA-EXAM' 转换成数据类型 int 时失败。源错误: 只有在调试模式下进行编译时，生成此未处理异常的源代码才会显示出来。若要启用此功能，请执行以下步骤之一，然后请求 URL: 1. 在产生错误的文件的顶部添加一条“Debug=true”指令。例如:   <%@ Page Language=\"C#\" Debug=\"true\" %>或:2. 将以下的节添加到应用程序的配置文件中:<configuration>   <system.web>       <compilation debug=\"true\"/>   </system.web></configuration>请注意，第二个步骤将使给定应用程序中的所有文件在调试模式下进行编译；第一个步骤仅使该特定文件在调试模式下进行编译。重要事项: 以调试模式运行应用程序一定会产生内存/性能系统开销。在部署到生产方案之前，应确保应用程序调试已禁用。堆栈跟踪: [Exception: 在将 nvarchar 值 'BA-EXAM' 转换成数据类型 int 时失败。]   Facade.Public.PublicQuery.Get_User_Base_Info(String Condition) +395   Exam_Business.Ajax_Group.Login_Ajax.LoginUser(String username, String pwd) +5060   UserLogin.btLogin_Click(Object sender, EventArgs e) +105   System.Web.UI.WebControls.Button.OnClick(EventArgs e) +115   System.Web.UI.WebControls.Button.RaisePostBackEvent(String eventArgument) +140   System.Web.UI.Page.RaisePostBackEvent(IPostBackEventHandler sourceControl, String eventArgument) +29   System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint) +2981\n\n\n\n\n   漏洞证明：  查询出SQL数据库的版本：\n\n利用MSSQL差异备份即可GETSHELL，未深入测试。   修复方案：  过滤，制定对应的安全开发规范。   版权声明：转载请注明来源 猪猪侠@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：10  确认时间：2013-06-24 12:42 厂商回复： 又是边缘系统，又是第三方开发的系统。一个字，关！谢谢猪猪侠 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-06-24 12:14 |    \t\t疯狗  \t\t\t( 实习白帽子  |\t\t\t        Rank:44 漏洞数:2        | 阅尽天下漏洞，心中自然无码。)\t\t \n  ~~>_<~~    \n     2013-06-24 12:20 |    \t\tcode0day \t\t\t( 实习白帽子  |\t\t\t        Rank:45 漏洞数:4        | 一步一步来。)\t\t \n  又来SQL    \n     2013-06-24 12:22 |    \t\t小胖胖要减肥  \t\t\t( 普通白帽子  |\t\t\t        Rank:686 漏洞数:101        )\t\t \n  是谁发的啊      \n     2013-06-24 12:22 |    \t\tse55i0n \t\t\t( 普通白帽子  |\t\t\t        Rank:1567 漏洞数:173        )\t\t \n  洞主V5    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 10, "Ranks": null}