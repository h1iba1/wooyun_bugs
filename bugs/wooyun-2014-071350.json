{"id": 52405, "wybug_id": "wooyun-2014-071350", "wybug_title": "英菲尼迪某分站重大运维缺陷", "wybug_corp": "英菲尼迪", "wybug_author": "hacker@sina.cn", "wybug_date": "2014-08-07 10:57", "wybug_open_date": "2014-09-21 10:58", "wybug_type": "", "wybug_level": "低", "wybug_rank_0": "1", "wybug_status": "未联系到厂商或者厂商积极忽略", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["服务配置不当"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-08-07：\t积极联系厂商并且等待厂商认领中，细节不对外公开\t\t\t\t\t\t\t\t\t2014-09-21：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 很多小问题个体危害小，但当这些问题互相之间的关联性形成一个圆环，那就是一个大问题。 详细说明：  就这个， 每次暂停都弹出来，好几次不小心点进去了。\n\n有一天看晓松奇谈的时候碰巧鼠标乱点下就弹出了这个站，而且页面还数据库报错了，直觉告诉我，这是欠ri了。手工看了下 有目录浏览问题，还发现了.SVN目录， 好嘛， 一个一个看， 根目录下根据同步记录发现个数据库SQL文件，直接访问到了，屌爆了，竟然还没删，。\n\n\n\n问题是 ，admin密码被改掉了, admin8的密码是ws123456，但是个普通管理员，进去后台也没找到getshell的地方，肿么办呢。 回去继续翻SVN记录吧从操作记录文件中找出了SVN服务器地址，另外还找到了另一个SVN用户帐号。https://svn.xml.so/svn/infdc帐号：winxml帐号：infdc     密码：ws123456    #看 这就是奇迹,看来这个帐号的主人跟admin8是同一个人通过前面SQL文件中破出的密码成功拿到了SVN帐号，好啦 这下子可以浏览编辑全站的文件了。\n\n本想进数据库看看管理员密码的，说不定能好提权些，逗比的事情发生了，没去扫目录，其实网站下面有个phpmyadmin的，通过SVN服务器里面的数据库连接文件帐号密码可以直接登录，当时因为阿里云数据库的关系 外网无法连接 还郁闷了好久。干活不仔细呀，不过后来证实破了管理员密码也没什么用处，还是个弱口令 唉。后台管理：http://q50launch.infiniti.com.cn/index.php/admin/login帐号：admin8   密码：ws123456帐号：admin     密码：789456帐号：view        密码：infview最后选了个编辑器目录放了个一句话进去，然后就是漫长的等待管理员更新同步。过了7～8天 今天终于同步过去了， OH YEAH。 成功拿到shell。一句话网马：http://q50launch.infiniti.com.cn/js/kindeditor/php/Themes_template.php主要的遗憾就是因工作关系没有时间继续深入了，那个SVN服务器肯定是英菲尼迪自用的，不过试了手头发现的帐号和密码都没进得去了 所以就算了 懒得弄了。   漏洞证明：  \n\n   修复方案：  估计没人修吧 又小厂商了 删除木马修复信息泄漏的问题就差不多啦 阿里自身还是比较屌，菜刀一连接就封我IP 只能用其他客户端.   版权声明：转载请注明来源 hacker@sina.cn@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 未能联系到厂商或者厂商积极拒绝  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}