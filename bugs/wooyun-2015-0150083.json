{"id": 82742, "wybug_id": "wooyun-2015-0150083", "wybug_title": "丁丁贷某处java语言dos漏洞导致系统崩溃", "wybug_corp": "丁丁贷", "wybug_author": "汇投网", "wybug_date": "2015-10-28 21:59", "wybug_open_date": "2015-12-12 22:00", "wybug_type": "设计缺陷/逻辑错误", "wybug_level": "低", "wybug_rank_0": "1", "wybug_status": "未联系到厂商或者厂商积极忽略", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["敏感接口缺乏校验", "设计缺陷"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-10-28：\t积极联系厂商并且等待厂商认领中，细节不对外公开\t\t\t\t\t\t\t\t\t2015-12-12：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 参数前端后台都没有做过滤，会造成服务器挂掉。 详细说明：  http://www.tintinloan.com/newCaculate.jsp没有对参数进行过滤，提交什么就计算什么那么温和一点，从92233720368547758070,92233720开始尝试。。打开5个TAB提交然后服务器挂了。。   漏洞证明：  \nHTTP Status 500 - Handler processing failed; nested exception is java.lang.OutOfMemoryError: GC overhead limit exceededtype Exception reportmessage Handler processing failed; nested exception is java.lang.OutOfMemoryError: GC overhead limit exceededdescription The server encountered an internal error that prevented it from fulfilling this request.exceptionorg.springframework.web.util.NestedServletException: Handler processing failed; nested exception is java.lang.OutOfMemoryError: GC overhead limit exceeded\torg.springframework.web.servlet.DispatcherServlet.triggerAfterCompletionWithError(DispatcherServlet.java:1260)\torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:939)\torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:851)\torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:953)\torg.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:855)\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:650)\torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:829)\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:731)\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\tcom.alibaba.druid.support.http.WebStatFilter.doFilter(WebStatFilter.java:123)\torg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)\torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106)\tcom.tintinloan.common.filter.ConsoleValidateFilter.doFilter(ConsoleValidateFilter.java:94)\tcom.tintinloan.common.filter.security.SecurityFilter.doFilter(SecurityFilter.java:143)\torg.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61)\torg.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)\torg.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)\torg.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)\torg.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)\torg.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)\torg.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)\torg.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)\torg.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)\torg.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)\torg.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)\torg.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)\torg.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\torg.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)root causejava.lang.OutOfMemoryError: GC overhead limit exceeded\tjava.util.Arrays.copyOfRange(Arrays.java:2694)\tjava.lang.String.<init>(String.java:203)\tjava.lang.StringBuilder.toString(StringBuilder.java:405)\tch.qos.logback.core.pattern.PatternLayoutBase.writeLoopOnConverters(PatternLayoutBase.java:122)\tch.qos.logback.classic.PatternLayout.doLayout(PatternLayout.java:149)\tch.qos.logback.classic.PatternLayout.doLayout(PatternLayout.java:39)\tch.qos.logback.core.encoder.LayoutWrappingEncoder.doEncode(LayoutWrappingEncoder.java:134)\tch.qos.logback.core.OutputStreamAppender.writeOut(OutputStreamAppender.java:194)\tch.qos.logback.core.OutputStreamAppender.subAppend(OutputStreamAppender.java:219)\tch.qos.logback.core.OutputStreamAppender.append(OutputStreamAppender.java:103)\tch.qos.logback.core.UnsynchronizedAppenderBase.doAppend(UnsynchronizedAppenderBase.java:88)\tch.qos.logback.core.spi.AppenderAttachableImpl.appendLoopOnAppenders(AppenderAttachableImpl.java:48)\tch.qos.logback.classic.Logger.appendLoopOnAppenders(Logger.java:273)\tch.qos.logback.classic.Logger.callAppenders(Logger.java:260)\tch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:442)\tch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:396)\tch.qos.logback.classic.Logger.info(Logger.java:600)\tcom.tintinloan.common.loan.strategy.AverageCapitalInterestStrategyImpl.makeRepayPlan(AverageCapitalInterestStrategyImpl.java:99)\tcom.tintinloan.common.loan.RepayAndGainPlanImpl.calculateRepayAndGainPlan(RepayAndGainPlanImpl.java:30)\tcom.tintinloan.controller.user.LoginController.caculateBenefit(LoginController.java:98)\tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\tjava.lang.reflect.Method.invoke(Method.java:606)\torg.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\torg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\torg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\torg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:685)\torg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:919)\torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:851)note The full stack trace of the root cause is available in the Apache Tomcat/7.0.63 logs.\n   修复方案：  JS验证一下提交数据，后台同时验证数据。不符合规范不予通过   版权声明：转载请注明来源 汇投网@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 未能联系到厂商或者厂商积极拒绝  ", "replys": "漏洞评价：\n评价\n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}