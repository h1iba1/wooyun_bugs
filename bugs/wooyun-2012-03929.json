{"id": 21274, "wybug_id": "wooyun-2012-03929", "wybug_title": "凤凰快博多枚XSS，向存储型变异！", "wybug_corp": "凤凰网", "wybug_author": "shine", "wybug_date": "2012-01-18 01:12", "wybug_open_date": "2012-03-03 01:13", "wybug_type": "xss跨站脚本攻击", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["存储型", "黑盒测试技巧"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2012-01-18：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2012-01-18：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2012-01-28：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2012-02-07：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2012-02-17：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2012-03-03：\t细节向公众公开  简要描述： XSS过滤不严格以及设计存在问题，顺便庆祝一下乌云重新开张以及提前祝贺各位春节愉快！ 详细说明：  多枚，如图：1、\n\n2、\n\n3、\n\n4、\n\n5、\n\n\n\n   漏洞证明：  向存储型构造：第一个条件：发现CKEDITOR编辑器中的img标签是没有过滤的，直接写入当然不行，但可以使用js进行填充写入！第二个条件：利用第三枚“音乐发布”项的XSS，完成操作，什么js都可以自动执行（自动化做得不错！）第三个条件：IE6下兼容的问题，先点击“文字发布”，再点击“音乐发布”，使两者同时在一个层中出现（以减少构造难度！）然后在“音乐发布”执行：<script>window.CKEDITOR.instances.editor.insertHtml(\"<img src='javascript:alert(/XSSByShine/);'>\")</script>把脚本填充到CKEDITOR编辑框中，从而完成向存储型变异（“变异”这个词，好象高端点）！如图：\n\n\n\n   修复方案：  设计存在问题！兼容性做得不好！ajax滥用！增加体验牺牲安全！春节愉快！   版权声明：转载请注明来源 shine@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：12  确认时间：2012-01-18 11:23 厂商回复： 十分的感谢您对凤凰网安全的关注，我们会尽快修复。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2012-01-18 09:42 |    \t\tzeracker  \t\t\t( 核心白帽子 |\t\t\t        Rank:1068 漏洞数:137        | 多乌云、多机会!微信公众号: id:a301zls   ...)\t\t \n  哇哈哈，重新开张。春节愉快！    \n     2012-02-17 20:34 |    \t\txsser_w \t\t\t( 普通白帽子  |\t\t\t        Rank:112 漏洞数:33        | 哎)\t\t \n  应该是在测试当中吧。。。    \n     2012-02-17 20:44 |    \t\tshine  \t\t\t( 普通白帽子  |\t\t\t        Rank:831 漏洞数:77        | coder)\t\t \n  不清楚！经常在ifeng上看新闻，无聊时，弄得玩的，那免费帮他们测试了！    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 12, "Ranks": null}