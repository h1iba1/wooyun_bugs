{"id": 3790, "wybug_id": "wooyun-2014-057727", "wybug_title": "中国邮政某处设计不当可再次遍历百万用户信息", "wybug_corp": "中国邮政集团公司信息技术局", "wybug_author": "魇", "wybug_date": "2014-04-21 12:15", "wybug_open_date": "2014-06-05 12:15", "wybug_type": "设计缺陷/逻辑错误", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["逻辑错误", "设计错误"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-04-21：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-04-21：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2014-05-01：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2014-05-11：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2014-05-21：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2014-06-05：\t细节向公众公开  简要描述： 用户依旧，不同的姿势遍历真实姓名、性别、手机号码、所在地详细至街道门牌号 详细说明：  昨天收到了一条来自中国邮政的站内，说是已经修改了应用，让我测试下漏洞是否还存在 WooYun: 中国邮政某处设计不当可更改任意用户名+百万用户敏感信息可遍历 我看了一下，之前提交的这个确实修复了..但是厂商既然联系了，我也就花下时间再继续测试下去，结果..发现新问题，以新姿势再次遍历用户信息..演示过程如下：首先，我使用邮箱注册，注册了一个帐号\n\n\n点击确认注册，提示：系统已向您的邮箱XXXXX@qq.com发送了一封验证邮件，请您登录邮箱，点击邮件中的链接完成邮箱验证。如果您超过2分钟未收到邮件，您可以重新发送激活邮件.\n然后此时邮箱接收到了：请点击连接\nhttp://it.11185.cn:80/chinapostintegrate/emailActivation.a?mailMassage=009977&sendEmail=XXXXXX@qq.com'激活邮箱\n点击访问一下这个链接，跳转到\nhttp://it.11185.cn/chinapostintegrate/emailActivation.a?mailMassage=009977&sendEmail=XXXXXqq.com&contactId=1157123\n\n\n注意一下这里，上面浏览器的地址栏有一个参数：contactId=1157123我修改一下这个ID，然后按Enter键直接再进行访问，这里以修改contactId为100000为例\n\n提示系统异常，抱歉，运行时内部错,操作失败！ 请稍后再试或与管理员联系！但是当我点击后退，再进行下一步的时候，奇迹发生了..\n\n点击后退，跳转回之前的页面..\n\n然后再点击下一步.这时候看到，原本应该是空白的用户详细信息改变了\n\n然后我们可以再后退，再修改contactId访问，再后退点击下一步这样就可以遍历用户contactId=55\n\ncontactId=999\n\ncontactId=200000\n\n   漏洞证明：  之前发了三个漏洞，不管危害..你们都是给的10rank ..注入10rank..弱口令10rank..遍历用户信息还是10rank..别这样亲 ..这次给20RANK吧   修复方案：  你们开发懂得..   版权声明：转载请注明来源 魇@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：20  确认时间：2014-04-21 18:14 厂商回复： 谢谢 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 20, "Ranks": null}