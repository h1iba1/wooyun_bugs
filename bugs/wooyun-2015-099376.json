{"id": 37575, "wybug_id": "wooyun-2015-099376", "wybug_title": "上海市学生体质健康监测中心网站SQL注入漏洞", "wybug_corp": "上海市学生体质健康监测中心", "wybug_author": "路人甲", "wybug_date": "2015-03-04 17:08", "wybug_open_date": "2015-04-18 17:10", "wybug_type": "SQL注射漏洞", "wybug_level": "中", "wybug_rank_0": "5", "wybug_status": "已交由第三方合作机构(cncert国家互联网应急中心)处理", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["字符类型注射"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-03-04：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-03-09：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-03-19：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-03-29：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-04-08：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-04-18：\t细节向公众公开  简要描述： 上海市学生体质健康监测中心网站由于安全意识不足没有对表单进行过滤导致sql注入，造成大量学生体质监测数据以及部分上海高校教师用户数据泄露 详细说明：  找到这个站主要是因为闲得蛋疼想要看看学校妹子们的三围数据做个facemash什么的【。搜了下学校的有关通知，找到了http://shangbao.tzjk.net/这个网站，似乎学校的体检数据都会提交到这个网站里\n\n大概浏览了下，点击【更改登录方式】-->【查询学校代码】进入一个查询页面\n\n按照传统套路试了下'and 1=1 --\n\n再按照传统套路试了下 'and 1>1 --\n\n然后就拿出sqlmap来dump一下了结果就是数据量似乎超乎了自己想象的样子，大概是2008-2012年上海大学中学小学的数据似乎都有\n\n以及这数据表数量：\n\n说是教师用户数据泄露是因为登录这个平台上报学生数据是需要有关老师的密码信息的因为数据量太大对于各个表的作用如何就不整理分析了最后，我才突然想起来一件事 —— 体检的时候是不量三围的OTZ……   漏洞证明：  \npython sqlmap.py -u 'http://shangbao.tzjk.net/student/school/schoolAllView.action' --data=\"id=&p=&name=a&areaCode=&type=&search=%E6%9F%A5%E8%AF%A2\"\n\n\n   修复方案：  过滤表单参数   版权声明：转载请注明来源 路人甲@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：10  确认时间：2015-03-09 12:49 厂商回复： CNVD确认所述情况，已经转由CNCERT下发给分中心，由其后续协调网站管理单位处置。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 10, "Ranks": null}