{"id": 21079, "wybug_id": "wooyun-2012-04267", "wybug_title": "新浪Show论坛缓存信息泄漏敏感数据", "wybug_corp": "新浪", "wybug_author": "紫梦芊", "wybug_date": "2012-02-06 17:58", "wybug_open_date": "2012-03-22 17:59", "wybug_type": "敏感信息泄露", "wybug_level": "低", "wybug_rank_0": "3", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["数据库密码泄漏", "错误信息未屏蔽"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2012-02-06：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2012-02-07：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2012-02-17：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2012-02-27：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2012-03-08：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2012-03-22：\t细节向公众公开  简要描述： 新浪Show论坛敏感信息泄漏,由于\"Too many connections\"“这是该网页在 2012年1月15日 07:24:05 GMT 的快照” 详细说明：  Google搜出来的缓存泄漏数据库名,帐号,密码文件相对路径数据库调用方式全泄漏   漏洞证明：  http://webcache.googleusercontent.com/search?q=cache:g9JE1LbW9hwJ:club.show.sina.com.cn/thread-448282-1-1.html+inurl:cn+libs/model&hl=zh-CN&newwindow=1&strip=1\nToo many connections' in /data0/web_root/program/libs/model/BaseModelDBConnect.php:52 Stack trace: #0 /data0/web_root/program/libs/model/BaseModelDBConnect.php(52): PDO->__construct('mysql:dbname=cl...', 'root', 'root') #1 /data0/web_root/program/libs/model/BaseModelDB.php(189): BaseModelDBConnect::connectDB('bbs', 'slave', Array) #2 /data0/web_root/program/libs/model/BaseModelDB.php(133): BaseModelDB->checkLink('slave') #3 /data0/web_root/program/model/db/ThreadsModelDB.php(422): BaseModelDB->getRow('SELECT * FROM c...', Array) #4 /data0/web_root/program/model/Thread.php(47): ThreadsModelDB->getThreadRow('448282') #5 /data0/web_root/program/include/common.inc.php(453): Thread::get('448282', true) #6 /data0/web_root/program/viewthread.php(12): require_once('/data0/web_root...') #7 {main} thrown in /data0/web_root/program/libs/model/BaseModelDBConnect.php on line 52\n   修复方案：  1.调试信息不要爆出来。2.建议试用KVDB redis不错，可以请教TimYang3.修改数据库密码   版权声明：转载请注明来源 紫梦芊@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：低 漏洞Rank：1  确认时间：2012-02-07 08:45 厂商回复： 多谢提供 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2012-02-06 19:17 |    \t\tzeracker  \t\t\t( 核心白帽子 |\t\t\t        Rank:1068 漏洞数:137        | 多乌云、多机会!微信公众号: id:a301zls   ...)\t\t \n  我只知道某个root有。    \n     2012-02-07 08:22 |    \t\t紫梦芊 \t\t\t( 普通白帽子  |\t\t\t        Rank:138 漏洞数:9        | 踏踏实实做测试)\t\t \n  楼上正解~重现很容易 因为\"Too many connections\"CC或DD    \n     2012-02-07 10:42 |    \t\t紫梦芊 \t\t\t( 普通白帽子  |\t\t\t        Rank:138 漏洞数:9        | 踏踏实实做测试)\t\t \n  才1 Rank??问题不在于Google缓存爆出来的问题在于重现方式 被Ddos攻击 或CC就又会挂出来~    \n     2012-03-22 18:46 |    \t\tzeracker  \t\t\t( 核心白帽子 |\t\t\t        Rank:1068 漏洞数:137        | 多乌云、多机会!微信公众号: id:a301zls   ...)\t\t \n  这个去年就有了。    \n     2012-03-22 19:15 |    \t\thorseluke \t\t\t( 普通白帽子  |\t\t\t        Rank:116 漏洞数:18        | Realize the dream in earnest.)\t\t \n  缺陷关联： WooYun: Discuz!x官方 敏感信息泄露 （原因：生产环境配置不当；注意，此关联可能不准确）    \n     2012-04-09 14:48 |    \t\t紫梦芊 \t\t\t( 普通白帽子  |\t\t\t        Rank:138 漏洞数:9        | 踏踏实实做测试)\t\t \n  WEB安全测试500人群 QQ群号 139836831    \n     2012-04-09 15:02 |    \t\tzeracker  \t\t\t( 核心白帽子 |\t\t\t        Rank:1068 漏洞数:137        | 多乌云、多机会!微信公众号: id:a301zls   ...)\t\t \n  晚上回去加，不是娱乐圈吧？    \n     2012-04-09 17:53 |    \t\t紫梦芊 \t\t\t( 普通白帽子  |\t\t\t        Rank:138 漏洞数:9        | 踏踏实实做测试)\t\t \n  不是 就是一些做web测试人员的交流群    \n  \n\n\n", "wybug_level_fromcorp": "低", "wybug_rank_fromcorp": 1, "Ranks": null}