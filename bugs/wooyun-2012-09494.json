{"id": 18071, "wybug_id": "wooyun-2012-09494", "wybug_title": "800app的某上传引发的血案", "wybug_corp": "800app", "wybug_author": "路人甲", "wybug_date": "2012-07-11 17:30", "wybug_open_date": "2012-08-25 17:30", "wybug_type": "文件上传导致任意代码执行", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "未联系到厂商或者厂商积极忽略", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["云安全", "安全", "客户敏感数据泄漏", "文件上传导致代码执行"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2012-07-11：\t积极联系厂商并且等待厂商认领中，细节不对外公开\t\t\t\t\t\t\t\t\t2012-08-25：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 不知大家认不认同云？云安全问题是不是会引起很多血案？值得深思。。。 详细说明：  首先，我申请个试用帐号，然后进后台看了一，看看是否存在安全问题。http://www.800app.com/简单看了一下，发现了几次SQL注入的地方，虽然也有了防注，但简单就能绕过了。。再看看，发现居然可以直接上传任意文件（后来测试是只过滤了aspx）。。。\n\n上传后路径是隐藏了的，虽然可以上传任意文件，但路径隐藏了，没有办法呀。但想到，图片一般有预览功能吧？是不是可以从中发现地址？于是上传了张图片，预览地址为：https://cn838.800app.com/edit/crm_filepreview.aspx?fileid=xxx&flg=1查看源码，路径真出现了。。\n\n好吧，直接上传asmx个马，ashx估计是被全局处理掉了。直接拿下了webshell\n\n链接了数据库，看看小米是不是在上面？哈哈。。很失望地发现不在，没有那么简单，再注意到https://cn838.800app.com/https://cn01.800app.com/原来是有区分服务器的，自己发在的应该是测试服务器吧？但想了一下，数据库密码会不会是一样呢？于是试着10.0.71.6然后查询了一下，哈哈。。都在这了。。\n\n到这里结束，没有继续深入，也没所谓拖库，对我来说不重要，只是好奇云安全，好奇某公司是否真像宣传那样，使用。。也算证明了，呵呵。。   漏洞证明：  上面已经讲过了。   修复方案：  应该懂!   版权声明：转载请注明来源 路人甲@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 未能联系到厂商或者厂商积极拒绝 漏洞Rank：20 (WooYun评价)  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "未能联系到厂商或者厂商积极拒绝", "wybug_rank_fromcorp": 20, "Ranks": null}