{"id": 16907, "wybug_id": "wooyun-2012-011788", "wybug_title": "百度某j2ee应用配置失误导致文件读取！", "wybug_corp": "百度", "wybug_author": "shine", "wybug_date": "2012-09-05 18:32", "wybug_open_date": "2012-10-20 18:33", "wybug_type": "系统/服务运维配置不当", "wybug_level": "高", "wybug_rank_0": "10", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2012-09-05：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2012-09-05：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2012-09-15：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2012-09-25：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2012-10-05：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2012-10-20：\t细节向公众公开  简要描述：   RT! 详细说明：    今天，写了一个鸡肋的扫描器稍微扫了一下，又找到一个，这个是可以读取任意类型文件的。 \n\n   漏洞证明：  \n\n\n\n（我汗！一个内网密码也写得这么复杂！）\n\n   修复方案：    剩余的自己弄个扫描器，扫一下剩余有分层架构的服务器ip段吧（免得哥刷rank了！哈哈！）！   版权声明：转载请注明来源 shine@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：10  确认时间：2012-09-05 19:13 厂商回复： 感谢你对百度安全的关注，马上安排处理！ 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2012-10-22 11:08 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:18        | 当我又回首一切,这个世界会好吗?)\t\t \n  这玩意儿原理是啥啊 不是应该有默认禁止这个目录的访问啊？    \n     2012-10-22 12:20 |    \t\tshine  \t\t\t( 普通白帽子  |\t\t\t        Rank:831 漏洞数:77        | coder)\t\t \n  @xsser ...，管理员你太不认真了，哥发了那么多，前面还有文章说明（http://hi.baidu.com/shine%5F%C9%C1%C1%E9/blog/item/7d7d57445f523a4384352468.html）  主要是配置错误造成的（就Nginx、Apache来看，主要是开启了目录浏览（目录浏览就不说了）以及还有如：Nginx + Tomcat 在正常使用反向代理时，去映射虚拟目录时，如：使用root，配置的人可能是因为麻烦，就映射整个项目，就包含了css、js、images等所有目录，这样方便点，但这样就能访问到WEB-INF目录下的敏感信息了（请注意，这样就能通过Nginx自身，而不是交给Tomcat去访问WEB-INF目录里面的某些类型文件了）），上面可能是Nginx最常见的错误配置了，造成这个问题的原因有很多种，因为Nginx本身在做反向代理、集群等配置就很灵活，容易出现这样的错误（所以在配置时，要做统一配置规范，不然，一不注意就会出现这样的问题）。  而大的原理就是：一个规范的敏感信息如何在并入到另一个规范中时得到绝对有效的保护（如果你理解了这个，同时你又接触了很多种产品，特别是搭配使用产品时，你可能还会发现更多漏洞）！  解答需支付10wb，谢谢！哈哈！（另外，是要哥再发个该漏洞的专题或集锦吗？目前测试来看，基本所有大公司都出现了这个问题！哎！哥发了那么多了，他们也不自查一下！）    \n     2012-10-22 12:24 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:18        | 当我又回首一切,这个世界会好吗?)\t\t \n  @shine 来一个集锦吧...  另外，你这文章很赞啊，可以转发到zone里的linux运维安全里 ：）    \n     2012-10-22 12:30 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:18        | 当我又回首一切,这个世界会好吗?)\t\t \n  @shine 另外，我此前一直认为分层的结构会更安全，因为nginx理当只负责静态的解析，那么服务器上就不应该存有私有的数据，但是不清楚为什么会到同一台服务器上    \n     2012-11-01 17:37 |    \t\t园长 \t\t\t( 普通白帽子  |\t\t\t        Rank:134 漏洞数:14        | 你在身边就是缘，缘分写在数据库里面。)\t\t \n  @xsser 负载均衡的时候很多人都没有注意目录安全。    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 10, "Ranks": null}