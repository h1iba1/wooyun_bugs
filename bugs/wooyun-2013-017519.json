{"id": 14242, "wybug_id": "wooyun-2013-017519", "wybug_title": "[新浪XSS一课一练]瘦子XSS教程第一课深入：典型XSS的检测", "wybug_corp": "新浪", "wybug_author": "专注XSS三十年", "wybug_date": "2013-01-19 10:40", "wybug_open_date": "2013-03-05 10:41", "wybug_type": "xss跨站脚本攻击", "wybug_level": "低", "wybug_rank_0": "1", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["反射型", "利用技巧"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-01-19：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-01-19：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2013-01-29：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2013-02-08：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2013-02-18：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2013-03-05：\t细节向公众公开  简要描述： 第一课 http://www.wooyun.org/bugs/wooyun-2010-015957新浪的XSS自然比腾讯更多，这里只讨论IE浏览器下的情况，其它浏览器可能需要做一些变形。纯粹的完全无过滤确实不太好找，这个其实是输出在HTML属性里，严格来说应该算是第三课的扩展，不过算了，勉强算是没有任何过滤吧。第三课的时候我找个输出在<input value= 的例子。 详细说明：  漏洞地址：http://bt.house.sina.com.cn/zdy/page/lc600_sp.html?url=68397653_2202974785_Z0u3GCJuDm7K+l1lHz2stqkP7KQNt6nni2q2slWgIgZcQ0/XM5Gfat4O5y/TA9kEqDhAQpA8fPkg0h4漏洞成因：\nvar str=window.location.href;\t\t\t  var es=/url=/;\t\t\t  es.exec(str);\t\t\t  var right=RegExp.rightContext;……<embed id=sp pluginspage='http://www.macromedia.com/go/getflashplayer' src='http://you.video.sina.com.cn/api/sinawebApi/outplayrefer.php/vid=\"+right+\"/s.swf' type=……\nURL取得的内容未做任何过滤，直接带入到embed标签内。很典型的XSS。构造地址：\nhttp://bt.house.sina.com.cn/zdy/page/lc600_sp.html?url=11\">'><img src=1 onerror=alert(1);><textarea>\n附加说明：1 为啥要用\">'>：实际测试中，如果我用单引号，引用地址会变成双引号；如果我用双引号，它就用单引号引用。我怒了， 干脆都加上，总有一款适合你。2 最近比较喜欢使用<textarea>屏蔽后面的东西。3 如果有时间，我可能会专门做一期XSS代码对于各个浏览器兼容的处理。   漏洞证明：  \n\n   修复方案：  嗯..问瘦子。   版权声明：转载请注明来源 专注XSS三十年@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：低 漏洞Rank：5  确认时间：2013-01-19 18:23 厂商回复： 谢谢 修复中 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-01-19 10:44 |    \t\tshine  \t\t\t( 普通白帽子  |\t\t\t        Rank:831 漏洞数:77        | coder)\t\t \n  真的是“手把手”啊！哈哈！    \n     2013-01-19 11:08 |    \t\t围剿 \t\t\t( 路人 |\t\t\t        Rank:17 漏洞数:5        | Evil decimal)\t\t \n  xss专场开始了    \n     2013-01-19 11:47 |    \t\t易水寒 \t\t\t( 实习白帽子  |\t\t\t        Rank:67 漏洞数:6        )\t\t \n  有了乌云，妈妈再也不用担心我的xss了。    \n     2013-01-19 11:52 |    \t\t小胖子  \t\t\t( 核心白帽子 |\t\t\t        Rank:1727 漏洞数:140        | 如果大海能够带走我的矮丑...)\t\t \n  @易水寒 孩子XSS老是学不好，多半是废了！拉出去打一顿就好了~    \n     2013-01-19 22:10 |    \t\tx1aoh4i \t\t\t( 普通白帽子  |\t\t\t        Rank:403 漏洞数:62        )\t\t \n  难道这是瘦子手把手的徒弟？？瘦子的文章我要用，瘦子看见吱一声    \n     2013-02-19 10:18 |    \t\t屌丝一枚 \t\t\t( 路人 |\t\t\t        Rank:9 漏洞数:2        | 屌丝一个，蛋疼的。)\t\t \n  哈哈 名字吊爆了，专注xss30年    \n     2013-02-19 12:23 |    \t\tCsser \t\t\t( 路人 |\t\t\t        Rank:11 漏洞数:6        )\t\t \n  有一个系列。关注了    \n  \n\n\n", "wybug_level_fromcorp": "低", "wybug_rank_fromcorp": 5, "Ranks": null}