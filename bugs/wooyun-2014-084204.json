{"id": 42978, "wybug_id": "wooyun-2014-084204", "wybug_title": "某医院网站存在爆破以及泄露敏感信息的url", "wybug_corp": "我爱我家", "wybug_author": "路人甲", "wybug_date": "2014-11-24 10:32", "wybug_open_date": "2015-01-08 10:34", "wybug_type": "URL跳转", "wybug_level": "中", "wybug_rank_0": "10", "wybug_status": "未联系到厂商或者厂商积极忽略", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-11-24：\t积极联系厂商并且等待厂商认领中，细节不对外公开\t\t\t\t\t\t\t\t\t2015-01-08：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 存在两个隐藏的url可以鉴权以及使用身份证获取用户敏感信息 详细说明：  漏洞url：http://www.169jk.com:8088/App_Page/Reserve/ReserveHandler.ashx?Mode=userAuthorize&account=122331&password=123456\nfunction vaildateUser() {            var accountstr = $(\"#lblAccount\").text();            var passwordstr = $(\"#txtPassword\").val();            var result = false            $.ajax({                type: \"post\",                data: {                    account: accountstr,                    password: passwordstr                },                url: \"../../App_Page/Reserve/ReserveHandler.ashx?Mode=userAuthorize\",                async: false,                success: function (data) {                    if (data == \"000\") {                        result = true;                    }                },                error: function (XMLHttpRequest, textStatus, errorThrown) {                 }            });            return result;\n通过上面的code可以看出，000表示存在，001表示不存在，可以利用burp等工具猜测用户名及密码漏洞url2：http://www.169jk.com:8088/App_Page/Reserve/ReserveHandler.ashx?Mode=getUserByCredNo&credNo=身份证号\nfunction GetDataInfo() {            var credNo = $(\"#txtIDCard\").val();            var result = true;            $.ajax({                type: \"get\",                url: \"../../App_Page/Reserve/ReserveHandler.ashx?Mode=getUserByCredNo&credNo=\" + credNo,                async: false,                dataType: \"json\",                success: function (data) {                    if (data) {                        SetData({                            Name: data.FullName,                            Sex: data.Sex == 1 ? \"男\" : data.Sex == 2 ? \"女\" : \"未知\",                            Mobile: data.Mobile,                            Account: data.Identity,                            CredNo: credNo                        });                         result = true;                    }                    else {                        SetData({                            Name: \"\",                            Sex: \"未知\",                            Mobile: \"\",                            Account: \"\",                            CredNo: \"\"                        });                         result = false;                    }                },                error: function (XMLHttpRequest, textStatus, errorThrown) {                 }\n   漏洞证明：  \n\n   修复方案：  不要图方便，将校验放到服务端执行   版权声明：转载请注明来源 路人甲@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 未能联系到厂商或者厂商积极拒绝  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}