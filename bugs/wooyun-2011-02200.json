{"id": 22763, "wybug_id": "wooyun-2011-02200", "wybug_title": "艾瑞网分站爆错路径", "wybug_corp": "艾瑞网", "wybug_author": "神刀", "wybug_date": "2011-06-01 13:47", "wybug_open_date": "2011-06-01 13:55", "wybug_type": "敏感信息泄露", "wybug_level": "低", "wybug_rank_0": "5", "wybug_status": "未联系到厂商或者厂商积极忽略", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["设置不当", "安全设置不当"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2011-06-01：\t积极联系厂商并且等待厂商认领中，细节不对外公开\t\t\t\t\t\t\t\t\t2011-06-01：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 爆错路径 详细说明：  http://column.iresearch.cn/u/yzs/358922.shtml无法打开登录所请求的数据库 \"ICMS_blog\"。登录失败。用户 'irs_guest' 登录失败。 说明: 执行当前 Web 请求期间，出现未处理的异常。请检查堆栈跟踪信息，以了解有关该错误以及代码中导致错误的出处的详细信息。 异常详细信息: System.Data.SqlClient.SqlException: 无法打开登录所请求的数据库 \"ICMS_blog\"。登录失败。用户 'irs_guest' 登录失败。源错误: 行 251:        if (logid > 0)行 252:        {行 253:            sys_blog.getOneLog(\"select Topic,logid,Addtime,iis,Commentnum,User_group,Userid,Logtext,Subjectid,LogTagsId,LogTags,DIggs,Logfile,author  from oblog_log where isDel=0 And isdraft=0 And logid=\" + logid.ToString(), bloginfo);行 254:            if (bloginfo.Logid == 0)行 255:            { 源文件: d:\\Webroot\\ICMS\\column\\User.aspx.cs    行: 253 堆栈跟踪: [SqlException (0x80131904): 无法打开登录所请求的数据库 \"ICMS_blog\"。登录失败。用户 'irs_guest' 登录失败。]   System.Data.ProviderBase.DbConnectionPool.GetConnection(DbConnection owningObject) +428   System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection) +65   System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory) +117   System.Data.SqlClient.SqlConnection.Open() +122   DataProvider.SqlDataProvider.ExecuteReader(String connectionString, CommandType commandType, String commandText, SqlParameter[] commandParameters) in D:\\Webroot\\www.iresearch.cn\\project\\DataProvider\\SqlDataProvider.cs:934   DataProvider.SqlDataProvider.ExecuteReader(String connectionString, CommandType commandType, String commandText) in D:\\Webroot\\www.iresearch.cn\\project\\DataProvider\\SqlDataProvider.cs:902   DAL.sys_blog.getOneLog(String sql, BlogInfo bloginfo) in D:\\Webroot\\www.iresearch.cn\\project\\DAL\\sys_blog.cs:371   User.Page_Load(Object sender, EventArgs e) in d:\\Webroot\\ICMS\\column\\User.aspx.cs:253   System.Web.Util.CalliHelper.EventArgFunctionCaller(IntPtr fp, Object o, Object t, EventArgs e) +14   System.Web.Util.CalliEventHandlerDelegateProxy.Callback(Object sender, EventArgs e) +35   System.Web.UI.Control.OnLoad(EventArgs e) +99   System.Web.UI.Control.LoadRecursive() +50   System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint) +627    漏洞证明：  \n\n   修复方案：  报错跳转404   版权声明：转载请注明来源 神刀@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 未能联系到厂商或者厂商积极拒绝 漏洞Rank：3 (WooYun评价)  ", "replys": "漏洞评价：\n评论\n     2011-06-01 17:12 |    \t\tXhm1n9 \t\t\t( 实习白帽子  |\t\t\t        Rank:57 漏洞数:13        | bug)\t\t \n  刀割牛比啊这都让你找到了，定义自己的义异常类将系统产生的异常包装起来不更好？    \n     2011-06-01 20:15 |    \t\t神刀 \t\t\t( 路人 |\t\t\t        Rank:23 漏洞数:3        | www.shellsec.com内射那么牛，虾米没妹子？)\t\t \n  小弟无法与彩票牛比~    \n  \n\n\n", "wybug_level_fromcorp": "未能联系到厂商或者厂商积极拒绝", "wybug_rank_fromcorp": 3, "Ranks": null}