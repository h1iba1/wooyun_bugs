{"id": 39234, "wybug_id": "wooyun-2015-094496", "wybug_title": "释锐教育校校用平台通用远程命令执行", "wybug_corp": "上海释锐教育软件有限公司", "wybug_author": "路人甲", "wybug_date": "2015-01-29 15:58", "wybug_open_date": "2015-04-29 16:00", "wybug_type": "远程代码执行", "wybug_level": "高", "wybug_rank_0": "18", "wybug_status": "已交由第三方合作机构(cncert国家互联网应急中心)处理", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["远程命令执行"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-01-29：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-02-03：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-02-06：\t细节向第三方安全合作伙伴开放\t\t\t\t\t\t\t\t\t2015-03-30：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-04-09：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-04-19：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-04-29：\t细节向公众公开  简要描述： 释锐教育校校用平台通用远程命令执行，可批量getshell. 详细说明：  一、上海释锐网络信息服务有限公司成立于2002年，是一家注册并入住张江高科技园区的教育软件企业。 释锐™致力于传播教育先进力量，为教育行业用户提供从校校用™软件及服务、910SPACE.COM教育社区网站运营到教育论坛与咨询服务等全方位的教育信息化应用解决方案，通过教育信带动推动教育现代化。 荣誉与市场地位： 1.“释锐®校校用™平台”2004荣获“上海市中小学教育信息化应用示范项目”。 2.“释锐®校校用™平台”2008荣获“上海市张江高科技园区科技创新专项资金政府资助项目”。 3.“释锐®校校用™平台”2009荣获“上海市科技型中小企业技术创新项目”。 4.截至2009年6月，释锐公司在基础教育领域已经累计研发时间超过6年，投入经费超过2000万元，发展了来自全国各地的中高端学校类客户1500多家，网站个人类客户15万人，为超过50万直接终端客户连续6年提供了高品质服务。雄踞上海市重点中学（示范性实验高中、初中）40%的市场份额。 软件服务： 1.释锐更重视售后服务； 2.释锐保/ThreePLUS专有服务品牌，提供24小时随叫随到延续保障服务； 3.释锐™校校用™SAAS软件托管服务，构建云计算软件应用新模式。\n\n二、在测试过程中，发现该系统用于各中小学校，然而在系统开发中却加入中JBoss做为中间件，但该中间件版本却是使用了有问题的 Servlet 2.4; JBoss-4.0.5.GA。存在一个invoker/JMXInvokerServlet接口，该接口可远程部署上传war，可进行批量getshell。三、影响的站点：jgxx.hkedu.sh.cnwww.hxyz.com.cn:81123.178.106.34:8080 www.nj29jt.net:88221.226.101.250218.3.207.47:8080 xz34z.xze.cn:8080116.236.133.130:81zjcsnz.zje.net.cn:8080218.94.62.26:8000 www.mdsz.com.cn:8080deyu.dfzx.net.cnxxjs.dfzx.net.cn222.132.30.248www.dfzx.net.cnwww.tyjsw.netgrecord.sjfls.sjedu.cn:8158.216.183.197:8090 下面将用一个站点做为getshell案例：dfzx.net.cn\n\n进一步测试发现，大部门的站点均是以system账户运行该系统。\n\n四、通用sa账号及密码：\n\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?><datasources>     <local-tx-datasource>     <jndi-name>DBConnectionAspDS</jndi-name>     <connection-url>jdbc:sqlserver://127.0.0.1:1433;databaseName=xiaoxiaoyong_school</connection-url>     <driver-class>com.microsoft.sqlserver.jdbc.SQLServerDriver</driver-class>     <user-name>sa</user-name>     <password>threenet</password>       <metadata>          <type-mapping>MS SQLSERVER2000</type-mapping>       </metadata>   </local-tx-datasource> \t\t  <local-tx-datasource>    <jndi-name>MasterDS</jndi-name>    <connection-url>jdbc:sqlserver://127.0.0.1:1433;databaseName=master</connection-url>     <driver-class>com.microsoft.sqlserver.jdbc.SQLServerDriver</driver-class>     <user-name>sa</user-name>     <password>threenet</password>       <metadata>          <type-mapping>MS SQLSERVER2000</type-mapping>       </metadata>   </local-tx-datasource>   </datasources>\n   漏洞证明：  一、上海释锐网络信息服务有限公司成立于2002年，是一家注册并入住张江高科技园区的教育软件企业。 释锐™致力于传播教育先进力量，为教育行业用户提供从校校用™软件及服务、910SPACE.COM教育社区网站运营到教育论坛与咨询服务等全方位的教育信息化应用解决方案，通过教育信带动推动教育现代化。 荣誉与市场地位： 1.“释锐®校校用™平台”2004荣获“上海市中小学教育信息化应用示范项目”。 2.“释锐®校校用™平台”2008荣获“上海市张江高科技园区科技创新专项资金政府资助项目”。 3.“释锐®校校用™平台”2009荣获“上海市科技型中小企业技术创新项目”。 4.截至2009年6月，释锐公司在基础教育领域已经累计研发时间超过6年，投入经费超过2000万元，发展了来自全国各地的中高端学校类客户1500多家，网站个人类客户15万人，为超过50万直接终端客户连续6年提供了高品质服务。雄踞上海市重点中学（示范性实验高中、初中）40%的市场份额。 软件服务： 1.释锐更重视售后服务； 2.释锐保/ThreePLUS专有服务品牌，提供24小时随叫随到延续保障服务； 3.释锐™校校用™SAAS软件托管服务，构建云计算软件应用新模式。\n\n二、在测试过程中，发现该系统用于各中小学校，然而在系统开发中却加入中JBoss做为中间件，但该中间件版本却是使用了有问题的 Servlet 2.4; JBoss-4.0.5.GA。存在一个invoker/JMXInvokerServlet接口，该接口可远程部署上传war，可进行批量getshell。三、影响的站点：jgxx.hkedu.sh.cnwww.hxyz.com.cn:81123.178.106.34:8080 www.nj29jt.net:88221.226.101.250218.3.207.47:8080 xz34z.xze.cn:8080116.236.133.130:81zjcsnz.zje.net.cn:8080218.94.62.26:8000 www.mdsz.com.cn:8080deyu.dfzx.net.cnxxjs.dfzx.net.cn222.132.30.248www.dfzx.net.cnwww.tyjsw.netgrecord.sjfls.sjedu.cn:8158.216.183.197:8090 下面将用一个站点做为getshell案例：dfzx.net.cn\n\n进一步测试发现，大部门的站点均是以system账户运行该系统。\n\n四、通用sa账号及密码：\n\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?><datasources>     <local-tx-datasource>     <jndi-name>DBConnectionAspDS</jndi-name>     <connection-url>jdbc:sqlserver://127.0.0.1:1433;databaseName=xiaoxiaoyong_school</connection-url>     <driver-class>com.microsoft.sqlserver.jdbc.SQLServerDriver</driver-class>     <user-name>sa</user-name>     <password>threenet</password>       <metadata>          <type-mapping>MS SQLSERVER2000</type-mapping>       </metadata>   </local-tx-datasource> \t\t  <local-tx-datasource>    <jndi-name>MasterDS</jndi-name>    <connection-url>jdbc:sqlserver://127.0.0.1:1433;databaseName=master</connection-url>     <driver-class>com.microsoft.sqlserver.jdbc.SQLServerDriver</driver-class>     <user-name>sa</user-name>     <password>threenet</password>       <metadata>          <type-mapping>MS SQLSERVER2000</type-mapping>       </metadata>   </local-tx-datasource>   </datasources>\n   修复方案：  1.删除接口2.限制访问   版权声明：转载请注明来源 路人甲@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：15  确认时间：2015-02-03 14:18 厂商回复： CNVD确认所述情况，已经由CNVD通过以往建立的处置渠道向软件生产厂商通报。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 15, "Ranks": null}