{"id": 77954, "wybug_id": "wooyun-2015-0161476", "wybug_title": "店连店Redis未授权访问导致信息泄漏和绕过SSH认证登录", "wybug_corp": "店连店", "wybug_author": "pudding2", "wybug_date": "2015-12-15 14:15", "wybug_open_date": "2016-01-28 17:10", "wybug_type": "未授权访问/权限绕过", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "未联系到厂商或者厂商积极忽略", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["敏感信息泄露", "未授权访问", "操作技巧"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-12-15：\t积极联系厂商并且等待厂商认领中，细节不对外公开\t\t\t\t\t\t\t\t\t2016-01-28：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 店连店某门户站点存在Redis未授权访问漏洞,导致信息泄漏和绕过SSH认证登录控制服务器 详细说明：  存在漏洞的站点URL:http://211.162.119.43/1.发现店连店站点211.162.119.43存在Redis未授权访问漏洞\n\n2.发现泄漏数据信息(含用户数据)\n\n3.对其进行上传SSH公钥发现,发现没有写入权限\n\n4.通过redis的相关资料发现,目前属于master权限可以修改写入权限\n\n\n\n5.重新上传公钥后,成功登录服务器\n\n   漏洞证明：  \n\n备注:出于职业精神,完成步骤后,本人已将写入权限重新关闭,虽然很容易开启    修复方案：  1、配置bind选项，限定可以连接Redis服务器的IP，修改 Redis 的默认端口63792、配置认证，也就是AUTH，设置密码，密码会以明文方式保存在Redis配置文件中3、配置rename-command 配置项 “RENAME_CONFIG”，这样即使存在未授权访问，也能够给攻击者使用config 指令加大难度4、Redis作者表示将会开发”real user”，区分普通用户和admin权限，普通用户将会被禁止运行某些命令，如config备注:进行深入发现211.162.119.42的战点也属于dld.com的,但是设置了密码,为啥211.162.119.43不设置呢,安全意识需要提高啊~-~!   版权声明：转载请注明来源 pudding2@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 未能联系到厂商或者厂商积极拒绝  ", "replys": "漏洞评价：\n评价\n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}