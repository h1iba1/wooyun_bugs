{"id": 25539, "wybug_id": "wooyun-2015-0131152", "wybug_title": "我是这样进去中国联通集团客户管理系统的", "wybug_corp": "中国联通", "wybug_author": "枯荣", "wybug_date": "2015-08-03 14:48", "wybug_open_date": "2015-09-20 09:46", "wybug_type": "未授权访问/权限绕过", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "已交由第三方合作机构(cncert国家互联网应急中心)处理", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["认证设计不合理"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-08-03：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-08-06：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-08-16：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-08-26：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-09-05：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-09-20：\t细节向公众公开  简要描述： 虽然我知道你们一直都给10rank 但是不妨碍我写20啊   另外能问问可以改名字合并帐号吗？  详细说明：  站在着呢   http://114.247.129.12/ulp/  进去看了看 \n\n根据掌握到的帐号密码 系统工号：liujh297,密码：Abc1.4   Aa123456 竟然出错了，真的是愁死宝宝了。无聊之下 果断右键查看源代码哦~ 问题在着哩呢\n<script type=\"text/javascript\">\t\t\t\tconfigurations={\t\tinit:{\t\t\tgraphic:false\t\t},\t\tempty:{\t\t\tuname:\"请输入用户名!\",\t\t\tpwd:\"请输入密码!\",\t\t\trand:\"请输入验证码!\"\t\t},\t\tlengthCheck:{\t\t\tpwd:\"请输入6-10位密码!\"\t\t},\t\tactions:{\t\t\tlogin:\"/ulp/login!dealLogin.action\",\t\t\tgraphicCode:\"/ulp/jkRandom.jsp\"\t\t},\t\tcssName:{\t\t\tright:\"\",\t\t\terror:\"errortip\"\t\t}\t};\t// 提交form\t$(function($){\t// 修改密码界面\t\t$(\"#passwordDialog\").dialog( {\t\t\t\tautoOpen : false,\t\t\t\tcollapsible:false,\t\t\t\tminimizable:false,\t\t\t\tmaximizable:false,\t\t\t\tresizable:false,\t\t\t\ttoolbar:null,\t\t\t\tclosed:true,\t\t\t\tonBeforeClose:function(){$(this).validatebox(\"removeInvalid\");},\t\t\t\tleft:null,\t\t\t\ttop:null,\t\t\t\theight : 195,\t\t\t\twidth :360,\t\t\t\ttitle : \"用户密码修改\",\t\t\t\tmodal : true\t\t\t}).dialog(\"close\");\t\t\tgetfocus();\t\t\t$(\"#changePassword\").click(function() {\t\t\t\t\tvar confirmPwd = $(\"#confirmPwd\").val();\t\t\t\tvar newPwd = $(\"#newPwd\").val();\t\t\t\tvar oldPwd = $(\"#oldPwd\").val();\t\t\t\tvar staffCode = $(\"#staffCode\").val();\t\t\t\tif($(\"#passwordForm\").form(\"validate\")) {\t\t\t\t\t\tif(newPwd==oldPwd){\t\t\t\t\t\t$.messager.alert('信息标题','新密码与原密码相同，请重输！', 'info');\t\t\t\t\t\treturn false;\t\t\t\t}\t\t\t\tif(Evaluate(newPwd) < 3)\t\t\t\t{\t\t\t\t\t$.messager.alert('信息标题', '密码过于简单，必须包含至少一个大写字母，一个小写字母，一个数字！请重新输入！', 'info');\t\t\t\t\t$(\"#newPwd\").val(\"\");\t\t\t\t\t$(\"#confirmPwd\").val(\"\");\t\t\t\t\treturn false;\t\t\t\t}\t\t\tif ($(\"#confirmPwd\").val() != $(\"#newPwd\").val()) {\t\t\t\t$.messager.alert('信息标题', '两次密码输入不同，请重输！', 'info');\t\t\t\treturn false;\t\t\t} else {\t\t\t\t$.ajax( {\t\t\t\t\turl : 'systemUser!updatePassword.action',\t\t\t\t\ttype : 'post',\t\t\t\t\tdataType : 'json',\t\t\t\t\tdata : {\t\t\t\t\t\t\"staffCode\" : $(\"#staffCode\").val(),\t\t\t\t\t\t\"oldPwd\" : $(\"#oldPwd\").val(),\t\t\t\t\t\t\"newPwd\" : $(\"#newPwd\").val()\t\t\t\t\t},\t\t\t\t\tsuccess : function(data) {\t\t\t\t\t\tif (data.errCode == \"0\") {\t\t\t\t\t\t\t$.messager.alert('信息标题', '密码修改成功！', 'info',\t\t\t\t\t\t\t\t\tfunction() {\t\t\t\t\t\t\t\t\t\t$(\"#passwordDialog\").dialog(\"close\");\t\t\t\t\t\t\t\t\t});\t\t\t\t\t\t}\t\t\t\t\t\tif (data.errCode == \"1\") {\t\t\t\t\t\t\t$.messager.alert('信息标题', '旧密码输入错误！', 'info');\t\t\t\t\t\t}\t\t\t\t\t\t;\t\t\t\t\t}\t\t\t\t});\t\t\t}\t\t}\t}\t);\t\t$(\"#closePasswordBtn\").click(function() {\t\t\t$(\"#passwordDialog\").dialog(\"close\");\t\t\tgetfocus();\t\t});..............................\n前端验证嘛 抓包解决\n\n   漏洞证明：  你看进去了吧  \n\n人道主义精神~~~不不不  对厂商负责的态度咯 我没乱改也没乱进为什莫不乱动rank就少呢？   修复方案：  前端验证用户误输入后端验证正确性很老的话题了不要这么干咯可爱联通么么哒   版权声明：转载请注明来源 枯荣@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：8  确认时间：2015-08-06 09:45 厂商回复： CNVD确认并复现所述情况,已经转由CNCERT向中国联通集团公司通报,由其后续协调网站管理部门处置. 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2015-08-03 16:16 |    \t\tcncert国家互联网应急中心(乌云厂商)\t\t \n  您好！感谢您对CNVD的支持，商请提供该漏洞中绕过登录的详细步骤，如需修改页面js请具体指出。发送邮件至vreport@cert.org.cn邮箱，以便CNVD测试复现。祝好！    \n     2015-08-03 18:43 |    \t\t枯荣 \t\t\t( 路人 |\t\t\t        Rank:6 漏洞数:3        | QQ)\t\t \n  @cncert国家互联网应急中心 已发送咯    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 8, "Ranks": null}