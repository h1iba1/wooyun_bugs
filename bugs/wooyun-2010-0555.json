{"id": 24013, "wybug_id": "wooyun-2010-0555", "wybug_title": "新浪WAP下载频道SQL注射BUG", "wybug_corp": "新浪", "wybug_author": "Jannock", "wybug_date": "2010-09-15 15:06", "wybug_open_date": "2010-10-15 18:00", "wybug_type": "SQL注射漏洞", "wybug_level": "低", "wybug_rank_0": "5", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["敏感信息泄漏", "字符类型注射", "调试信息未屏蔽"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2010-09-15：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2010-09-15：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2010-09-25：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2010-10-05：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2010-10-15：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2010-10-15：\t细节向公众公开  简要描述： 新浪WAP下载频道SQL注射BUG 详细说明：  http://down.sina.cn/download/downpage/themedown/id/1500227'/mid/144http://down.sina.cn/download/downpage/down/subid/1500231/id/1500227'/mid/144从出错信息可以看到，更新点击次数和下载次数时没有对参数处理，造成注入及出错。   漏洞证明：  http://down.sina.cn/download/downpage/themedown/id/1500227'/mid/144exception 'QDB_Exception' with message 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''1500227''' at line 1' in /data0/wwwroot/qee/library/db/adapter/mysql.php:237#0 /data0/wwwroot/sina/app/model/downloadmain.php(704): QDB_Adapter_Mysql->execute('INSERT INTO sin...')#1 /data0/wwwroot/sina/app/controller/download/downpage_controller.php(164): DownloadMain::statViews('1500227'')#2 [internal function]: Controller_Download_Downpage->actionThemeDown()#3 /data0/wwwroot/sina/app/controller/abstract.php(63): call_user_func_array(Array, Array)#4 /data0/wwwroot/sina/app/myapp.php(307): Controller_Abstract->execute('themedown', Array)#5 /data0/wwwroot/sina/public/index.php(17): MyApp->dispatching()#6 {main}dump from: /data0/wwwroot/sina/app/myapp.php (629) string '如果要改变对异常的处理，请修改文件 \"/data0/wwwroot/sina/app/myapp.php\" 的 exception_handler() 方法' (length=118)http://down.sina.cn/download/downpage/down/subid/1500231/id/1500227'/mid/144exception 'QDB_Exception' with message 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''1500227''' at line 1' in /data0/wwwroot/qee/library/db/adapter/mysql.php:237#0 /data0/wwwroot/sina/app/model/downloadmain.php(719): QDB_Adapter_Mysql->execute('INSERT INTO sin...')#1 /data0/wwwroot/sina/app/controller/download/downpage_controller.php(1068): DownloadMain::statDowns('1500227'', '5')#2 [internal function]: Controller_Download_Downpage->actionDown()#3 /data0/wwwroot/sina/app/controller/abstract.php(63): call_user_func_array(Array, Array)#4 /data0/wwwroot/sina/app/myapp.php(307): Controller_Abstract->execute('down', Array)#5 /data0/wwwroot/sina/public/index.php(17): MyApp->dispatching()#6 {main}dump from: /data0/wwwroot/sina/app/myapp.php (629) string '如果要改变对异常的处理，请修改文件 \"/data0/wwwroot/sina/app/myapp.php\" 的 exception_handler() 方法' (length=118)   修复方案：  都知道   版权声明：转载请注明来源 Jannock@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：低 漏洞Rank：2  确认时间：2010-09-15 15:12 厂商回复： 谢谢提供 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "低", "wybug_rank_fromcorp": 2, "Ranks": null}