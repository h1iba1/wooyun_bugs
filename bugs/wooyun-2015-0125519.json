{"id": 1747, "wybug_id": "wooyun-2015-0125519", "wybug_title": "海尔U-home和U+智能家居平台全站存在越权问题可泄露电话、精确坐标等并可任意控制设备(影响超过230万用户，28万台设备)", "wybug_corp": "海尔集团", "wybug_author": "宋兵甲", "wybug_date": "2015-07-09 10:58", "wybug_open_date": "2015-08-24 16:30", "wybug_type": "未授权访问/权限绕过", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["敏感信息泄露", "越权操作", "智能硬件", "智能家居"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-07-09：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-07-10：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-07-20：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-07-30：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-08-09：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-08-24：\t细节向公众公开  简要描述： U-home和U+ 的后台服务权限管理不当，存在全站越权漏洞，导致超过230万用户信息泄漏，超过28万台设备可被任意控制。 详细说明：  U-home和U+ 的后台服务器没有对用户权限进行判断，存在全站越权问题，使用自己的token能任意查询其他用户的帐号信息，任意控制他人的设备。构造getUserInfoRequest指令可以查到230多万用户的电话号码等信息。\n\n构造get_devlist指令更是可以查到任意用户家里的所有设备和家庭所在坐标。查询到的设备信息如下：\n\n还有更多控制功能略过，电话+家庭坐标已经非常敏感了。   漏洞证明：  使用下面测试代码可以查询任意用户的信息\n\n   修复方案：  所有操作要判断用户token是否匹配，而不是只使用userId   版权声明：转载请注明来源 宋兵甲@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：16  确认时间：2015-07-10 16:28 厂商回复： 感谢乌云平台白帽子的测试与提醒，我方已安排人员进行处理 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2015-07-09 11:11 |    \t\t高小厨 \t\t\t( 普通白帽子  |\t\t\t        Rank:814 漏洞数:74        | 不会吹牛的小二不是好厨子！)\t\t \n  屌屌的    \n     2015-07-09 11:37 |    \t\twefgod \t\t\t( 普通白帽子  |\t\t\t        Rank:1807 漏洞数:179        | 力不从心)\t\t \n  等着看控制    \n     2015-07-10 17:09 |    \t\t乌云首席鉴黄师 \t\t\t( 普通白帽子  |\t\t\t        Rank:121 漏洞数:45        | 妈妈，我要上电视)\t\t \n  能上电视么？    \n     2015-07-11 22:38 |    \t\tDream° \t\t\t( 实习白帽子  |\t\t\t        Rank:52 漏洞数:13        | 成长需要拥有不断探索的能力....)\t\t \n  让别人冬冷夏暖的空调即将诞生~    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 16, "Ranks": null}