{"id": 21977, "wybug_id": "wooyun-2015-0113991", "wybug_title": "上海住房公积金网漏洞Getshell获取大量的单位和居民用户信息和短信服务信息", "wybug_corp": "上海住房公积金", "wybug_author": "路人甲", "wybug_date": "2015-05-14 09:28", "wybug_open_date": "2015-07-03 08:12", "wybug_type": "命令执行", "wybug_level": "高", "wybug_rank_0": "18", "wybug_status": "已交由第三方合作机构(cncert国家互联网应急中心)处理", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["远程命令执行"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-05-14：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-05-19：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-05-29：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-06-08：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-06-18：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-07-03：\t细节向公众公开  简要描述： 上海住房公积金网漏洞Getshell获取大量的单位和居民用户公积金信息，同时上面部署了短信服务器可以获取相关短信信息。 详细说明：  上海住房公积金网漏洞Getshell获取大量的单位和居民用户公积金信息，同时上面部署了短信服务器可以获取相关短信信息。   漏洞证明：  1.上海住房公积金网，上海住房公积金网-售后公房维修资金专栏http://person.shgjj.com/shgjjwxzjcx/wxzjcx/login.action\n\n测试发现存在struts2 漏洞（安全无小事！）\n\nIP信息：\n\n当前用户：\n\n历史命令：\n\n上传一个菜刀马：\n\n\n\n\n\n数据库配置信息12329sms：\n\n数据库配置信息zhilian：\n\nCcq数据库配置信息：\n\n连接数据库,失败了。\n\n看看日志，查看web日志，记录从2014年8月到当前的了大量的用户信息，比如身份证信息：\n\n查看12329sms日志信息，这个是上海公积金短信服务平台日志，里面发现了大量的短信信息，选取2014年12月19日日志分析：\n\n分析日志，发现大量的企事业单位相关交易信息:\n\n\n\n34524条公积金相关信息：\n\n\n\n大量的用户信息，数据量之大，就不一一截图了：\n\n\n\n上传一个大马：\n\n问题确实存在，主要看了一些站点上有好多数据信息，以及短信交流的信息，希望赶紧修复吧。最后删马，走人！   修复方案：  1.修复st2；2.添加相关安全防护类的产品；3.安全无小事，建议系统在上线之前做一个安全测试，提前规避这些问题。   版权声明：转载请注明来源 路人甲@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：14  确认时间：2015-05-19 08:10 厂商回复： CNVD确认并复现所述情况,已经转由CNCERT下发给上海分中心,由其后续协调网站管理单位处置. 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2015-07-29 22:57 |    \t\traulronaldo \t\t\t( 路人 |\t\t\t        Rank:5 漏洞数:2        | 小白一枚)\t\t \n  这么大的事情竟然没人评论，呵呵    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 14, "Ranks": null}