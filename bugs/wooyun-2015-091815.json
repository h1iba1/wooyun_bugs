{"id": 40356, "wybug_id": "wooyun-2015-091815", "wybug_title": "卖座网app问题简述", "wybug_corp": "maizuo.com", "wybug_author": "hkAssassin", "wybug_date": "2015-01-15 11:41", "wybug_open_date": "2015-03-01 11:42", "wybug_type": "敏感信息泄露", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-01-15：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-01-16：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2015-01-26：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-02-05：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-02-15：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-03-01：\t细节向公众公开  简要描述： 卖座网app安卓客户端没做任何保护措施，存在严重安全风险 详细说明：  下面这张图是安卓apk文件发编译之后得到的源码信息，从源码中可以看到有接受用户输入的密码信息，这种风险极高。只要重新构造一下源码，插入黑客自己的远程服务器地址，然后重新编译打包。用户输入的密码就会被盗取\n\n下面这张图是吧整个apk反编译之后的class文件。经过简单读源码后发现，类似上图中说的问题次apk中很多地方都存在。比如\npublic void onCreate()  {    n.d(\"BMapApiDemoApp\", \"onCreate\");    a = this;    this.d = new BMapManager(this);    this.d.init(\"EF5DF9AE8B1CA011586D15934EBF17E6217E2D5A\", new b());    this.d.getLocationManager().setNotifyInternal(10, 5);    com.hyx.maizuo.server.a.a.a = com.hyx.maizuo.server.e.b.a(getApplicationContext());    this.b = com.hyx.maizuo.advanced.b.a.a();    d locald = d.a();    locald.a(getApplicationContext());    Thread.currentThread().setUncaughtExceptionHandler(locald);    super.onCreate();  }以上代码段可以获取用户手机中的信息，如果被利用，则可以造成用户信息泄露。\n\n\n   漏洞证明：  下面这张图是安卓apk文件发编译之后得到的源码信息，从源码中可以看到有接受用户输入的密码信息，这种风险极高。只要重新构造一下源码，插入黑客自己的远程服务器地址，然后重新编译打包。用户输入的密码就会被盗取\n\n下面这张图是吧整个apk反编译之后的class文件。经过简单读源码后发现，类似上图中说的问题次apk中很多地方都存在。比如\npublic void onCreate()  {    n.d(\"BMapApiDemoApp\", \"onCreate\");    a = this;    this.d = new BMapManager(this);    this.d.init(\"EF5DF9AE8B1CA011586D15934EBF17E6217E2D5A\", new b());    this.d.getLocationManager().setNotifyInternal(10, 5);    com.hyx.maizuo.server.a.a.a = com.hyx.maizuo.server.e.b.a(getApplicationContext());    this.b = com.hyx.maizuo.advanced.b.a.a();    d locald = d.a();    locald.a(getApplicationContext());    Thread.currentThread().setUncaughtExceptionHandler(locald);    super.onCreate();  }以上代码段可以获取用户手机中的信息，如果被利用，则可以造成用户信息泄露。\n\n\n   修复方案：  做代码混淆，做apk加密处理。其它的，看漏洞确认情况再说吧！   版权声明：转载请注明来源 hkAssassin@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：10  确认时间：2015-01-16 15:15 厂商回复： 正在处理，多谢 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 10, "Ranks": null}