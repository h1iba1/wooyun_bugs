{"id": 54210, "wybug_id": "wooyun-2014-065200", "wybug_title": "折页网一个洞多种玩法（注入+任意用户无密码登录）", "wybug_corp": "zheye.cc", "wybug_author": "白非白", "wybug_date": "2014-06-17 11:27", "wybug_open_date": "2014-08-01 11:28", "wybug_type": "SQL注射漏洞", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["逻辑错误", "注入", "认证设计不合理", "设计错误", "搞笑有爱"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-06-17：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-06-19：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2014-06-29：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2014-07-09：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2014-07-19：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2014-08-01：\t细节向公众公开  简要描述： 很好玩的漏洞——注入+越权。听说折页网会发礼物，你不会让我失望的。。 详细说明：  看厂商活动中折页网活动比较频繁~so，关注一下好厂商。问题出在cookie上！看了下折页网漏洞类型，居然没有sql注入和xss，不科学。果断来一发。晚上随手注册了个帐号进行测试，发现cookie中使用uid，感觉有戏。Cookie: PHPSESSID=0rcbpio10a9o73qr4gls1v24f5; uid=3703。下面开始玩：1.访问个人中心-》设置，抓包，响应如下：（返回uid和用户名）\n\n2.输入一个'试一下有没有注入吧（输入''测试结果一样，非字符型）。\n\n3.试一下是否是整型（bingo！）\n\n\n\n数字整型注入！已确诊。sql注入太简单了，满足不了我对cookie其他作用的好奇心，那么继续测试吧。1.给数字减个1试试\n\n结果喜闻乐见，返回uid为3702的用户，那么小伙伴们开整吧3703-3702=1，就是管理员用户了！2.访问个人中心->设置，一路截断，一路替换cookie中的uid为3703-3702,来到管理员的设置页面。\n\n3.改个用户名试一下吧\n\n！！！居然要等到2015年4.那我改下职业好了。。。\n\n   漏洞证明：  如上   修复方案：  改职业纯属恶作剧，莫当真我已经在猜测礼物是啥了。。。   版权声明：转载请注明来源 白非白@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：20  确认时间：2014-06-19 10:07 厂商回复： 谢谢对折页网的关注。我们会继续努力。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 20, "Ranks": null}