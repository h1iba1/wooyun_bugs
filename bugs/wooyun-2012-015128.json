{"id": 16083, "wybug_id": "wooyun-2012-015128", "wybug_title": "果壳主站SQL注射，可获取站内用户数据", "wybug_corp": "果壳传媒", "wybug_author": "牛奶坦克", "wybug_date": "2012-11-22 18:07", "wybug_open_date": "2012-11-27 18:08", "wybug_type": "SQL注射漏洞", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "漏洞已经通知厂商但是厂商忽略漏洞", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["用户敏感信息泄漏", "注射"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2012-11-22：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2012-11-27：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 一直很喜欢果壳网，看了下 http://www.wooyun.org/corps/%E6%9E%9C%E5%A3%B3%E4%BC%A0%E5%AA%92 没啥给力的漏洞，就简单的看看主站，结果发现了一个注射，PostgreSQL的！看到了个用户信息，密码和access_token的表。。。 详细说明：  注射点：\nhttp://www.guokr.com/group/posts/38/members/index.php?wd=123'%20and%20(SELECT%20COUNT(DISTINCT(datname))%20FROM%20pg_database)%3E5%20and%20'a'='a\n盲注，用sqlmap的sqlshell跑跑\n\n挺高的版本。\n\n\n\n\navailable databases [6]:[*] backend[*] postgres[*] template0[*] template1[*] watson[*] youth\n没什么太有价值的东西，准备闪人的时候又like一下含有password字段的表，结果就这一次查询，改变了检测结果。\n\nuser_alias这个表里有啥？\n\n   漏洞证明：  此表记录数量：\n\n60多万额，，查询5条出来\n\n结束，今天到这里，感觉问题不是单独存在的，这次这个点稍微有点难利用。两个在zone看到的PostgreSQL技巧也没用上，惭愧啊。   修复方案：  字符型注射检测。   版权声明：转载请注明来源 牛奶坦克@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：无影响厂商忽略 忽略时间：2012-11-27 18:08 厂商回复：  漏洞Rank：16  (WooYun评价) 最新状态： 2012-11-30：这个问题已经修复了，感谢大家对果壳的关心/关注和反馈。  ", "replys": "漏洞评价：\n评论\n     2012-11-22 18:20 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:18        | 当我又回首一切,这个世界会好吗?)\t\t \n  毫不留情的关注    \n     2012-11-22 18:31 |    \t\tqiaoy \t\t\t( 普通白帽子  |\t\t\t        Rank:110 漏洞数:16        )\t\t \n  毫不留情的Mark    \n     2012-11-22 19:00 |    \t\t斯文的鸡蛋 \t\t\t( 普通白帽子  |\t\t\t        Rank:173 漏洞数:41        | 我在这头，你在那头~)\t\t \n  你妹！我在那有账号的    \n     2012-11-22 19:59 |    \t\txsser  \t\t\t( 普通白帽子  |\t\t\t        Rank:254 漏洞数:18        | 当我又回首一切,这个世界会好吗?)\t\t \n  @斯文的鸡蛋 果壳性情嘛    \n     2012-11-22 20:18 |    \t\tse55i0n \t\t\t( 普通白帽子  |\t\t\t        Rank:1567 漏洞数:173        )\t\t \n  围观~    \n     2012-11-22 21:34 |    \t\tPasser_by \t\t\t( 实习白帽子  |\t\t\t        Rank:97 漏洞数:21        | 问题真实存在但是影响不大（腾讯微博Passer...)\t\t \n  发现果壳网前面的漏洞全都是已忽略啊！    \n     2012-11-22 21:43 |    \t\t小菜 \t\t\t( 路人 |\t\t\t        Rank:6 漏洞数:2        | 菜鸟一个，等有一天变成大牛了，还是叫小菜...)\t\t \n  有没有明文密码啊？    \n     2012-11-22 22:05 |    \t\t斯文的鸡蛋 \t\t\t( 普通白帽子  |\t\t\t        Rank:173 漏洞数:41        | 我在这头，你在那头~)\t\t \n  @xsser 都有~嘿嘿    \n     2012-11-22 22:06 |    \t\t斯文的鸡蛋 \t\t\t( 普通白帽子  |\t\t\t        Rank:173 漏洞数:41        | 我在这头，你在那头~)\t\t \n  @xsser 苦逼了，我还是果壳达人= =！    \n     2012-11-27 19:16 |    \t\tSunshine \t\t\t( 实习白帽子  |\t\t\t        Rank:51 漏洞数:10        | Nothing.)\t\t \n  啥叫无影响。。。    \n     2012-11-27 20:17 |    \t\tkrbl \t\t\t( 实习白帽子  |\t\t\t        Rank:97 漏洞数:13        | ♦♠♣♫♪☼☻☺ஐ♥♀♂☆๑۩۞۩๑☜☞...)\t\t \n  毫不留情的忽略~~    \n     2012-11-27 20:47 |    \t\t斯文的鸡蛋 \t\t\t( 普通白帽子  |\t\t\t        Rank:173 漏洞数:41        | 我在这头，你在那头~)\t\t \n  毫不留情的忽略~果壳啊，对你忒失望    \n     2012-11-27 23:02 |    \t\tRona \t\t\t( 实习白帽子  |\t\t\t        Rank:88 漏洞数:23        | test)\t\t \n  这么密码，能破吗？有啥方法    \n     2012-11-28 08:57 |    \t\tqiaoy \t\t\t( 普通白帽子  |\t\t\t        Rank:110 漏洞数:16        )\t\t \n  对果壳的好印象一落千丈，忽略了偷着改有意思吗？    \n     2012-11-28 09:59 |    \t\tRona \t\t\t( 实习白帽子  |\t\t\t        Rank:88 漏洞数:23        | test)\t\t \n  @qiaoy 没改，依然能拖。    \n     2012-11-28 11:04 |    \t\tqiaoy \t\t\t( 普通白帽子  |\t\t\t        Rank:110 漏洞数:16        )\t\t \n  @Rona 试了一下，果然还未修补。。。。这真令人搞不懂。。。。    \n     2012-11-30 14:37 |    \t\t果壳传媒(乌云厂商)\t\t \n  我接手这里的问题处理，这个问题已经知道了，乌云这边我们会一步一步的处理，同时感谢大家的关注和反馈    \n     2012-11-30 15:04 |    \t\t果壳传媒(乌云厂商)\t\t \n  @Rona @qiaoy @斯文的鸡蛋 @krbl @Sunshine @xsser @se55i0n @小菜已经修复了，感谢大家的关注和反馈    \n     2012-11-30 15:16 |    \t\tRona \t\t\t( 实习白帽子  |\t\t\t        Rank:88 漏洞数:23        | test)\t\t \n  @果壳传媒 这态度不错，挺喜欢果壳的。    \n     2012-11-30 18:03 |    \t\t牛奶坦克 \t\t\t( 普通白帽子  |\t\t\t        Rank:355 漏洞数:21        | 晚安,牛奶)\t\t \n  @果壳传媒 为啥不确认的。。。    \n     2012-12-03 16:27 |    \t\t果壳传媒(乌云厂商)\t\t \n  @牛奶坦克 乌云上面5天没有动静的BUG自动变成忽略了，这是我们的疏忽，不过我们已经做出更正，正在处理大家报的BUG，感谢大家的反馈了    \n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}