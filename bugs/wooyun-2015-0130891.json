{"id": 68017, "wybug_id": "wooyun-2015-0130891", "wybug_title": "eduwind一枚sql注入(不需要登录)", "wybug_corp": "eduwind.com", "wybug_author": "不能忍", "wybug_date": "2015-08-03 11:40", "wybug_open_date": "2015-11-06 11:42", "wybug_type": "SQL注射漏洞", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "漏洞已经通知厂商但是厂商忽略漏洞", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2015-08-03：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2015-08-08：\t厂商主动忽略漏洞，细节向第三方安全合作伙伴开放\t\t\t\t\t\t\t\t\t2015-10-02：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2015-10-12：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2015-10-22：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2015-11-06：\t细节向公众公开  简要描述： 我收集了一下之前提交的那些sql注入，保证了这个sql注入不重复。。 详细说明：  漏洞文件： protected/modules/group/controllers/indexController.php     //341行public function actionCategory($categoryId=0){\t$category = Category::model()->findByPk($categoryId);\tif($categoryId!=0):\t$dataProvider=new CActiveDataProvider('Group',array(                'pagination'=>array('pageSize'=>24),                'criteria'=>array(                    'with'=>array('user'),                    'condition'=>'t.status=\"ok\" and categoryId='.$categoryId,                    'order'=>'t.memberNum desc,t.addTime desc'                    )                    ));                    else:                    $dataProvider=new CActiveDataProvider('Group',array(                'pagination'=>array('pageSize'=>24),                'criteria'=>array(                    'with'=>array('user'),                    'condition'=>'t.status=\"ok\"',                    'order'=>'t.memberNum desc,t.addTime desc'                    )                    ));                    endif;                    $firstCategories = Category::model()->findAllByAttributes(array('type'=>'group','parentId'=>0));                    $this->render('category',array(            'dataProvider'=>$dataProvider,            'myGroupDataProvider'=>$this->getMyGroupDataProvider(),            'category'=>$category,            'firstCategories'=>$firstCategories,            'categoryId'=>$categoryId,                    ));}actionCategory函数public function actionCategory($categoryId=0)这里虽然设置了默认值，但是事实上我们知道有值的时候还是能传进去的'condition'=>'t.status=\"ok\" and categoryId='.$categoryId,这里作为sql语句的一部分是直接传进去了。这个是yii的框架，我就忽略其他代码了！   漏洞证明：  http://localhost/index.php?r=group/index/category&categoryId=1%27也可以拿这个站做测试：http://study.jitocn.com/index.php?r=group/index/category&categoryId=1%27\n\n\n\n   修复方案：     版权声明：转载请注明来源 不能忍@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：无影响厂商忽略 忽略时间：2015-11-06 11:42 厂商回复：  漏洞Rank：4  (WooYun评价) 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}