{"id": 59570, "wybug_id": "wooyun-2013-046884", "wybug_title": "家家乐购修改任意用户密码", "wybug_corp": "家家乐购", "wybug_author": "mr_rf", "wybug_date": "2013-12-24 12:19", "wybug_open_date": "2014-02-07 12:20", "wybug_type": "设计缺陷/逻辑错误", "wybug_level": "低", "wybug_rank_0": "5", "wybug_status": "未联系到厂商或者厂商积极忽略", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["敏感接口缺乏校验", "越权操作", "用户敏感信息泄露"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-12-24：\t积极联系厂商并且等待厂商认领中，细节不对外公开\t\t\t\t\t\t\t\t\t2014-02-07：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 家家乐购网站存在可修改任意用户密码漏洞，且用户信息明文传输。 详细说明：  首先，我们来注册两个测试用的账户mr_rfabc@163.com和rm_rfcba@163.com，并获取这两个用户的uid， mr_rfabc@163.com ：uid = 203930  rm_rfcba@163.com ：uid = 203933其次，我们选择mr_rfabc@163.com为攻击者，rm_rfcba@163.com为受害者。攻击者mr_rfabc@163.com开始行动：1、输入已经注册的邮箱mr_rfabc@163.com，准找回密码。\n\n2、成功发送找回密码的链接到邮箱。\n\n\n\n3、重置密码。\n\n4、设代理，抓包，看看重置密码的请求。我们看到referer里有uid，post data里有new_password和user_id，这里的user_id就是uid。\n\n5、修改referer里的uid，post data里的new_password和user_id。这里，我们把mr_rfabc@163.com 的uid = 203930改为rm_rfcba@163.com的uid = 203933，更新new_password为abc123456789。\n\n6、看看效果。我们使用账户：rm_rfcba@163.com，密码：abc123456789进行登录，看看是否成功修改了密码。\n\n成功修改了rm_rfcba@163.com用户的密码哦~！\n\n遍历uid，就能修改所有注册用户的密码哦~~！rm_rfcba@163.com受害者：1、查看并重置下自己的个人资料：\n\n2、设代理，抓包，看看完善个人资料的请求。\n\n用户信息竟然明文传输哦~！   漏洞证明：  见详细说明   修复方案：  控制权限啊，加密啊。   版权声明：转载请注明来源 mr_rf@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 未能联系到厂商或者厂商积极拒绝  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}