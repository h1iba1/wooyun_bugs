{"id": 16516, "wybug_id": "wooyun-2012-012510", "wybug_title": "电信云呼叫中心命令执行，大量用户信息泄露", "wybug_corp": "中国电信", "wybug_author": "NiceWorm", "wybug_date": "2012-09-21 12:33", "wybug_open_date": "2012-11-05 12:34", "wybug_type": "命令执行", "wybug_level": "中", "wybug_rank_0": "7", "wybug_status": "已交由第三方合作机构(cncert国家互联网应急中心)处理", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2012-09-21：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2012-09-26：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2012-10-06：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2012-10-16：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2012-10-26：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2012-11-05：\t细节向公众公开  简要描述： struct2命令执行，由于上次没认真找。被告诉没危害。这次重新发一次。。 详细说明：  http://220.181.116.154/base/permission/login/login.action\t<property name=\"driverUrl\" value=\"jdbc:oracle:thin:@(DESCRIPTION =(ADDRESS = (PROTOCOL = TCP)(HOST = 172.16.4.142)(PORT = 1521))(CONNECT_DATA =(SERVER = DEDICATED)(SERVICE_NAME = ctcrm)(INSTANCE_NAME = ctcrm1)))\"  />\t\t<property name=\"userName\" value=\"platform\" />\t\t<property name=\"password\" value=\"platform\" />\t\t<!-- 对于oralce数据库dbSchema写成和用户名一样 -->\t\t<property name=\"dbSchema\" value=\"platform\"/>\t\t<property name=\"datasourceType\" value=\"oracle\" />\t</bean>  \t<bean id=\"sqlserver2005Config\" class=\"com.crm.framework.dao.vo.DatasourceConfig\">\t\t<property name=\"driverUrl\" value=\"jdbc:sqlserver://10.11.11.111:1433;DatabaseName=crmdb\" />\t\t<property name=\"userName\" value=\"sa\" />\t\t<property name=\"password\" value=\"woshihaoren123_\" />\t\t<property name=\"dbSchema\" value=\"dbo\"/>\t\t<property name=\"datasourceType\" value=\"sqlserver2005\" />\t</bean> \t<bean id=\"sybaseConfig\" class=\"com.crm.framework.dao.vo.DatasourceConfig\">\t\t<property name=\"driverUrl\" value=\"jdbc:sybase:Tds:10.11.11.222:5000/crmdb?charset=utf8;SELECT_OPENS_CURSOR=true;language=us_english\" />\t\t<property name=\"userName\" value=\"platform\" />\t\t<property name=\"password\" value=\"platform\" />\t\t<property name=\"dbSchema\" value=\"platform\"/>\t\t<property name=\"datasourceType\" value=\"sybase\" />\t</bean>\t<bean id=\"mysqlConfig\" class=\"com.crm.framework.dao.vo.DatasourceConfig\">\t\t<property name=\"driverUrl\" value=\"jdbc:mysql://127.0.0.1:3306/crm09\" />\t\t<property name=\"userName\" value=\"root\" />\t\t<property name=\"password\" value=\"sinosoft123\" />\t\t<property name=\"dbSchema\" value=\"crm09\"/>\t\t<property name=\"datasourceType\" value=\"mysql\" />\t</bean>   漏洞证明：  虽然找到了数据库连接字符串。但是连接不上。郁闷。由于是云呼叫中心，应该有客户端，后来找到下载地址，下载下来可以直接登陆连接。然后干些什么。\n\n\n\n\n\n\n\n然后就是大量的数据泄露吧。。客户信息\n\n\n\n   修复方案：  升级。。   版权声明：转载请注明来源 NiceWorm@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：7  确认时间：2012-09-26 03:37 厂商回复： CNVD确认漏洞情况，转由CNCERT统一协调中国电信集团公司批量进行处置。按通用软件漏洞评分，rank 7 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2012-09-21 13:11 |    \t\t瘦蛟舞  \t\t\t( 普通白帽子  |\t\t\t        Rank:687 漏洞数:78        | 铁甲依然在)\t\t \n  命令执行帝    \n     2012-09-21 13:14 |    \t\tNiceWorm \t\t\t( 普通白帽子  |\t\t\t        Rank:179 漏洞数:38        )\t\t \n  @瘦蛟舞 ~~~~(>_<)~~~~ 。。    \n     2012-09-21 14:19 |    \t\tupload \t\t\t( 普通白帽子  |\t\t\t        Rank:251 漏洞数:43        | 此处略--！)\t\t \n  太狠了    \n     2012-11-05 14:52 |    \t\tMetasploit \t\t\t( 实习白帽子  |\t\t\t        Rank:37 漏洞数:7        | http://www.metasploit.cn/)\t\t \n  电信妹纸打电话了“喂 你好 请问需要特殊服务吗？”    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 7, "Ranks": null}