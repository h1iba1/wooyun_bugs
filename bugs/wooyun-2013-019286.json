{"id": 13807, "wybug_id": "wooyun-2013-019286", "wybug_title": "BILIBILI个人空间存储型XSS（仅IE）", "wybug_corp": "bilibili.tv", "wybug_author": "blast", "wybug_date": "2013-03-25 04:10", "wybug_open_date": "2013-03-25 04:23", "wybug_type": "xss跨站脚本攻击", "wybug_level": "中", "wybug_rank_0": "6", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["持久型", "技巧"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-03-25：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-03-25：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2013-03-25：\t厂商提前公开漏洞，细节向公众公开  简要描述： BILIBILI个人空间存储型XSS，仅对IE有效 详细说明：  个人空间的富文本编辑器过滤了onXXX事件，过滤了javascript几个字，但是疏忽了这儿：在ie下<img>标签的src属性可以直接赋予javascript:xxx值在ie下javascript不一定要连起来，如果中间有几个tab字符也是无所谓的所以构造：<IMG SRC=\"jav\tascript:alert(document.cookie);\">空格处为一个tab。使用HTML模式发布，他人打开日志即会被跨。   漏洞证明：  \n\n还有一个不重要的，就是&#没有过滤，这样就可以通过构建一个<a href=\"&#106;&#97;&#118;&#97;&#115;&#99;&#114;&#105;&#112;&#116;&#58;&#97;&#108;&#101;&#114;&#116;&#40;&#39;&#88;&#83;&#83;&#39;&#41;\">点击我</a>来诱使用户点击从而被XSSXSS1：http://space.bilibili.tv/380275/3362.html次要的： http://space.bilibili.tv/380275/3363.html   修复方案：  增加富文本过滤器的过滤规则   版权声明：转载请注明来源 blast@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：低 漏洞Rank：1  确认时间：2013-03-25 04:16 厂商回复： 全部已经修正 最新状态： 2013-03-25：全部漏洞已经堵上 感谢  ", "replys": "漏洞评价：\n评论\n     2013-03-25 06:23 |    \t\terevus \t\t\t( 普通白帽子  |\t\t\t        Rank:177 漏洞数:31        | Hacked by @ringzero 我錯了)\t\t \n  不科学 我提交过了 剑心都不给我审核    \n     2013-06-20 23:21 |    \t\t银冥币 \t\t\t( 实习白帽子  |\t\t\t        Rank:35 漏洞数:21        | \"/upload/avatar/avatar_251_b.jpg\" />)\t\t \n  我擦，我中午正在利用呢，今天刚审核？    \n     2013-06-21 14:24 |    \t\t上海幻电信息科技有限公司(乌云厂商)\t\t \n  @银冥币 之前已修复 您确定您真能发出去? 如果您发现新的漏洞欢迎提交. 另: 系统监控中显示您一直在使用别人的帐号进行漏洞扫描    \n     2013-06-22 13:26 |    \t\t银冥币 \t\t\t( 实习白帽子  |\t\t\t        Rank:35 漏洞数:21        | \"/upload/avatar/avatar_251_b.jpg\" />)\t\t \n  @上海幻电信息科技有限公司 orz你就是erevus说的运(bian)维(tai)吧...全站监控系统神马的再也不敢碰b站了T_T.不过那天中午的确能发出去，test的战绩还在，能够跳转(构造特殊一点即可)，现在修复了。。    \n     2013-06-22 13:31 |    \t\t银冥币 \t\t\t( 实习白帽子  |\t\t\t        Rank:35 漏洞数:21        | \"/upload/avatar/avatar_251_b.jpg\" />)\t\t \n  @银冥币 对了，我b站的号为什么被封了- -(id银冥币    \n     2014-07-25 14:30 |    \t\t伟哥 \t\t\t( 普通白帽子  |\t\t\t        Rank:110 漏洞数:29        | 不怕流氓有文化,就怕色狼有耐心,那么一只起...)\t\t \n  @银冥币 ←_← 壮哉我大B站  不过友情检测什么的 应该不会介意吧     \n  \n\n\n", "wybug_level_fromcorp": "低", "wybug_rank_fromcorp": 1, "Ranks": null}