{"id": 60450, "wybug_id": "wooyun-2013-043291", "wybug_title": "点点网存储型XSS一枚(已成功加载Hook 以及钓鱼页面)可蠕虫 要成为二哥一样的男人 [4]", "wybug_corp": "点点网", "wybug_author": "0x_Jin", "wybug_date": "2013-11-19 10:51", "wybug_open_date": "2013-11-24 10:52", "wybug_type": "xss跨站脚本攻击", "wybug_level": "高", "wybug_rank_0": "12", "wybug_status": "漏洞已经通知厂商但是厂商忽略漏洞", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["持久型", "存储型", "类型应用", "利用技巧", "黑盒测试技巧", "技巧"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2013-11-19：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2013-11-24：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 现在很多站都存在这样的问题 ！具体的看详情吧！ 以及在有一枚任意发挥的存储型XSS下 可以做什么！  详细说明：  漏洞页面  个人博客设置 ---> 私信标题处！首先这个页面是可以他人浏览的！也就代表着他们也会同样的执行我的代码！在私信标题处未作任何过滤  而私信标题是可以显示在博客主页的！这就代表着 别人一进来我的blog就会执行我的代码！而我的代码现在可以拿cookie 做钓鱼页面！还可以让每个人给别人发私信 说 这个博客不错哦～ 然后带上我的博客地址 因为不要验证码 我只需要抓个post包 然后改下 地址就好！[二级域名].diandian.com/inbox这个就是私信的地址 那么我只要再每次发送post包后随即从数组里 拿一个二级域名 放在最前头就好了！详细的二级域名怎么来？可以去写爬虫 爬出整个点点网的用户博客 然后保存！还一个就是二级域名查询工具！如下图：\n\n显示只有三千多 应该少了很多 最好的还是爬虫去爬！我只需要写这样一个js便好了 每次二级域名都是随即从数组里拿的 我把我收集的二级域名放入数组就好了！也不用验证是否重复 多发几次也好 怕别人不会一次就点开！另外：还可以拿到用户的cookie 图片：在漏洞证明处 发出！另外:还可以自己重新再当前页面的源码上 写一个网页来覆盖 欺骗用户 达到钓鱼的效果！同样图片见漏洞证明！   漏洞证明：  cookie:\n\n钓鱼页面：\n\n好吧！虽然钓鱼页面比较简陋。。 但是也足够了 只需要证明可以自己来写代码就行了！我的代码如下：<script>location.href='javascript:\\'<html><head><title>Test</title></head><body><p style=\"font-size:50px\">0x_Jin</p></body></html>\\'';</script>只需要精心构造便可以写出一个跟你们的登陆界面 一摸一样的界面出来！而且域名同样是diandian.com 我相信 不说百分之百 至少百分之30的 用户会登陆！   修复方案：  还有两个点也没过滤 同样是在blog设置里！对用户输入的任何值 一定要做检查！一切输入都是有害的！过滤 > < ' \" \\ / & #on系列时间 script等危险标签！你们其他的地方 其实做的挺好啊 难道这里遗漏了么？   版权声明：转载请注明来源 0x_Jin@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：无影响厂商忽略 忽略时间：2013-11-24 10:52 厂商回复：  最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n     2013-11-26 09:20 |    \t\t伟哥 \t\t\t( 普通白帽子  |\t\t\t        Rank:110 漏洞数:29        | 不怕流氓有文化,就怕色狼有耐心,那么一只起...)\t\t \n  不是所有的二哥都能带的上绿帽子    \n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}