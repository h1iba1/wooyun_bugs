{"id": 48913, "wybug_id": "wooyun-2014-086326", "wybug_title": "长城汽车某商城站点中间件配置不当导致getshell(泄露部分用户信息)", "wybug_corp": "gwm.com.cn", "wybug_author": "fuckadmin", "wybug_date": "2014-12-08 09:29", "wybug_open_date": "2014-12-13 09:30", "wybug_type": "基础设施弱口令", "wybug_level": "高", "wybug_rank_0": "15", "wybug_status": "漏洞已经通知厂商但是厂商忽略漏洞", "wybug_from": "http://www.wooyun.org", "wybug_tags": ["弱口令", "安全意识不足", "后台地址泄露"], "wybug_detail": "漏洞详情 披露状态：   \t\t\t\t\t\t\t\t\t2014-12-08：\t细节已通知厂商并且等待厂商处理中\t\t\t\t\t\t\t\t\t2014-12-13：\t厂商已经主动忽略漏洞，细节向公众公开  简要描述： 故事从一个弱口令说起.... 详细说明：  #1站点：http://114.242.194.165:8080/ec-web:哈弗商城....\n\n#2问题来了\n\n进去了，上传war包\n\n#3getshell了吧\n\n#4发现数据库\n<?xml version=\"1.0\" encoding=\"UTF-8\"?><!-- $Id: mysql-ds.xml 41017 2006-02-07 14:26:14Z acoliver $ --><!--  Datasource config for MySQL using 3.0.9 available from:http://www.mysql.com/downloads/api-jdbc-stable.html--><datasources>   <local-tx-datasource>    <jndi-name>jdbc/DUOBIANDS</jndi-name>    <!-- <connection-url>jdbc:mysql://192.168.1.3:3306/dbjddb?useUnicode=true&amp;characterEncoding=utf8</connection-url> -->\t <connection-url>jdbc:mysql://localhost:3306/dbjddb?useUnicode=true&amp;characterEncoding=utf8</connection-url>    <driver-class>com.mysql.jdbc.Driver</driver-class>    <user-name>root</user-name>    <!-- <password>1Q2W3E4R5T@</password> -->\t<password>root</password>    <exception-sorter-class-name>org.jboss.resource.adapter.jdbc.vendor.MySQLExceptionSorter</exception-sorter-class-name>    <metadata>       <type-mapping>mySQL</type-mapping>    </metadata>  </local-tx-datasource></datasources>\n#5问题又来了,看看数据库有啥发现\n\n咦，有了账号、密码，去哈弗商城碰碰运气吧。\n\n\n\n纳尼，还有订单信息\n\n#6主站哈弗商城还存在未授权访问\n\n还有admin-console？   漏洞证明：  #1站点：http://114.242.194.165:8080/ec-web:哈弗商城....\n\n#2问题来了\n\n进去了，上传war包\n\n#3getshell了吧\n\n#4发现数据库\n<?xml version=\"1.0\" encoding=\"UTF-8\"?><!-- $Id: mysql-ds.xml 41017 2006-02-07 14:26:14Z acoliver $ --><!--  Datasource config for MySQL using 3.0.9 available from:http://www.mysql.com/downloads/api-jdbc-stable.html--><datasources>   <local-tx-datasource>    <jndi-name>jdbc/DUOBIANDS</jndi-name>    <!-- <connection-url>jdbc:mysql://192.168.1.3:3306/dbjddb?useUnicode=true&amp;characterEncoding=utf8</connection-url> -->\t <connection-url>jdbc:mysql://localhost:3306/dbjddb?useUnicode=true&amp;characterEncoding=utf8</connection-url>    <driver-class>com.mysql.jdbc.Driver</driver-class>    <user-name>root</user-name>    <!-- <password>1Q2W3E4R5T@</password> -->\t<password>root</password>    <exception-sorter-class-name>org.jboss.resource.adapter.jdbc.vendor.MySQLExceptionSorter</exception-sorter-class-name>    <metadata>       <type-mapping>mySQL</type-mapping>    </metadata>  </local-tx-datasource></datasources>\n#5问题又来了,看看数据库有啥发现\n\n咦，有了账号、密码，去哈弗商城碰碰运气吧。\n\n\n\n纳尼，还有订单信息\n\n#6主站哈弗商城还存在未授权访问\n\n还有admin-console？   修复方案：  1.项目上线之前，对信息安全考虑不足2.既然放于外网了，起码也得加上权限控制   版权声明：转载请注明来源 fuckadmin@乌云\n ", "wybug_reply": "漏洞回应  厂商回应： 危害等级：无影响厂商忽略 忽略时间：2014-12-13 09:30 厂商回复：  最新状态： 暂无  ", "replys": "漏洞评价：\n评论\n  \n\n\n", "wybug_level_fromcorp": "无影响厂商忽略", "wybug_rank_fromcorp": 0, "Ranks": null}